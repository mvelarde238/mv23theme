"use strict";function ownKeys(t,e){var n,i=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,n)),i}function _objectSpread(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ownKeys(Object(n),!0).forEach(function(e){_defineProperty(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArray(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _defineProperty(e,t,n){return(t=_toPropertyKey(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_unsupportedIterableToArray(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArrayLimit(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,o,a,r,s=[],l=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(i=a.call(n)).done)&&(s.push(i.value),s.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(r=n.return(),Object(r)!==r))return}finally{if(c)throw o}}return s}}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _createForOfIteratorHelper(e,t){var n,i,o,a,r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(r)return i=!(n=!0),{s:function(){r=r.call(e)},n:function(){var e=r.next();return n=e.done,e},e:function(e){i=!0,o=e},f:function(){try{n||null==r.return||r.return()}finally{if(i)throw o}}};if(Array.isArray(e)||(r=_unsupportedIterableToArray(e))||t&&e&&"number"==typeof e.length)return r&&(e=r),a=0,{s:t=function(){},n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:t};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){var n;if(e)return"string"==typeof e?_arrayLikeToArray(e,t):"Map"===(n="Object"===(n=Object.prototype.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function _get(){return(_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var i=_superPropBase(e,t);if(i)return(i=Object.getOwnPropertyDescriptor(i,t)).get?i.get.call(arguments.length<3?e:n):i.value}).apply(this,arguments)}function _superPropBase(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=_getPrototypeOf(e)););return e}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function _createSuper(n){var i=_isNativeReflectConstruct();return function(){var e,t=_getPrototypeOf(n);return _possibleConstructorReturn(this,i?(e=_getPrototypeOf(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments))}}function _possibleConstructorReturn(e,t){if(t&&("object"===_typeof(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(e)}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,_toPropertyKey(i.key),i)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function _toPropertyKey(e){e=_toPrimitive(e,"string");return"symbol"===_typeof(e)?e:String(e)}function _toPrimitive(e,t){if("object"!==_typeof(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);n=n.call(e,t||"default");if("object"!==_typeof(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(){function a(e,t){return t=t||k,R.test(e)?t.getElementsByClassName(e.slice(1)):F.test(e)?t.getElementsByTagName(e):t.querySelectorAll(e)}function r(e){var t;return A||((t=(A=k.implementation.createHTMLDocument(null)).createElement("base")).href=k.location.href,A.head.appendChild(t)),A.body.innerHTML=e,A.body.childNodes}function c(e){"loading"!==k.readyState?e():k.addEventListener("DOMContentLoaded",e)}function n(e,t){if(e){if(e.cash&&e!==x)return e;var n,i=e,o=0;if(M(e))i=B.test(e)?k.getElementById(e.slice(1)):j.test(e)?r(e):a(e,t);else if(O(e))return c(e),this;if(i)if(i.nodeType||i===x)this[0]=i,this.length=1;else for(n=this.length=i.length;o<n;o++)this[o]=i[o]}return this}function s(e,t){return new n(e,t)}function l(e,t){for(var n=e.length,i=0;i<n&&!1!==t.call(e[i],e[i],i,e);i++);}function o(e,t){var n=e&&(e.matches||e.webkitMatchesSelector||e.mozMatchesSelector||e.msMatchesSelector||e.oMatchesSelector);return!!n&&n.call(e,t)}function e(t){return M(t)?o:t.cash?function(e){return t.is(e)}:function(e,t){return e===t}}function u(e){return s(T.call(e).filter(function(e,t,n){return n.indexOf(e)===t}))}function h(e){return e[P]=e[P]||{}}function d(e,t,n){return h(e)[t]=n}function f(e,t){var n=h(e);return void 0===n[t]&&(n[t]=e.dataset?e.dataset[t]:s(e).attr("data-"+t)),n[t]}function p(e){return M(e)&&e.match(H)}function g(e,t){return e.classList?e.classList.contains(t):new RegExp("(^| )"+t+"( |$)","gi").test(e.className)}function v(e,t,n){e.classList?e.classList.add(t):n.indexOf(" "+t+" ")&&(e.className+=" "+t)}function m(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(t,"")}function i(e,t){return parseInt(x.getComputedStyle(e[0],null)[t],10)||0}function y(t,n,e){var i=f(t,"_cashEvents"),i=i&&i[n];i&&(e?(t.removeEventListener(n,e),0<=(e=i.indexOf(e))&&i.splice(e,1)):l(i,function(e){t.removeEventListener(n,e)}))}function b(e,t){return"&"+encodeURIComponent(e)+"="+encodeURIComponent(t).replace(/%20/g,"+")}function _(e){var t,n,i,o=e.type;if(!o)return null;switch(o.toLowerCase()){case"select-one":return 0<=(i=(n=e).selectedIndex)?n.options[i].value:null;case"select-multiple":return t=[],l(e.options,function(e){e.selected&&t.push(e.value)}),t.length?t:null;case"radio":case"checkbox":return e.checked?e.value:null;default:return e.value||null}}function w(t,i,o){var e=M(i);!e&&i.length?l(i,function(e){return w(t,e,o)}):l(t,e?function(e){return e.insertAdjacentHTML(o?"afterbegin":"beforeend",i)}:function(e,t){var n;e=e,t=0===t?i:i.cloneNode(!0),(n=o)?(n=e.childNodes[0],e.insertBefore(t,n)):e.appendChild(t)})}var k,x,t,T,S,C,E,O,M,B,R,j,F,A,L,P,H,I,z,D;window.cash=(k=document,x=window,t=Array.prototype,T=t.slice,S=t.filter,C=t.push,E=function(){},O=function(e){return _typeof(e)===_typeof(E)&&e.call},M=function(e){return _typeof(e)===_typeof("")},B=/^#[\w-]*$/,R=/^\.[\w-]*$/,j=/<.+>/,F=/^\w+$/,L=s.fn=s.prototype=n.prototype={cash:!0,length:0,push:C,splice:t.splice,map:t.map,init:n},Object.defineProperty(L,"constructor",{value:s}),s.parseHTML=r,s.noop=E,s.isFunction=O,s.isString=M,s.extend=L.extend=function(e){e=e||{};var t=T.call(arguments),n=t.length,i=1;for(1===t.length&&(e=this,i=0);i<n;i++)if(t[i])for(var o in t[i])t[i].hasOwnProperty(o)&&(e[o]=t[i][o]);return e},s.extend({merge:function(e,t){for(var n=+t.length,i=e.length,o=0;o<n;i++,o++)e[i]=t[o];return e.length=i,e},each:l,matches:o,unique:u,isArray:Array.isArray,isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)}}),P=s.uid="_cash"+Date.now(),L.extend({data:function(t,n){if(M(t))return void 0===n?f(this[0],t):this.each(function(e){return d(e,t,n)});for(var e in t)this.data(e,t[e]);return this},removeData:function(i){return this.each(function(e){var t,n;t=i,(n=h(e=e))?delete n[t]:e.dataset?delete e.dataset[t]:s(e).removeAttr("data-"+name)})}}),H=/\S+/g,L.extend({addClass:function(e){var i=p(e);return i?this.each(function(t){var n=" "+t.className+" ";l(i,function(e){v(t,e,n)})}):this},attr:function(t,n){if(t){if(M(t))return void 0===n?this[0]?this[0].getAttribute?this[0].getAttribute(t):this[0][t]:void 0:this.each(function(e){e.setAttribute?e.setAttribute(t,n):e[t]=n});for(var e in t)this.attr(e,t[e]);return this}},hasClass:function(e){var t=!1,n=p(e);return n&&n.length&&this.each(function(e){return!(t=g(e,n[0]))}),t},prop:function(t,n){if(M(t))return void 0===n?this[0][t]:this.each(function(e){e[t]=n});for(var e in t)this.prop(e,t[e]);return this},removeAttr:function(t){return this.each(function(e){e.removeAttribute?e.removeAttribute(t):delete e[t]})},removeClass:function(e){var n;return arguments.length?(n=p(e))?this.each(function(t){l(n,function(e){m(t,e)})}):this:this.attr("class","")},removeProp:function(t){return this.each(function(e){delete e[t]})},toggleClass:function(e,t){var i;return void 0!==t?this[t?"addClass":"removeClass"](e):(i=p(e))?this.each(function(t){var n=" "+t.className+" ";l(i,function(e){g(t,e)?m(t,e):v(t,e,n)})}):this}}),L.extend({add:function(e,t){return u(s.merge(this,s(e,t)))},each:function(e){return l(this,e),this},eq:function(e){return s(this.get(e))},filter:function(t){var n;return t?(n=O(t)?t:e(t),s(S.call(this,function(e){return n(e,t)}))):this},first:function(){return this.eq(0)},get:function(e){return void 0===e?T.call(this):e<0?this[e+this.length]:this[e]},index:function(e){var t=(e?s(e):this)[0],e=e?this:s(t).parent().children();return T.call(e).indexOf(t)},last:function(){return this.eq(-1)}}),I=function(){var t=/(?:^\w|[A-Z]|\b\w)/g,n=/[\s-_]+/g;return function(e){return e.replace(t,function(e,t){return e[0===t?"toLowerCase":"toUpperCase"]()}).replace(n,"")}}(),z=function(){var n={},i=document.createElement("div").style;return function(t){var e;return t=I(t),n[t]||(e=t.charAt(0).toUpperCase()+t.slice(1),l((t+" "+["webkit","moz","ms","o"].join(e+" ")+e).split(" "),function(e){if(e in i)return n[e]=t=n[t]=e,!1})),n[t]}}(),s.prefixedProp=z,s.camelCase=I,L.extend({css:function(t,n){if(M(t))return t=z(t),1<arguments.length?this.each(function(e){return e.style[t]=n}):x.getComputedStyle(this[0])[t];for(var e in t)this.css(e,t[e]);return this}}),l(["Width","Height"],function(t){var e=t.toLowerCase();L[e]=function(){return this[0].getBoundingClientRect()[e]},L["inner"+t]=function(){return this[0]["client"+t]},L["outer"+t]=function(e){return this[0]["offset"+t]+(e?i(this,"margin"+("Width"===t?"Left":"Top"))+i(this,"margin"+("Width"===t?"Right":"Bottom")):0)}}),L.extend({off:function(t,n){return this.each(function(e){return y(e,t,n)})},on:function(r,n,s,l){var i,e;if(M(r))return O(n)&&(s=n,n=null),"ready"===r?(c(s),this):(n&&(i=s,s=function(e){for(var t=e.target;!o(t,n);){if(t===this||null===t)return!1;t=t.parentNode}t&&i.call(t,e)}),this.each(function(e){var t,n,i,o,a=s;n=r,i=a=l?function(){s.apply(this,arguments),y(e,r,a)}:s,(o=f(t=e,"_cashEvents")||d(t,"_cashEvents",{}))[n]=o[n]||[],o[n].push(i),t.addEventListener(n,i)}));for(e in r)this.on(e,n,r[e]);return this},one:function(e,t,n){return this.on(e,t,n,!0)},ready:c,trigger:function(e,t){var n;if(document.createEvent)return(n=document.createEvent("HTMLEvents")).initEvent(e,!0,!1),n=this.extend(n,t),this.each(function(e){return e.dispatchEvent(n)})}}),L.extend({serialize:function(){var i="";return l(this[0].elements||this,function(e){if(!e.disabled&&"FIELDSET"!==e.tagName){var t=e.name;switch(e.type.toLowerCase()){case"file":case"reset":case"submit":case"button":break;case"select-multiple":var n=_(e);null!==n&&l(n,function(e){i+=b(t,e)});break;default:n=_(e);null!==n&&(i+=b(t,n))}}}),i.substr(1)},val:function(t){return void 0===t?_(this[0]):this.each(function(e){return e.value=t})}}),L.extend({after:function(e){return s(e).insertAfter(this),this},append:function(e){return w(this,e),this},appendTo:function(e){return w(s(e),this),this},before:function(e){return s(e).insertBefore(this),this},clone:function(){return s(this.map(function(e){return e.cloneNode(!0)}))},empty:function(){return this.html(""),this},html:function(e){var t;return void 0===e?this[0].innerHTML:(t=e.nodeType?e[0].outerHTML:e,this.each(function(e){return e.innerHTML=t}))},insertAfter:function(e){var o=this;return s(e).each(function(e,t){var n=e.parentNode,i=e.nextSibling;o.each(function(e){n.insertBefore(0===t?e:e.cloneNode(!0),i)})}),this},insertBefore:function(e){var o=this;return s(e).each(function(t,n){var i=t.parentNode;o.each(function(e){i.insertBefore(0===n?e:e.cloneNode(!0),t)})}),this},prepend:function(e){return w(this,e,!0),this},prependTo:function(e){return w(s(e),this,!0),this},remove:function(){return this.each(function(e){if(e.parentNode)return e.parentNode.removeChild(e)})},text:function(t){return void 0===t?this[0].textContent:this.each(function(e){return e.textContent=t})}}),D=k.documentElement,L.extend({position:function(){var e=this[0];return{left:e.offsetLeft,top:e.offsetTop}},offset:function(){var e=this[0].getBoundingClientRect();return{top:e.top+x.pageYOffset-D.clientTop,left:e.left+x.pageXOffset-D.clientLeft}},offsetParent:function(){return s(this[0].offsetParent)}}),L.extend({children:function(t){var n=[];return this.each(function(e){C.apply(n,e.children)}),n=u(n),t?n.filter(function(e){return o(e,t)}):n},closest:function(e){return!e||this.length<1?s():this.is(e)?this.filter(e):this.parent().closest(e)},is:function(t){var n,i;return!!t&&(n=!1,i=e(t),this.each(function(e){return!(n=i(e,t))}),n)},find:function(t){var n;return!t||t.nodeType?s(t&&this.has(t).length?t:null):(n=[],this.each(function(e){C.apply(n,a(t,e))}),u(n))},has:function(t){var e=M(t)?function(e){return 0!==a(t,e).length}:function(e){return e.contains(t)};return this.filter(e)},next:function(){return s(this[0].nextElementSibling)},not:function(t){var n;return t?(n=e(t),this.filter(function(e){return!n(e,t)})):this},parent:function(){var t=[];return this.each(function(e){e&&e.parentNode&&t.push(e.parentNode)}),u(t)},parents:function(t){var n,i=[];return this.each(function(e){for(n=e;n&&n.parentNode&&n!==k.body.parentNode;)n=n.parentNode,t&&!o(n,t)||i.push(n)}),u(i)},prev:function(){return s(this[0].previousElementSibling)},siblings:function(e){var e=this.parent().children(e),t=this[0];return e.filter(function(e){return e!==t})}}),s)}();var Component=function(){function i(e,t,n){_classCallCheck(this,i),t instanceof Element||console.error(Error(t+" is not an HTML Element"));e=e.getInstance(t);e&&e.destroy(),this.el=t,this.$el=cash(t)}return _createClass(i,null,[{key:"init",value:function(e,t,n){var i=null;if(t instanceof Element)i=new e(t,n);else if(t&&(t.jquery||t.cash||t instanceof NodeList)){for(var o=[],a=0;a<t.length;a++)o.push(new e(t[a],n));i=o}return i}}]),i}(),docHandleKeydown=(!function(e){e.Package?M={}:e.M={},M.jQueryLoaded=!!e.jQuery}(window),"function"==typeof define&&define.amd?define("M",[],function(){return M}):"undefined"==typeof exports||exports.nodeType||((exports="undefined"!=typeof module&&!module.nodeType&&module.exports?module.exports=M:exports).default=M),M.version="1.0.0",M.keys={TAB:9,ENTER:13,ESC:27,ARROW_UP:38,ARROW_DOWN:40},M.tabPressed=!1,M.keyDown=!1,function(e){M.keyDown=!0,e.which!==M.keys.TAB&&e.which!==M.keys.ARROW_DOWN&&e.which!==M.keys.ARROW_UP||(M.tabPressed=!0)}),docHandleKeyup=function(e){M.keyDown=!1,e.which!==M.keys.TAB&&e.which!==M.keys.ARROW_DOWN&&e.which!==M.keys.ARROW_UP||(M.tabPressed=!1)},docHandleFocus=function(e){M.keyDown&&document.body.classList.add("keyboard-focused")},docHandleBlur=function(e){document.body.classList.remove("keyboard-focused")},getTime=(document.addEventListener("keydown",docHandleKeydown,!0),document.addEventListener("keyup",docHandleKeyup,!0),document.addEventListener("focus",docHandleFocus,!0),document.addEventListener("blur",docHandleBlur,!0),M.initializeJqueryWrapper=function(i,o,a){jQuery.fn[o]=function(t){var n,e;return i.prototype[t]?(n=Array.prototype.slice.call(arguments,1),"get"===t.slice(0,3)?(e=this.first()[0][a])[t].apply(e,n):this.each(function(){var e=this[a];e[t].apply(e,n)})):"object"!==_typeof(t)&&t?void jQuery.error("Method ".concat(t," does not exist on jQuery.").concat(o)):(i.init(this,t),this)}},M.AutoInit=function(e){var t,e=e||document.body,n={Autocomplete:e.querySelectorAll(".autocomplete:not(.no-autoinit)"),Carousel:e.querySelectorAll(".carousel:not(.no-autoinit)"),Chips:e.querySelectorAll(".chips:not(.no-autoinit)"),Collapsible:e.querySelectorAll(".collapsible:not(.no-autoinit)"),Datepicker:e.querySelectorAll(".datepicker:not(.no-autoinit)"),Dropdown:e.querySelectorAll(".dropdown-trigger:not(.no-autoinit)"),Materialbox:e.querySelectorAll(".materialboxed:not(.no-autoinit)"),Modal:e.querySelectorAll(".modal:not(.no-autoinit)"),Parallax:e.querySelectorAll(".parallax:not(.no-autoinit)"),Pushpin:e.querySelectorAll(".pushpin:not(.no-autoinit)"),ScrollSpy:e.querySelectorAll(".scrollspy:not(.no-autoinit)"),FormSelect:e.querySelectorAll("select:not(.no-autoinit)"),Sidenav:e.querySelectorAll(".sidenav:not(.no-autoinit)"),Tabs:e.querySelectorAll(".tabs:not(.no-autoinit)"),TapTarget:e.querySelectorAll(".tap-target:not(.no-autoinit)"),Timepicker:e.querySelectorAll(".timepicker:not(.no-autoinit)"),Tooltip:e.querySelectorAll(".tooltipped:not(.no-autoinit)"),FloatingActionButton:e.querySelectorAll(".fixed-action-btn:not(.no-autoinit)")};for(t in n)M[t].init(n[t])},M.objectSelectorString=function(e){return((e.prop("tagName")||"")+(e.attr("id")||"")+(e.attr("class")||"")).replace(/\s/g,"")},M.guid=function(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return function(){return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()}}(),M.escapeHash=function(e){return e.replace(/(:|\.|\[|\]|,|=|\/)/g,"\\$1")},M.elementOrParentIsFixed=function(e){var e=$(e),e=e.add(e.parents()),t=!1;return e.each(function(){if("fixed"===$(this).css("position"))return!(t=!0)}),t},M.checkWithinContainer=function(e,t,n){var i={top:!1,right:!1,bottom:!1,left:!1},o=e.getBoundingClientRect(),a=e===document.body?Math.max(o.bottom,window.innerHeight):o.bottom,r=e.scrollLeft,e=e.scrollTop,r=t.left-r,e=t.top-e;return(r<o.left+n||r<n)&&(i.left=!0),(r+t.width>o.right-n||r+t.width>window.innerWidth-n)&&(i.right=!0),(e<o.top+n||e<n)&&(i.top=!0),(e+t.height>a-n||e+t.height>window.innerHeight-n)&&(i.bottom=!0),i},M.checkPossibleAlignments=function(e,t,n,i){var o={top:!0,right:!0,bottom:!0,left:!0,spaceOnTop:null,spaceOnRight:null,spaceOnBottom:null,spaceOnLeft:null},a="visible"===getComputedStyle(t).overflow,r=t.getBoundingClientRect(),s=Math.min(r.height,window.innerHeight),r=Math.min(r.width,window.innerWidth),e=e.getBoundingClientRect(),l=t.scrollLeft,t=t.scrollTop,l=n.left-l,c=n.top-t,t=n.top+e.height-t;return o.spaceOnRight=a?window.innerWidth-(e.left+n.width):r-(l+n.width),o.spaceOnRight<0&&(o.left=!1),o.spaceOnLeft=a?e.right-n.width:l-n.width+e.width,o.spaceOnLeft<0&&(o.right=!1),o.spaceOnBottom=a?window.innerHeight-(e.top+n.height+i):s-(c+n.height+i),o.spaceOnBottom<0&&(o.top=!1),o.spaceOnTop=a?e.bottom-(n.height+i):t-(n.height-i),o.spaceOnTop<0&&(o.bottom=!1),o},M.getOverflowParent=function(e){return null==e?null:e===document.body||"visible"!==getComputedStyle(e).overflow?e:M.getOverflowParent(e.parentElement)},M.getIdFromTrigger=function(e){var t=e.getAttribute("data-target");return t=t||((t=e.getAttribute("href"))?t.slice(1):"")},M.getDocumentScrollTop=function(){return window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0},M.getDocumentScrollLeft=function(){return window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0},Date.now||function(){return(new Date).getTime()}),$jscomp=(M.throttle=function(n,i,o){function a(){u=!1===o.leading?0:getTime(),c=null,l=n.apply(r,s),r=s=null}var r,s,l,c=null,u=0;o=o||{};return function(){var e=getTime(),t=(u||!1!==o.leading||(u=e),i-(e-u));return r=this,s=arguments,t<=0?(clearTimeout(c),c=null,u=e,l=n.apply(r,s),r=s=null):c||!1===o.trailing||(c=setTimeout(a,t)),l}},{scope:{}}),$jscomp$this=($jscomp.defineProperty="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){if(n.get||n.set)throw new TypeError("ES3 does not support getters and setters.");e!=Array.prototype&&e!=Object.prototype&&(e[t]=n.value)},$jscomp.getGlobal=function(e){return("undefined"==typeof window||window!==e)&&"undefined"!=typeof global&&null!=global?global:e},$jscomp.global=$jscomp.getGlobal(void 0),$jscomp.SYMBOL_PREFIX="jscomp_symbol_",$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){},$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)},$jscomp.symbolCounter_=0,$jscomp.Symbol=function(e){return $jscomp.SYMBOL_PREFIX+(e||"")+$jscomp.symbolCounter_++},$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var e=(e=$jscomp.global.Symbol.iterator)||($jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[e]&&$jscomp.defineProperty(Array.prototype,e,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}}),$jscomp.initSymbolIterator=function(){}},$jscomp.arrayIterator=function(e){var t=0;return $jscomp.iteratorPrototype(function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}})},$jscomp.iteratorPrototype=function(e){return $jscomp.initSymbolIterator(),(e={next:e})[$jscomp.global.Symbol.iterator]=function(){return this},e},$jscomp.array=$jscomp.array||{},$jscomp.iteratorFromArray=function(t,n){$jscomp.initSymbolIterator(),t instanceof String&&(t+="");var i=0,o={next:function(){var e;return i<t.length?(e=i++,{value:n(e,t[e]),done:!1}):(o.next=function(){return{done:!0,value:void 0}},o.next())}};return o[Symbol.iterator]=function(){return o},o},$jscomp.polyfill=function(e,t,n,i){if(t){n=$jscomp.global;for(e=e.split("."),n=n||new Array,i=0;i<e.length-1;i++){var o=e[i];o in n||(n[o]={}),n=n[o]}(t=t(i=n[e=e[e.length-1]]))!=i&&null!=t&&$jscomp.defineProperty(n,e,{configurable:!0,writable:!0,value:t})}},$jscomp.polyfill("Array.prototype.keys",function(e){return e||function(){return $jscomp.iteratorFromArray(this,function(e){return e})}},"es6-impl","es3"),void 0),tns=(!function(){function o(e){if(!A.col(e))try{return document.querySelectorAll(e)}catch(e){}}function w(e,t){for(var n,i=e.length,o=2<=arguments.length?t:void 0,a=[],r=0;r<i;r++)r in e&&(n=e[r],t.call(o,n,r,e))&&a.push(n);return a}function c(e){return e.reduce(function(e,t){return e.concat(A.arr(t)?c(t):t)},[])}function u(e){return A.arr(e)?e:(e=A.str(e)?o(e)||e:e)instanceof NodeList||e instanceof HTMLCollection?[].slice.call(e):[e]}function a(e,t){return e.some(function(e){return e===t})}function h(e){var t,n={};for(t in e)n[t]=e[t];return n}function d(e,t){var n,i=h(e);for(n in e)i[n]=(t.hasOwnProperty(n)?t:e)[n];return i}function f(e,t){var n,i=h(e);for(n in t)i[n]=(A.und(e[n])?t:e)[n];return i}function p(e){if(e=/([\+\-]?[0-9#\.]+)(%|px|pt|em|rem|in|cm|mm|ex|ch|pc|vw|vh|vmin|vmax|deg|rad|turn)?$/.exec(e))return e[2]}function l(e,t){return A.fnc(e)?e(t.target,t.id,t.total):e}function k(e,t){if(t in e.style)return getComputedStyle(e).getPropertyValue(t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase())||"0"}function g(e,t){return A.dom(e)&&a(E,t)?"transform":A.dom(e)&&(e.getAttribute(t)||A.svg(e)&&e[t])?"attribute":A.dom(e)&&"transform"!==t&&k(e,t)?"css":null!=e[t]?"object":void 0}function v(e,t){switch(g(e,t)){case"transform":var n=e,i=t,o=-1<(o=i).indexOf("translate")||"perspective"===o?"px":-1<o.indexOf("rotate")||-1<o.indexOf("skew")?"deg":void 0,o=-1<i.indexOf("scale")?1:0+o;if(!(n=n.style.transform))return o;for(var a,r=[],s=[],l=/(\w+)\((.+?)\)/g;a=l.exec(n);)r.push(a[1]),s.push(a[2]);return(n=w(s,function(e,t){return r[t]===i})).length?n[0]:o;case"css":return k(e,t);case"attribute":return e.getAttribute(t)}return e[t]||0}function m(e,t){var n=/^(\*=|\+=|-=)/.exec(e);if(!n)return e;var i=p(e)||0;switch(t=parseFloat(t),e=parseFloat(e.replace(n[0],"")),n[0][0]){case"+":return t+e+i;case"-":return t-e+i;case"*":return t*e+i}}function r(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function n(e){e=e.points;for(var t,n=0,i=0;i<e.numberOfItems;i++){var o=e.getItem(i);0<i&&(n+=r(t,o)),t=o}return n}function s(e){if(e.getTotalLength)return e.getTotalLength();switch(e.tagName.toLowerCase()){case"circle":return 2*Math.PI*e.getAttribute("r");case"rect":return 2*e.getAttribute("width")+2*e.getAttribute("height");case"line":return r({x:e.getAttribute("x1"),y:e.getAttribute("y1")},{x:e.getAttribute("x2"),y:e.getAttribute("y2")});case"polyline":return n(e);case"polygon":var t=e.points;return n(e)+r(t.getItem(t.numberOfItems-1),t.getItem(0))}}function y(e,t){var n,i,o,a,r,s,l,c,u=/-?\d*\.?\d+/g;function h(e,t,n){return n<0&&(n+=1),1<n&&--n,n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}return i=A.pth(e)?e.totalLength:e,i=A.col(i)?A.rgb(i)?(n=/rgb\((\d+,\s*[\d]+,\s*[\d]+)\)/g.exec(i))?"rgba("+n[1]+",1)":i:A.hex(i)?(s=(s=i).replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,function(e,t,n,i){return t+t+n+n+i+i}),l=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(s),s=parseInt(l[1],16),c=parseInt(l[2],16),"rgba("+s+","+c+","+parseInt(l[3],16)+",1)"):A.hsl(i)?(s=i,c=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(s)||/hsla\((\d+),\s*([\d.]+)%,\s*([\d.]+)%,\s*([\d.]+)\)/g.exec(s),s=parseInt(c[1])/360,l=parseInt(c[2])/100,r=parseInt(c[3])/100,c=c[4]||1,0==l?r=l=s=r:(r=h(a=2*r-(o=r<.5?r*(1+l):r+l-r*l),o,s+1/3),l=h(a,o,s),s=h(a,o,s-1/3)),"rgba("+255*r+","+255*l+","+255*s+","+c+")"):void 0:(n=(n=p(i))?i.substr(0,i.length-n.length):i,t&&!/\s/g.test(i)?n+t:n),{original:i+="",numbers:i.match(u)?i.match(u).map(Number):[0],strings:A.str(e)||t?i.split(u):[]}}function b(e){return w(e=e?c(A.arr(e)?e.map(u):u(e)):[],function(e,t,n){return n.indexOf(e)===t})}function _(a,r){var s;return a.tweens.map(function(e){var t=(e=function(e,t){var n,i={};for(n in e){var o=l(e[n],t);A.arr(o)&&1===(o=o.map(function(e){return l(e,t)})).length&&(o=o[0]),i[n]=o}return i.duration=parseFloat(i.duration),i.delay=parseFloat(i.delay),i}(e,r)).value,n=v(r.target,a.name),i=s?s.to.original:n,i=A.arr(t)?t[0]:i,o=m(A.arr(t)?t[1]:t,i),n=p(o)||p(i)||p(n);return e.from=y(i,n),e.to=y(o,n),e.start=s?s.end:a.offset,e.end=e.start+e.delay+e.duration,e.easing=function(e){return A.arr(e)?L.apply(this,e):P[e]}(e.easing),e.elasticity=(1e3-Math.min(Math.max(e.elasticity,1),999))/1e3,e.isPath=A.pth(t),e.isColor=A.col(e.from.original),e.isColor&&(e.round=1),s=e})}function x(t,e,n,i){var o="delay"===t;return e.length?(o?Math.min:Math.max).apply(Math,e.map(function(e){return e[t]})):o?i.delay:n.offset+i.delay+i.duration}function i(e){var t,n,o,i=d(S,e),a=d(C,e),r=(r=e.targets,(n=b(r)).map(function(e,t){return{target:e,id:t,total:n.length}})),s=[],l=f(i,a);for(t in e)l.hasOwnProperty(t)||"targets"===t||s.push({name:t,offset:l.offset,tweens:function(e,n){var t,i=h(n);return A.arr(e)&&(2!==(t=e.length)||A.obj(e[0])?A.fnc(n.duration)||(i.duration=n.duration/t):e={value:e}),u(e).map(function(e,t){return t=t?0:n.delay,e=A.obj(e)&&!A.pth(e)?e:{value:e},A.und(e.delay)&&(e.delay=t),e}).map(function(e){return f(e,i)})}(e[t],a)});return o=s,f(i,{children:[],animatables:r,animations:e=w(c(r.map(function(i){return o.map(function(e){var t,n=g(i.target,e.name);return e=n?(t=_(e,i),{type:n,property:e.name,animatable:i,tweens:t,duration:t[t.length-1].end,delay:t[0].delay}):void 0})})),function(e){return!A.und(e)}),duration:x("duration",e,i,a),delay:x("delay",e,i,a)})}function T(e){function u(){return window.Promise&&new Promise(function(e){return y=e})}function h(e){return _.reversed?_.duration-e:e}function d(t){for(var e=0,n={},i=_.animations,o=i.length;e<o;){var a=i[e],r=a.animatable,s=(l=a.tweens)[h=l.length-1];h&&(s=w(l,function(e){return t<e.end})[0]||s);for(var l=Math.min(Math.max(t-s.start-s.delay,0),s.duration)/s.duration,c=isNaN(l)?1:s.easing(l,s.elasticity),l=s.to.strings,u=s.round,h=[],d=void 0,d=s.to.numbers.length,f=0;f<d;f++){var p=void 0,p=s.to.numbers[f],g=s.from.numbers[f],p=s.isPath?function(t,n){function e(e){return t.el.getPointAtLength(1<=n+(e=void 0===e?0:e)?n+e:0)}var i=e(),o=e(-1),a=e(1);switch(t.property){case"x":return i.x;case"y":return i.y;case"angle":return 180*Math.atan2(a.y-o.y,a.x-o.x)/Math.PI}}(s.value,c*p):g+c*(p-g);!u||s.isColor&&2<f||(p=Math.round(p*u)/u),h.push(p)}if(s=l.length)for(d=l[0],c=0;c<s;c++)u=l[c+1],f=h[c],isNaN(f)||(d=u?d+(f+u):d+(f+" "));else d=h[0];I[a.type](r.target,a.property,d,n,r.id),a.currentValue=d,e++}if(e=Object.keys(n).length)for(i=0;i<e;i++)O=O||(k(document.body,"transform")?"transform":"-webkit-transform"),_.animatables[i].target.style[O]=n[i].join(" ");_.currentTime=t,_.progress=t/_.duration*100}function f(e){_[e]&&_[e](_)}function p(){_.remaining&&!0!==_.remaining&&_.remaining--}function t(e){var t=_.duration,n=_.offset,i=n+_.delay,o=_.currentTime,a=_.reversed,r=h(e);if(_.children.length){var s=_.children,l=s.length;if(r>=_.currentTime)for(var c=0;c<l;c++)s[c].seek(r);else for(;l--;)s[l].seek(r)}(i<=r||!t)&&(_.began||(_.began=!0,f("begin")),f("run")),n<r&&r<t?d(r):(r<=n&&0!==o&&(d(0),a)&&p(),(t<=r&&o!==t||!t)&&(d(t),a||p())),f("update"),t<=e&&(_.remaining?(v=g,"alternate"===_.direction&&(_.reversed=!_.reversed)):(_.pause(),_.completed||(_.completed=!0,f("complete"),"Promise"in window&&(y(),b=u()))),m=0)}e=void 0===e?{}:e;var g,v,m=0,y=null,b=u(),_=i(e);return _.reset=function(){var e=_.direction,t=_.loop;for(_.currentTime=0,_.progress=0,_.paused=!0,_.began=!1,_.completed=!1,_.reversed="reverse"===e,_.remaining="alternate"===e&&1===t?2:t,d(0),e=_.children.length;e--;)_.children[e].reset()},_.tick=function(e){t((m+(g=e)-(v=v||g))*T.speed)},_.seek=function(e){t(h(e))},_.pause=function(){var e=z.indexOf(_);-1<e&&z.splice(e,1),_.paused=!0},_.play=function(){_.paused&&(_.paused=!1,v=0,m=h(_.currentTime),z.push(_),D||B())},_.reverse=function(){_.reversed=!_.reversed,v=0,m=h(_.currentTime)},_.restart=function(){_.pause(),_.reset(),_.play()},_.finished=b,_.reset(),_.autoplay&&_.play(),_}var S,C,E,O,A,L,P,I,z,D,B;M.anime=(S={update:void 0,begin:void 0,run:void 0,complete:void 0,loop:1,direction:"normal",autoplay:!0,offset:0},C={duration:1e3,delay:0,easing:"easeOutElastic",elasticity:500,round:0},E="translateX translateY translateZ rotate rotateX rotateY rotateZ scale scaleX scaleY scaleZ skewX skewY perspective".split(" "),A={arr:function(e){return Array.isArray(e)},obj:function(e){return-1<Object.prototype.toString.call(e).indexOf("Object")},pth:function(e){return A.obj(e)&&e.hasOwnProperty("totalLength")},svg:function(e){return e instanceof SVGElement},dom:function(e){return e.nodeType||A.svg(e)},str:function(e){return"string"==typeof e},fnc:function(e){return"function"==typeof e},und:function(e){return void 0===e},hex:function(e){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(e)},rgb:function(e){return/^rgb/.test(e)},hsl:function(e){return/^hsl/.test(e)},col:function(e){return A.hex(e)||A.rgb(e)||A.hsl(e)}},L=function(){function h(e,t,n){return(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e}return function(r,s,l,c){if(0<=r&&r<=1&&0<=l&&l<=1){var u=new Float32Array(11);if(r!==s||l!==c)for(var e=0;e<11;++e)u[e]=h(.1*e,r,l);return function(e){if(r===s&&l===c)return e;if(0===e)return 0;if(1===e)return 1;for(var t=0,n=1;10!==n&&u[n]<=e;++n)t+=.1;var n=t+(e-u[--n])/(u[n+1]-u[n])*.1,i=3*(1-3*l+3*r)*n*n+2*(3*l-6*r)*n+3*r;if(.001<=i){for(t=0;t<4&&0!==(i=3*(1-3*l+3*r)*n*n+2*(3*l-6*r)*n+3*r);++t)var o=h(n,r,l)-e,n=n-o/i;e=n}else if(0===i)e=n;else{for(var n=t,t=t+.1,a=0;0<(i=h(o=n+(t-n)/2,r,l)-e)?t=o:n=o,1e-7<Math.abs(i)&&++a<10;);e=o}return h(e,s,c)}}}}(),P=function(){function n(e,t){return 0===e||1===e?e:-Math.pow(2,10*(e-1))*Math.sin(2*(e-1-t/(2*Math.PI)*Math.asin(1))*Math.PI/t)}var e,i="Quad Cubic Quart Quint Sine Expo Circ Back Elastic".split(" "),t={In:[[.55,.085,.68,.53],[.55,.055,.675,.19],[.895,.03,.685,.22],[.755,.05,.855,.06],[.47,0,.745,.715],[.95,.05,.795,.035],[.6,.04,.98,.335],[.6,-.28,.735,.045],n],Out:[[.25,.46,.45,.94],[.215,.61,.355,1],[.165,.84,.44,1],[.23,1,.32,1],[.39,.575,.565,1],[.19,1,.22,1],[.075,.82,.165,1],[.175,.885,.32,1.275],function(e,t){return 1-n(1-e,t)}],InOut:[[.455,.03,.515,.955],[.645,.045,.355,1],[.77,0,.175,1],[.86,0,.07,1],[.445,.05,.55,.95],[1,0,0,1],[.785,.135,.15,.86],[.68,-.55,.265,1.55],function(e,t){return e<.5?n(2*e,t)/2:1-n(-2*e+2,t)/2}]},o={linear:L(.25,.25,.75,.75)},a={};for(e in t)a.type=e,t[a.type].forEach(function(n){return function(e,t){o["ease"+n.type+i[t]]=A.fnc(e)?e:L.apply($jscomp$this,e)}}(a)),a={type:a.type};return o}(),I={css:function(e,t,n){return e.style[t]=n},attribute:function(e,t,n){return e.setAttribute(t,n)},object:function(e,t,n){return e[t]=n},transform:function(e,t,n,i,o){i[o]||(i[o]=[]),i[o].push(t+"("+n+")")}},z=[],D=0,B=function(){function i(){D=requestAnimationFrame(e)}function e(e){var t=z.length;if(t){for(var n=0;n<t;)z[n]&&z[n].tick(e),n++;i()}else cancelAnimationFrame(D),D=0}return i}(),T.version="2.2.0",T.speed=1,T.running=z,T.remove=function(e){e=b(e);for(var t=z.length;t--;)for(var n=z[t],i=n.animations,o=i.length;o--;)a(e,i[o].animatable.target)&&(i.splice(o,1),i.length||n.pause())},T.getValue=v,T.path=function(e,t){var n=A.str(e)?o(e)[0]:e,i=t||100;return function(e){return{el:n,property:e,totalLength:s(n)*(i/100)}}},T.setDashoffset=function(e){var t=s(e);return e.setAttribute("stroke-dasharray",t),t},T.bezier=L,T.easings=P,T.timeline=function(i){var o=T(i);return o.pause(),o.duration=0,o.add=function(e){return o.children.forEach(function(e){e.began=!0,e.completed=!0}),u(e).forEach(function(e){var t=f(e,d(C,i||{})),n=(t.targets=t.targets||i.targets,e=o.duration,t.offset);t.autoplay=!1,t.direction=o.direction,t.offset=A.und(n)?e:m(n,e),o.began=!0,o.completed=!0,o.seek(t.offset),(t=T(t)).began=!0,t.completed=!0,t.duration>e&&(o.duration=t.duration),o.children.push(t)}),o.seek(0),o.reset(),o.autoplay&&o.restart(),o},o},T.random=function(e,t){return Math.floor(Math.random()*(t-e+1))+e},T)}(),!function(o,a){var e={opacity:.5,inDuration:250,outDuration:250,onOpenStart:null,onOpenEnd:null,onCloseStart:null,onCloseEnd:null,preventScrolling:!0,dismissible:!0,startingTop:"4%",endingTop:"10%"},t=function(){_inherits(i,Component);var n=_createSuper(i);function i(e,t){return _classCallCheck(this,i),(e=n.call(this,i,e,t)).el.M_Modal=_assertThisInitialized(e),e.options=o.extend({},i.defaults,t),e.isOpen=!1,e.id=e.$el.attr("id"),e._openingTrigger=void 0,e.$overlay=o('<div class="modal-overlay"></div>'),e.el.tabIndex=0,e._nthModalOpened=0,i._count++,e._setupEventHandlers(),e}return _createClass(i,[{key:"destroy",value:function(){i._count--,this._removeEventHandlers(),this.el.removeAttribute("style"),this.$overlay.remove(),this.el.M_Modal=void 0}},{key:"_setupEventHandlers",value:function(){this._handleOverlayClickBound=this._handleOverlayClick.bind(this),this._handleModalCloseClickBound=this._handleModalCloseClick.bind(this),1===i._count&&document.body.addEventListener("click",this._handleTriggerClick),this.$overlay[0].addEventListener("click",this._handleOverlayClickBound),this.el.addEventListener("click",this._handleModalCloseClickBound)}},{key:"_removeEventHandlers",value:function(){0===i._count&&document.body.removeEventListener("click",this._handleTriggerClick),this.$overlay[0].removeEventListener("click",this._handleOverlayClickBound),this.el.removeEventListener("click",this._handleModalCloseClickBound)}},{key:"_handleTriggerClick",value:function(e){var t,n=o(e.target).closest(".modal-trigger");n.length&&(t=M.getIdFromTrigger(n[0]),(t=document.getElementById(t).M_Modal)&&t.open(n),e.preventDefault())}},{key:"_handleOverlayClick",value:function(){this.options.dismissible&&this.close()}},{key:"_handleModalCloseClick",value:function(e){o(e.target).closest(".modal-close").length&&this.close()}},{key:"_handleKeydown",value:function(e){27===e.keyCode&&this.options.dismissible&&this.close()}},{key:"_handleFocus",value:function(e){this.el.contains(e.target)||this._nthModalOpened!==i._modalsOpen||this.el.focus()}},{key:"_animateIn",value:function(){var e=this,t=(o.extend(this.el.style,{display:"block",opacity:0}),o.extend(this.$overlay[0].style,{display:"block",opacity:0}),a({targets:this.$overlay[0],opacity:this.options.opacity,duration:this.options.inDuration,easing:"easeOutQuad"}),{targets:this.el,duration:this.options.inDuration,easing:"easeOutCubic",complete:function(){"function"==typeof e.options.onOpenEnd&&e.options.onOpenEnd.call(e,e.el,e._openingTrigger)}});this.el.classList.contains("bottom-sheet")?o.extend(t,{bottom:0,opacity:1}):o.extend(t,{top:[this.options.startingTop,this.options.endingTop],opacity:1,scaleX:[.8,1],scaleY:[.8,1]}),a(t)}},{key:"_animateOut",value:function(){var e=this,t=(a({targets:this.$overlay[0],opacity:0,duration:this.options.outDuration,easing:"easeOutQuart"}),{targets:this.el,duration:this.options.outDuration,easing:"easeOutCubic",complete:function(){e.el.style.display="none",e.$overlay.remove(),"function"==typeof e.options.onCloseEnd&&e.options.onCloseEnd.call(e,e.el)}});this.el.classList.contains("bottom-sheet")?o.extend(t,{bottom:"-100%",opacity:0}):o.extend(t,{top:[this.options.endingTop,this.options.startingTop],opacity:0,scaleX:.8,scaleY:.8}),a(t)}},{key:"open",value:function(e){if(!this.isOpen)return this.isOpen=!0,i._modalsOpen++,this._nthModalOpened=i._modalsOpen,this.$overlay[0].style.zIndex=1e3+2*i._modalsOpen,this.el.style.zIndex=1e3+2*i._modalsOpen+1,this._openingTrigger=e?e[0]:void 0,"function"==typeof this.options.onOpenStart&&this.options.onOpenStart.call(this,this.el,this._openingTrigger),this.options.preventScrolling&&(document.body.style.overflow="hidden"),this.el.classList.add("open"),this.el.insertAdjacentElement("afterend",this.$overlay[0]),this.options.dismissible&&(this._handleKeydownBound=this._handleKeydown.bind(this),this._handleFocusBound=this._handleFocus.bind(this),document.addEventListener("keydown",this._handleKeydownBound),document.addEventListener("focus",this._handleFocusBound,!0)),a.remove(this.el),a.remove(this.$overlay[0]),this._animateIn(),this.el.focus(),this}},{key:"close",value:function(){if(this.isOpen)return this.isOpen=!1,i._modalsOpen--,this._nthModalOpened=0,"function"==typeof this.options.onCloseStart&&this.options.onCloseStart.call(this,this.el),this.el.classList.remove("open"),0===i._modalsOpen&&(document.body.style.overflow=""),this.options.dismissible&&(document.removeEventListener("keydown",this._handleKeydownBound),document.removeEventListener("focus",this._handleFocusBound,!0)),a.remove(this.el),a.remove(this.$overlay[0]),this._animateOut(),this}}],[{key:"defaults",get:function(){return e}},{key:"init",value:function(e,t){return _get(_getPrototypeOf(i),"init",this).call(this,this,e,t)}},{key:"getInstance",value:function(e){return(e.jquery?e[0]:e).M_Modal}}]),i}();t._modalsOpen=0,t._count=0,M.Modal=t,M.jQueryLoaded&&M.initializeJqueryWrapper(t,"modal","M_Modal")}(cash,M.anime),!function(o,a){var e={edge:"left",draggable:!0,inDuration:250,outDuration:200,onOpenStart:null,onOpenEnd:null,onCloseStart:null,onCloseEnd:null,preventScrolling:!0},t=function(){_inherits(i,Component);var n=_createSuper(i);function i(e,t){return _classCallCheck(this,i),(e=n.call(this,i,e,t)).el.M_Sidenav=_assertThisInitialized(e),e.id=e.$el.attr("id"),e.options=o.extend({},i.defaults,t),e.isOpen=!1,e.isFixed=e.el.classList.contains("sidenav-fixed"),e.isDragged=!1,e.lastWindowWidth=window.innerWidth,e.lastWindowHeight=window.innerHeight,e._createOverlay(),e._createDragTarget(),e._setupEventHandlers(),e._setupClasses(),e._setupFixed(),i._sidenavs.push(_assertThisInitialized(e)),e}return _createClass(i,[{key:"destroy",value:function(){this._removeEventHandlers(),this._enableBodyScrolling(),this._overlay.parentNode.removeChild(this._overlay),this.dragTarget.parentNode.removeChild(this.dragTarget),this.el.M_Sidenav=void 0,this.el.style.transform="";var e=i._sidenavs.indexOf(this);0<=e&&i._sidenavs.splice(e,1)}},{key:"_createOverlay",value:function(){var e=document.createElement("div");this._closeBound=this.close.bind(this),e.classList.add("sidenav-overlay"),e.addEventListener("click",this._closeBound),document.body.appendChild(e),this._overlay=e}},{key:"_setupEventHandlers",value:function(){0===i._sidenavs.length&&document.body.addEventListener("click",this._handleTriggerClick),this._handleDragTargetDragBound=this._handleDragTargetDrag.bind(this),this._handleDragTargetReleaseBound=this._handleDragTargetRelease.bind(this),this._handleCloseDragBound=this._handleCloseDrag.bind(this),this._handleCloseReleaseBound=this._handleCloseRelease.bind(this),this._handleCloseTriggerClickBound=this._handleCloseTriggerClick.bind(this),this.dragTarget.addEventListener("touchmove",this._handleDragTargetDragBound),this.dragTarget.addEventListener("touchend",this._handleDragTargetReleaseBound),this._overlay.addEventListener("touchmove",this._handleCloseDragBound),this._overlay.addEventListener("touchend",this._handleCloseReleaseBound),this.el.addEventListener("touchmove",this._handleCloseDragBound),this.el.addEventListener("touchend",this._handleCloseReleaseBound),this.el.addEventListener("click",this._handleCloseTriggerClickBound),this.isFixed&&(this._handleWindowResizeBound=this._handleWindowResize.bind(this),window.addEventListener("resize",this._handleWindowResizeBound))}},{key:"_removeEventHandlers",value:function(){1===i._sidenavs.length&&document.body.removeEventListener("click",this._handleTriggerClick),this.dragTarget.removeEventListener("touchmove",this._handleDragTargetDragBound),this.dragTarget.removeEventListener("touchend",this._handleDragTargetReleaseBound),this._overlay.removeEventListener("touchmove",this._handleCloseDragBound),this._overlay.removeEventListener("touchend",this._handleCloseReleaseBound),this.el.removeEventListener("touchmove",this._handleCloseDragBound),this.el.removeEventListener("touchend",this._handleCloseReleaseBound),this.el.removeEventListener("click",this._handleCloseTriggerClickBound),this.isFixed&&window.removeEventListener("resize",this._handleWindowResizeBound)}},{key:"_handleTriggerClick",value:function(e){var t,n=o(e.target).closest(".sidenav-trigger");e.target&&n.length&&(t=M.getIdFromTrigger(n[0]),(t=document.getElementById(t).M_Sidenav)&&t.open(n),e.preventDefault())}},{key:"_startDrag",value:function(e){e=e.targetTouches[0].clientX;this.isDragged=!0,this._startingXpos=e,this._xPos=this._startingXpos,this._time=Date.now(),this._width=this.el.getBoundingClientRect().width,this._overlay.style.display="block",this._initialScrollTop=this.isOpen?this.el.scrollTop:M.getDocumentScrollTop(),this._verticallyScrolling=!1,a.remove(this.el),a.remove(this._overlay)}},{key:"_dragMoveUpdate",value:function(e){var e=e.targetTouches[0].clientX,t=this.isOpen?this.el.scrollTop:M.getDocumentScrollTop();this.deltaX=Math.abs(this._xPos-e),this._xPos=e,this.velocityX=this.deltaX/(Date.now()-this._time),this._time=Date.now(),this._initialScrollTop!==t&&(this._verticallyScrolling=!0)}},{key:"_handleDragTargetDrag",value:function(e){var t,n;!this.options.draggable||this._isCurrentlyFixed()||this._verticallyScrolling||(this.isDragged||this._startDrag(e),this._dragMoveUpdate(e),t=0<(e=this._xPos-this._startingXpos)?"right":"left",e=Math.min(this._width,Math.abs(e)),t=e=this.options.edge===t?0:e,n="translateX(-100%)","right"===this.options.edge&&(n="translateX(100%)",t=-t),this.percentOpen=Math.min(1,e/this._width),this.el.style.transform="".concat(n," translateX(").concat(t,"px)"),this._overlay.style.opacity=this.percentOpen)}},{key:"_handleDragTargetRelease",value:function(){this.isDragged&&(.2<this.percentOpen?this.open():this._animateOut(),this.isDragged=!1,this._verticallyScrolling=!1)}},{key:"_handleCloseDrag",value:function(e){var t;this.isOpen&&this.options.draggable&&!this._isCurrentlyFixed()&&!this._verticallyScrolling&&(this.isDragged||this._startDrag(e),this._dragMoveUpdate(e),t=0<(e=this._xPos-this._startingXpos)?"right":"left",e=Math.min(this._width,Math.abs(e)),t=-(e=this.options.edge!==t?0:e),"right"===this.options.edge&&(t=-t),this.percentOpen=Math.min(1,1-e/this._width),this.el.style.transform="translateX(".concat(t,"px)"),this._overlay.style.opacity=this.percentOpen)}},{key:"_handleCloseRelease",value:function(){this.isOpen&&this.isDragged&&(.8<this.percentOpen?this._animateIn():this.close(),this.isDragged=!1,this._verticallyScrolling=!1)}},{key:"_handleCloseTriggerClick",value:function(e){o(e.target).closest(".sidenav-close").length&&!this._isCurrentlyFixed()&&this.close()}},{key:"_handleWindowResize",value:function(){this.lastWindowWidth!==window.innerWidth&&(992<window.innerWidth?this.open():this.close()),this.lastWindowWidth=window.innerWidth,this.lastWindowHeight=window.innerHeight}},{key:"_setupClasses",value:function(){"right"===this.options.edge&&(this.el.classList.add("right-aligned"),this.dragTarget.classList.add("right-aligned"))}},{key:"_removeClasses",value:function(){this.el.classList.remove("right-aligned"),this.dragTarget.classList.remove("right-aligned")}},{key:"_setupFixed",value:function(){this._isCurrentlyFixed()&&this.open()}},{key:"_isCurrentlyFixed",value:function(){return this.isFixed&&992<window.innerWidth}},{key:"_createDragTarget",value:function(){var e=document.createElement("div");e.classList.add("drag-target"),document.body.appendChild(e),this.dragTarget=e}},{key:"_preventBodyScrolling",value:function(){document.body.style.overflow="hidden"}},{key:"_enableBodyScrolling",value:function(){document.body.style.overflow=""}},{key:"open",value:function(){!0!==this.isOpen&&(this.isOpen=!0,"function"==typeof this.options.onOpenStart&&this.options.onOpenStart.call(this,this.el),this._isCurrentlyFixed()?(a.remove(this.el),a({targets:this.el,translateX:0,duration:0,easing:"easeOutQuad"}),this._enableBodyScrolling(),this._overlay.style.display="none"):(this.options.preventScrolling&&this._preventBodyScrolling(),this.isDragged&&1==this.percentOpen||this._animateIn()),this._handleKeydownBound=this._handleKeydown.bind(this),document.addEventListener("keydown",this._handleKeydownBound))}},{key:"close",value:function(){var e;!1!==this.isOpen&&(this.isOpen=!1,"function"==typeof this.options.onCloseStart&&this.options.onCloseStart.call(this,this.el),this._isCurrentlyFixed()?(e="left"===this.options.edge?"-105%":"105%",this.el.style.transform="translateX(".concat(e,")")):(this._enableBodyScrolling(),this.isDragged&&0==this.percentOpen?this._overlay.style.display="none":this._animateOut()),document.removeEventListener("keydown",this._handleKeydownBound))}},{key:"_animateIn",value:function(){this._animateSidenavIn(),this._animateOverlayIn()}},{key:"_animateSidenavIn",value:function(){var e=this,t="left"===this.options.edge?-1:1;this.isDragged&&(t="left"===this.options.edge?t+this.percentOpen:t-this.percentOpen),a.remove(this.el),a({targets:this.el,translateX:["".concat(100*t,"%"),0],duration:this.options.inDuration,easing:"easeOutQuad",complete:function(){"function"==typeof e.options.onOpenEnd&&e.options.onOpenEnd.call(e,e.el)}})}},{key:"_animateOverlayIn",value:function(){var e=0;this.isDragged?e=this.percentOpen:o(this._overlay).css({display:"block"}),a.remove(this._overlay),a({targets:this._overlay,opacity:[e,1],duration:this.options.inDuration,easing:"easeOutQuad"})}},{key:"_animateOut",value:function(){this._animateSidenavOut(),this._animateOverlayOut()}},{key:"_animateSidenavOut",value:function(){var e=this,t="left"===this.options.edge?-1:1,n=0;this.isDragged&&(n="left"===this.options.edge?t+this.percentOpen:t-this.percentOpen),a.remove(this.el),a({targets:this.el,translateX:["".concat(100*n,"%"),"".concat(105*t,"%")],duration:this.options.outDuration,easing:"easeOutQuad",complete:function(){"function"==typeof e.options.onCloseEnd&&e.options.onCloseEnd.call(e,e.el)}})}},{key:"_animateOverlayOut",value:function(){var e=this;a.remove(this._overlay),a({targets:this._overlay,opacity:0,duration:this.options.outDuration,easing:"easeOutQuad",complete:function(){o(e._overlay).css("display","none")}})}},{key:"_handleKeydown",value:function(e){27===e.keyCode&&this.close()}}],[{key:"defaults",get:function(){return e}},{key:"init",value:function(e,t){return _get(_getPrototypeOf(i),"init",this).call(this,this,e,t)}},{key:"getInstance",value:function(e){return(e.jquery?e[0]:e).M_Sidenav}}]),i}();t._sidenavs=[],M.Sidenav=t,M.jQueryLoaded&&M.initializeJqueryWrapper(t,"sidenav","M_Sidenav")}(cash,M.anime),!function(o){var e={throttle:100,scrollOffset:200,activeClass:"active",getActiveElement:function(e){return'a[href="#'+e+'"]'}},t=function(){_inherits(d,Component);var n=_createSuper(d);function d(e,t){return _classCallCheck(this,d),(e=n.call(this,d,e,t)).el.M_ScrollSpy=_assertThisInitialized(e),e.options=o.extend({},d.defaults,t),d._elements.push(_assertThisInitialized(e)),d._count++,d._increment++,e.tickId=-1,e.id=d._increment,e._setupEventHandlers(),e._handleWindowScroll(),e}return _createClass(d,[{key:"destroy",value:function(){d._elements.splice(d._elements.indexOf(this),1),d._elementsInView.splice(d._elementsInView.indexOf(this),1),d._visibleElements.splice(d._visibleElements.indexOf(this.$el),1),d._count--,this._removeEventHandlers(),o(this.options.getActiveElement(this.$el.attr("id"))).removeClass(this.options.activeClass),this.el.M_ScrollSpy=void 0}},{key:"_setupEventHandlers",value:function(){var e=M.throttle(this._handleWindowScroll,200);this._handleThrottledResizeBound=e.bind(this),this._handleWindowScrollBound=this._handleWindowScroll.bind(this),1===d._count&&(window.addEventListener("scroll",this._handleWindowScrollBound),window.addEventListener("resize",this._handleThrottledResizeBound),document.body.addEventListener("click",this._handleTriggerClick))}},{key:"_removeEventHandlers",value:function(){0===d._count&&(window.removeEventListener("scroll",this._handleWindowScrollBound),window.removeEventListener("resize",this._handleThrottledResizeBound),document.body.removeEventListener("click",this._handleTriggerClick))}},{key:"_handleTriggerClick",value:function(e){for(var t=o(e.target),n=d._elements.length-1;0<=n;n--){var i=d._elements[n];if(t.is('a[href="#'+i.$el.attr("id")+'"]')){e.preventDefault();break}}}},{key:"_handleWindowScroll",value:function(){d._ticks++;for(var e=M.getDocumentScrollTop(),t=M.getDocumentScrollLeft(),n=t+window.innerWidth,i=e+window.innerHeight,o=d._findElements(e,n,i,t),a=0;a<o.length;a++){var r=o[a];r.tickId<0&&r._enter(),r.tickId=d._ticks}for(var s=0;s<d._elementsInView.length;s++){var l=d._elementsInView[s],c=l.tickId;0<=c&&c!==d._ticks&&(l._exit(),l.tickId=-1)}d._elementsInView=o}},{key:"_enter",value:function(){d._visibleElements=d._visibleElements.filter(function(e){return 0!=e.height()}),d._visibleElements[0]&&(o(this.options.getActiveElement(d._visibleElements[0].attr("id"))).removeClass(this.options.activeClass),d._visibleElements[0][0].M_ScrollSpy)&&this.id<d._visibleElements[0][0].M_ScrollSpy.id?d._visibleElements.unshift(this.$el):d._visibleElements.push(this.$el),o(this.options.getActiveElement(d._visibleElements[0].attr("id"))).addClass(this.options.activeClass)}},{key:"_exit",value:function(){var t=this;d._visibleElements=d._visibleElements.filter(function(e){return 0!=e.height()}),d._visibleElements[0]&&(o(this.options.getActiveElement(d._visibleElements[0].attr("id"))).removeClass(this.options.activeClass),d._visibleElements=d._visibleElements.filter(function(e){return e.attr("id")!=t.$el.attr("id")}),d._visibleElements[0])&&o(this.options.getActiveElement(d._visibleElements[0].attr("id"))).addClass(this.options.activeClass)}}],[{key:"defaults",get:function(){return e}},{key:"init",value:function(e,t){return _get(_getPrototypeOf(d),"init",this).call(this,this,e,t)}},{key:"getInstance",value:function(e){return(e.jquery?e[0]:e).M_ScrollSpy}},{key:"_findElements",value:function(e,t,n,i){for(var o=[],a=0;a<d._elements.length;a++){var r,s,l,c,u=d._elements[a],h=e+u.options.scrollOffset||200;0<u.$el.height()&&(r=u.$el.offset().top,l=(s=u.$el.offset().left)+u.$el.width(),c=r+u.$el.height(),!(t<s||l<i||n<r||c<h))&&o.push(u)}return o}}]),d}();t._elements=[],t._elementsInView=[],t._visibleElements=[],t._count=0,t._increment=0,t._ticks=0,M.ScrollSpy=t,M.jQueryLoaded&&M.initializeJqueryWrapper(t,"scrollSpy","M_ScrollSpy")}(cash,M.anime),!function(e,t){"object"==("undefined"==typeof exports?"undefined":_typeof(exports))&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e="undefined"!=typeof globalThis?globalThis:self).windowq=e.window||{})}(void 0,function(B){function O(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1e4;return e=parseFloat(e+"")||0,Math.round((e+Number.EPSILON)*t)/t}function R(e){var t,n;return!!(e&&e instanceof Element&&e.offsetParent)&&(t=e.scrollHeight>e.clientHeight,n=-1!==(e=window.getComputedStyle(e).overflowY).indexOf("hidden"),e=-1!==e.indexOf("visible"),t)&&!n&&!e}function j(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:void 0;return!(!e||e===document.body||t&&e===t)&&(R(e)?e:j(e.parentElement,t))}function m(e){var t=(new DOMParser).parseFromString(e,"text/html").body;if(1<t.childElementCount){for(var n=document.createElement("div");t.firstChild;)n.appendChild(t.firstChild);return n}return t.firstChild}function F(e){return"".concat(e||"").split(" ").filter(function(e){return!!e})}function v(t,e,n){t&&F(e).forEach(function(e){t.classList.toggle(e,n||!1)})}var l=_createClass(function e(t){_classCallCheck(this,e),Object.defineProperty(this,"pageX",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"pageY",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"clientX",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"clientY",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"id",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"time",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"nativePointer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.nativePointer=t,this.pageX=t.pageX,this.pageY=t.pageY,this.clientX=t.clientX,this.clientY=t.clientY,this.id=self.Touch&&t instanceof Touch?t.identifier:-1,this.time=Date.now()}),c={passive:!1},H=function(){function s(e,t){var n=t.start,n=void 0===n?function(){return!0}:n,i=t.move,i=void 0===i?function(){}:i,t=t.end,t=void 0===t?function(){}:t;_classCallCheck(this,s),Object.defineProperty(this,"element",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"startCallback",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"moveCallback",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"endCallback",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"currentPointers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"startPointers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),this.element=e,this.startCallback=n,this.moveCallback=i,this.endCallback=t;for(var o=0,a=["onPointerStart","onTouchStart","onMove","onTouchEnd","onPointerEnd","onWindowBlur"];o<a.length;o++){var r=a[o];this[r]=this[r].bind(this)}this.element.addEventListener("mousedown",this.onPointerStart,c),this.element.addEventListener("touchstart",this.onTouchStart,c),this.element.addEventListener("touchmove",this.onMove,c),this.element.addEventListener("touchend",this.onTouchEnd),this.element.addEventListener("touchcancel",this.onTouchEnd)}return _createClass(s,[{key:"onPointerStart",value:function(e){var t;e.buttons&&0===e.button&&(t=new l(e),this.currentPointers.some(function(e){return e.id===t.id})||this.triggerPointerStart(t,e)&&(window.addEventListener("mousemove",this.onMove),window.addEventListener("mouseup",this.onPointerEnd),window.addEventListener("blur",this.onWindowBlur)))}},{key:"onTouchStart",value:function(e){for(var t=0,n=Array.from(e.changedTouches||[]);t<n.length;t++){var i=n[t];this.triggerPointerStart(new l(i),e)}window.addEventListener("blur",this.onWindowBlur)}},{key:"onMove",value:function(e){var n,i=this,t=this.currentPointers.slice(),o="changedTouches"in e?Array.from(e.changedTouches||[]).map(function(e){return new l(e)}):[new l(e)],a=[],r=_createForOfIteratorHelper(o);try{for(r.s();!(n=r.n()).done;)!function(){var t=n.value,e=i.currentPointers.findIndex(function(e){return e.id===t.id});e<0||(a.push(t),i.currentPointers[e]=t)}()}catch(e){r.e(e)}finally{r.f()}a.length&&this.moveCallback(e,this.currentPointers.slice(),t)}},{key:"onPointerEnd",value:function(e){0<e.buttons&&0!==e.button||(this.triggerPointerEnd(e,new l(e)),window.removeEventListener("mousemove",this.onMove),window.removeEventListener("mouseup",this.onPointerEnd),window.removeEventListener("blur",this.onWindowBlur))}},{key:"onTouchEnd",value:function(e){for(var t=0,n=Array.from(e.changedTouches||[]);t<n.length;t++){var i=n[t];this.triggerPointerEnd(e,new l(i))}}},{key:"triggerPointerStart",value:function(e,t){return!!this.startCallback(t,e,this.currentPointers.slice())&&(this.currentPointers.push(e),this.startPointers.push(e),!0)}},{key:"triggerPointerEnd",value:function(e,t){var n=this.currentPointers.findIndex(function(e){return e.id===t.id});n<0||(this.currentPointers.splice(n,1),this.startPointers.splice(n,1),this.endCallback(e,t,this.currentPointers.slice()))}},{key:"onWindowBlur",value:function(){this.clear()}},{key:"clear",value:function(){for(;this.currentPointers.length;){var e=this.currentPointers[this.currentPointers.length-1];this.currentPointers.splice(this.currentPointers.length-1,1),this.startPointers.splice(this.currentPointers.length-1,1),this.endCallback(new Event("touchend",{bubbles:!0,cancelable:!0,clientX:e.clientX,clientY:e.clientY}),e,this.currentPointers.slice())}}},{key:"stop",value:function(){this.element.removeEventListener("mousedown",this.onPointerStart,c),this.element.removeEventListener("touchstart",this.onTouchStart,c),this.element.removeEventListener("touchmove",this.onMove,c),this.element.removeEventListener("touchend",this.onTouchEnd),this.element.removeEventListener("touchcancel",this.onTouchEnd),window.removeEventListener("mousemove",this.onMove),window.removeEventListener("mouseup",this.onPointerEnd),window.removeEventListener("blur",this.onWindowBlur)}}]),s}();function N(e,t){return t?Math.sqrt(Math.pow(t.clientX-e.clientX,2)+Math.pow(t.clientY-e.clientY,2)):0}function V(e,t){return t?{clientX:(e.clientX+t.clientX)/2,clientY:(e.clientY+t.clientY)/2}:e}function W(e){return"object"==_typeof(e)&&null!==e&&e.constructor===Object&&"[object Object]"===Object.prototype.toString.call(e)}function g(i){for(var e=arguments.length<=1?0:arguments.length-1,t=0;t<e;t++)Object.entries((t+1<1||arguments.length<=t+1?void 0:arguments[t+1])||{}).forEach(function(e){var e=_slicedToArray(e,2),t=e[0],e=e[1],n=Array.isArray(e)?[]:{};i[t]||Object.assign(i,_defineProperty({},t,n)),W(e)?Object.assign(i[t],g(n,e)):Array.isArray(e)?Object.assign(i,_defineProperty({},t,_toConsumableArray(e))):Object.assign(i,_defineProperty({},t,e))});return i}function q(e,t){return e.split(".").reduce(function(e,t){return"object"==_typeof(e)?e[t]:void 0},t)}function h(e){return e&&null!==e&&e instanceof Element&&"nodeType"in e}function y(t,e){t&&F(e).forEach(function(e){t.classList.remove(e)})}function E(t,e){t&&F(e).forEach(function(e){t.classList.add(e)})}function U(e,t){var n=!0;return function(){n&&(n=!1,e.apply(void 0,arguments),setTimeout(function(){n=!0},t))}}function X(e,t){var n=[];return e.childNodes.forEach(function(e){e.nodeType!==Node.ELEMENT_NODE||t&&!e.matches(t)||n.push(e)}),n}function G(e){var t;return"string"==typeof e||e instanceof HTMLElement?e={html:e}:void 0!==(t=e.thumb)&&("string"==typeof t&&(e.thumbSrc=t),t instanceof HTMLImageElement&&(e.thumbEl=t,e.thumbElSrc=t.src,e.thumbSrc=t.src),delete e.thumb),Object.assign({html:"",el:null,isDom:!1,class:"",customClass:"",index:-1,dim:0,gap:0,pos:0,transition:!1},e)}function $(e){var t,n,i,o,a;return!h(e)||(i=(t=window.scrollY)+(n=window.innerHeight),(a=(o=(e=e.getBoundingClientRect()).y+t)+(e=e.height))<t)||i<o?0:t<o&&a<i||o<t&&i<a?100:(e=e,o<t&&(e-=t-o),i<a&&(e-=a-i),Math.round(e/n*100))}function Y(e){if(e&&ge){void 0===te&&document.createElement("div").focus({get preventScroll(){return!(te=!0)}});try{var t,n;te?e.focus({preventScroll:!0}):(t=window.scrollY||document.body.scrollTop,n=window.scrollX||document.body.scrollLeft,e.focus(),document.body.scrollTo({top:t,left:n,behavior:"auto"}))}catch(e){}}}function Z(){var e,t=document,n="",i="",o="";return t.fullscreenEnabled?(n="requestFullscreen",i="exitFullscreen",o="fullscreenElement"):t.webkitFullscreenEnabled&&(n="webkitRequestFullscreen",i="webkitExitFullscreen",o="webkitFullscreenElement"),e=n?{request:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:t.documentElement;return"webkitRequestFullscreen"===n?e[n](Element.ALLOW_KEYBOARD_INPUT):e[n]()},exit:function(){return t[o]&&t[i]()},isFullscreen:function(){return t[o]}}:e}function Q(){a&&clearTimeout(a),queueMicrotask(function(){Te()})}function K(){window.addEventListener("hashchange",Q,!1),setTimeout(function(){Te()},500)}function J(e){for(var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=new URL(e),n=new URLSearchParams(n.search),i=new URLSearchParams,o=0,a=[].concat(_toConsumableArray(n),_toConsumableArray(Object.entries(t)));o<a.length;o++){var r,s=_slicedToArray(a[o],2),l=s[0],s=s[1]+"";"t"===l?(r=s.match(/((\d*)m)?(\d*)s?/))&&i.set("start",60*parseInt(r[2]||"0")+parseInt(r[3]||"0")+""):i.set(l,s)}return n=i+"",(t=e.match(/#t=((.*)?\d+s)/))&&(n+="#t=".concat(t[1])),n}function b(e){return"string"==typeof e}function ee(){var e=window.getSelection();return!!e&&"Range"===e.type}var _,w,te,d,k,u,M,r,ne=function(){function o(){var e,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},n=(_classCallCheck(this,o),Object.defineProperty(this,"options",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"events",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),this.setOptions(t),_createForOfIteratorHelper(Object.getOwnPropertyNames(Object.getPrototypeOf(this))));try{for(n.s();!(e=n.n()).done;){var i=e.value;i.startsWith("on")&&"function"==typeof this[i]&&(this[i]=this[i].bind(this))}}catch(e){n.e(e)}finally{n.f()}}return _createClass(o,[{key:"setOptions",value:function(e){this.options=e?g({},this.constructor.defaults,e):{};for(var t=0,n=Object.entries(this.option("on")||{});t<n.length;t++){var i=_slicedToArray(n[t],2),o=i[0],i=i[1];this.on(o,i)}}},{key:"option",value:function(e){for(var e=q(e,this.options),t=arguments.length,n=new Array(1<t?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return e=e&&"function"==typeof e?e.call.apply(e,[this,this].concat(n)):e}},{key:"optionFor",value:function(e,t,n){for(var i=q(t,e),o=arguments.length,a=new Array(3<o?o-3:0),r=3;r<o;r++)a[r-3]=arguments[r];(i="false"===(i="true"===(i="string"!=typeof(s=i)||isNaN(s)||isNaN(parseFloat(s))?i:parseFloat(i))?!0:i)?!1:i)&&"function"==typeof i&&(i=i.call.apply(i,[this,this,e].concat(a)));var s=q(t,this.options);return s&&"function"==typeof s?i=s.call.apply(s,[this,this,e].concat(a,[i])):void 0===i&&(i=s),void 0===i?n:i}},{key:"cn",value:function(e){var t=this.options.classes;return t&&t[e]||""}},{key:"localize",value:function(e){var o=this,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[];e=String(e).replace(/\{\{(\w+).?(\w+)?\}\}/g,function(e,t,n){var i="";return n?i=o.option("".concat(t[0]+t.toLowerCase().substring(1),".l10n.").concat(n)):t&&(i=o.option("l10n.".concat(t))),i=i||e});for(var n=0;n<t.length;n++)e=e.split(t[n][0]).join(t[n][1]);return e.replace(/\{\{(.*?)\}\}/g,function(e,t){return t})}},{key:"on",value:function(e,n){var i=this,t=[];"string"==typeof e?t=e.split(" "):Array.isArray(e)&&(t=e),this.events||(this.events=new Map),t.forEach(function(e){var t=i.events.get(e);t||(i.events.set(e,[]),t=[]),t.includes(n)||t.push(n),i.events.set(e,t)})}},{key:"off",value:function(e,n){var i=this,t=[];"string"==typeof e?t=e.split(" "):Array.isArray(e)&&(t=e),t.forEach(function(e){var t,e=i.events.get(e);Array.isArray(e)&&-1<(t=e.indexOf(n))&&e.splice(t,1)})}},{key:"emit",value:function(e){for(var t=this,n=arguments.length,i=new Array(1<n?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];_toConsumableArray(this.events.get(e)||[]).forEach(function(e){return e.apply(void 0,[t].concat(i))}),"*"!==e&&this.emit.apply(this,["*",e].concat(i))}}]),o}(),ie=(Object.defineProperty(ne,"version",{enumerable:!0,configurable:!0,writable:!0,value:"5.0.33"}),Object.defineProperty(ne,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:{}}),function(){_inherits(n,ne);var t=_createSuper(n);function n(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return _classCallCheck(this,n),e=t.call(this,e),Object.defineProperty(_assertThisInitialized(e),"plugins",{enumerable:!0,configurable:!0,writable:!0,value:{}}),e}return _createClass(n,[{key:"attachPlugins",value:function(){for(var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=new Map,n=0,i=Object.entries(e);n<i.length;n++){var o=_slicedToArray(i[n],2),a=o[0],o=o[1],r=this.option(a),s=this.plugins[a];s||!1===r?s&&!1===r&&(s.detach(),delete this.plugins[a]):t.set(a,new o(this,r||{}))}var l,c=_createForOfIteratorHelper(t);try{for(c.s();!(l=c.n()).done;){var u=_slicedToArray(l.value,2),h=u[0],d=u[1];(this.plugins[h]=d).attach()}}catch(e){c.e(e)}finally{c.f()}}},{key:"detachPlugins",value:function(e){var t,n=_createForOfIteratorHelper(e=e||Object.keys(this.plugins));try{for(n.s();!(t=n.n()).done;){var i=t.value,o=this.plugins[i];o&&o.detach(),delete this.plugins[i]}}catch(e){n.e(e)}finally{n.f()}return this.emit("detachPlugins"),this}}]),n}()),x=((e=_=_||{})[e.Init=0]="Init",e[e.Error=1]="Error",e[e.Ready=2]="Ready",e[e.Panning=3]="Panning",e[e.Mousemove=4]="Mousemove",e[e.Destroy=5]="Destroy",["a","b","c","d","e","f"]),e={PANUP:"Move up",PANDOWN:"Move down",PANLEFT:"Move left",PANRIGHT:"Move right",ZOOMIN:"Zoom in",ZOOMOUT:"Zoom out",TOGGLEZOOM:"Toggle zoom level",TOGGLE1TO1:"Toggle zoom level",ITERATEZOOM:"Toggle zoom level",ROTATECCW:"Rotate counterclockwise",ROTATECW:"Rotate clockwise",FLIPX:"Flip horizontally",FLIPY:"Flip vertically",FITX:"Fit horizontally",FITY:"Fit vertically",RESET:"Reset",TOGGLEFS:"Toggle fullscreen"},t={content:null,width:"auto",height:"auto",panMode:"drag",touch:!0,dragMinThreshold:3,lockAxis:!1,mouseMoveFactor:1,mouseMoveFriction:.12,zoom:!0,pinchToZoom:!0,panOnlyZoomed:"auto",minScale:1,maxScale:2,friction:.25,dragFriction:.35,decelFriction:.05,click:"toggleZoom",dblClick:!1,wheel:"zoom",wheelLimit:7,spinner:!0,bounds:"auto",infinite:!1,rubberband:!0,bounce:!0,maxVelocity:75,transformParent:!1,classes:{content:"f-panzoom__content",isLoading:"is-loading",canZoomIn:"can-zoom_in",canZoomOut:"can-zoom_out",isDraggable:"is-draggable",isDragging:"is-dragging",inFullscreen:"in-fullscreen",htmlHasFullscreen:"with-panzoom-in-fullscreen"},l10n:e},n='<circle cx="25" cy="25" r="20"></circle>',oe='<div class="f-spinner"><svg viewBox="0 0 50 50">'+n+n+"</svg></div>",ae={a:1,b:0,c:0,d:1,e:0,f:0},T="mousemove",re="content",se=null,le=null,f=function(){_inherits(a,ie);var o=_createSuper(a);function a(e){var t,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};if(_classCallCheck(this,a),t=o.call(this,n),Object.defineProperty(_assertThisInitialized(t),"pointerTracker",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(_assertThisInitialized(t),"resizeObserver",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(_assertThisInitialized(t),"updateTimer",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(_assertThisInitialized(t),"clickTimer",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(_assertThisInitialized(t),"rAF",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(_assertThisInitialized(t),"isTicking",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(_assertThisInitialized(t),"ignoreBounds",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(_assertThisInitialized(t),"isBouncingX",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(_assertThisInitialized(t),"isBouncingY",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(_assertThisInitialized(t),"clicks",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(_assertThisInitialized(t),"trackingPoints",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(_assertThisInitialized(t),"pwt",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(_assertThisInitialized(t),"cwd",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(_assertThisInitialized(t),"pmme",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(_assertThisInitialized(t),"friction",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(_assertThisInitialized(t),"state",{enumerable:!0,configurable:!0,writable:!0,value:_.Init}),Object.defineProperty(_assertThisInitialized(t),"isDragging",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(_assertThisInitialized(t),"container",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(_assertThisInitialized(t),"content",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(_assertThisInitialized(t),"spinner",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(_assertThisInitialized(t),"containerRect",{enumerable:!0,configurable:!0,writable:!0,value:{width:0,height:0,innerWidth:0,innerHeight:0}}),Object.defineProperty(_assertThisInitialized(t),"contentRect",{enumerable:!0,configurable:!0,writable:!0,value:{top:0,right:0,bottom:0,left:0,fullWidth:0,fullHeight:0,fitWidth:0,fitHeight:0,width:0,height:0}}),Object.defineProperty(_assertThisInitialized(t),"dragStart",{enumerable:!0,configurable:!0,writable:!0,value:{x:0,y:0,top:0,left:0,time:0}}),Object.defineProperty(_assertThisInitialized(t),"dragOffset",{enumerable:!0,configurable:!0,writable:!0,value:{x:0,y:0,time:0}}),Object.defineProperty(_assertThisInitialized(t),"current",{enumerable:!0,configurable:!0,writable:!0,value:Object.assign({},ae)}),Object.defineProperty(_assertThisInitialized(t),"target",{enumerable:!0,configurable:!0,writable:!0,value:Object.assign({},ae)}),Object.defineProperty(_assertThisInitialized(t),"velocity",{enumerable:!0,configurable:!0,writable:!0,value:{a:0,b:0,c:0,d:0,e:0,f:0}}),Object.defineProperty(_assertThisInitialized(t),"lockedAxis",{enumerable:!0,configurable:!0,writable:!0,value:!1}),!e)throw new Error("Container Element Not Found");t.container=e,t.initContent(),t.attachPlugins(Object.assign(Object.assign({},a.Plugins),i)),t.emit("attachPlugins"),t.emit("init");n=t.content;return n.addEventListener("load",t.onLoad),n.addEventListener("error",t.onError),t.isContentLoading?(t.option("spinner")&&(e.classList.add(t.cn("isLoading")),i=m(oe),!e.contains(n)||n.parentElement instanceof HTMLPictureElement?t.spinner=e.appendChild(i):t.spinner=(null==(e=n.parentElement)?void 0:e.insertBefore(i,n))||null),t.emit("beforeLoad")):queueMicrotask(function(){t.enable()}),_possibleConstructorReturn(t)}return _createClass(a,[{key:"fits",get:function(){return this.contentRect.width-this.contentRect.fitWidth<1&&this.contentRect.height-this.contentRect.fitHeight<1}},{key:"isTouchDevice",get:function(){return le=null===le?window.matchMedia("(hover: none)").matches:le}},{key:"isMobile",get:function(){return se=null===se?/iPhone|iPad|iPod|Android/i.test(navigator.userAgent):se}},{key:"panMode",get:function(){return this.options.panMode!==T||this.isTouchDevice?"drag":T}},{key:"panOnlyZoomed",get:function(){var e=this.options.panOnlyZoomed;return"auto"===e?this.isTouchDevice:e}},{key:"isInfinite",get:function(){return this.option("infinite")}},{key:"angle",get:function(){return 180*Math.atan2(this.current.b,this.current.a)/Math.PI||0}},{key:"targetAngle",get:function(){return 180*Math.atan2(this.target.b,this.target.a)/Math.PI||0}},{key:"scale",get:function(){var e=this.current,t=e.a,e=e.b;return Math.sqrt(t*t+e*e)||1}},{key:"targetScale",get:function(){var e=this.target,t=e.a,e=e.b;return Math.sqrt(t*t+e*e)||1}},{key:"minScale",get:function(){return this.option("minScale")||1}},{key:"fullScale",get:function(){var e=this.contentRect;return e.fullWidth/e.fitWidth||1}},{key:"maxScale",get:function(){return this.fullScale*(this.option("maxScale")||1)||1}},{key:"coverScale",get:function(){var e=this.containerRect,t=this.contentRect,e=Math.max(e.height/t.fitHeight,e.width/t.fitWidth)||1;return Math.min(this.fullScale,e)}},{key:"isScaling",get:function(){return 1e-5<Math.abs(this.targetScale-this.scale)&&!this.isResting}},{key:"isContentLoading",get:function(){var e=this.content;return!!(e&&e instanceof HTMLImageElement)&&!e.complete}},{key:"isResting",get:function(){if(this.isBouncingX||this.isBouncingY)return!1;for(var e=0,t=x;e<t.length;e++){var n=t[e],i="e"==n||"f"===n?1e-4:1e-5;if(Math.abs(this.target[n]-this.current[n])>i)return!1}return!(!this.ignoreBounds&&!this.checkBounds().inBounds)}},{key:"initContent",value:function(){var e=this.container,t=this.cn(re),n=this.option(re)||e.querySelector(".".concat(t));if(n||(n=e.querySelector("img,picture")||e.firstElementChild)&&E(n,t),!(n=n instanceof HTMLPictureElement?n.querySelector("img"):n))throw new Error("No content found");this.content=n}},{key:"onLoad",value:function(){var e=this.spinner,t=this.container,n=this.state;e&&(e.remove(),this.spinner=null),this.option("spinner")&&t.classList.remove(this.cn("isLoading")),this.emit("afterLoad"),n===_.Init?this.enable():this.updateMetrics()}},{key:"onError",value:function(){this.state!==_.Destroy&&(this.spinner&&(this.spinner.remove(),this.spinner=null),this.stop(),this.detachEvents(),this.state=_.Error,this.emit("error"))}},{key:"getNextScale",value:function(e){var t=this.fullScale,n=this.targetScale,i=this.coverScale,o=this.maxScale,a=this.minScale,r=a;switch(e){case"toggleMax":r=n-a<.5*(o-a)?o:a;break;case"toggleCover":r=n-a<.5*(i-a)?i:a;break;case"toggleZoom":r=n-a<.5*(t-a)?t:a;break;case"iterateZoom":var s=[1,t,o].sort(function(e,t){return e-t}),l=s.findIndex(function(e){return n+1e-5<e}),r=s[l]||1}return r}},{key:"attachObserver",value:function(){function e(){var e=n.container,t=n.containerRect;return.1<Math.abs(t.width-e.getBoundingClientRect().width)||.1<Math.abs(t.height-e.getBoundingClientRect().height)}var t,n=this;this.resizeObserver||void 0===window.ResizeObserver||(this.resizeObserver=new ResizeObserver(function(){n.updateTimer||(e()?(n.onResize(),n.isMobile&&(n.updateTimer=setTimeout(function(){e()&&n.onResize(),n.updateTimer=null},500))):n.updateTimer&&(clearTimeout(n.updateTimer),n.updateTimer=null))})),null!=(t=this.resizeObserver)&&t.observe(this.container)}},{key:"detachObserver",value:function(){var e;null!=(e=this.resizeObserver)&&e.disconnect()}},{key:"attachEvents",value:function(){var e=this.container;e.addEventListener("click",this.onClick,{passive:!1,capture:!1}),e.addEventListener("wheel",this.onWheel,{passive:!1}),this.pointerTracker=new H(e,{start:this.onPointerDown,move:this.onPointerMove,end:this.onPointerUp}),document.addEventListener(T,this.onMouseMove)}},{key:"detachEvents",value:function(){var e=this.container;e.removeEventListener("click",this.onClick,{passive:!1,capture:!1}),e.removeEventListener("wheel",this.onWheel,{passive:!1}),null!=(e=this.pointerTracker)&&e.stop(),this.pointerTracker=null,document.removeEventListener(T,this.onMouseMove),document.removeEventListener("keydown",this.onKeydown,!0),this.clickTimer&&(clearTimeout(this.clickTimer),this.clickTimer=null),this.updateTimer&&(clearTimeout(this.updateTimer),this.updateTimer=null)}},{key:"animate",value:function(){for(var e=this,t=(this.setTargetForce(),this.friction),n=this.option("maxVelocity"),i=0,o=x;i<o.length;i++){var a=o[i];t?(this.velocity[a]*=1-t,n&&!this.isScaling&&(this.velocity[a]=Math.max(Math.min(this.velocity[a],n),-1*n)),this.current[a]+=this.velocity[a]):this.current[a]=this.target[a]}this.setTransform(),this.setEdgeForce(),!this.isResting||this.isDragging?this.rAF=requestAnimationFrame(function(){return e.animate()}):this.stop("current")}},{key:"setTargetForce",value:function(){for(var e=0,t=x;e<t.length;e++){var n=t[e];"e"===n&&this.isBouncingX||"f"===n&&this.isBouncingY||(this.velocity[n]=(1/(1-this.friction)-1)*(this.target[n]-this.current[n]))}}},{key:"checkBounds",value:function(){var e=this.current,t=e.e+(0<arguments.length&&void 0!==arguments[0]?arguments[0]:0),e=e.f+(1<arguments.length&&void 0!==arguments[1]?arguments[1]:0),n=this.getBounds(),i=n.x,o=n.y,a=i.min,i=i.max,r=o.min,o=o.max,s=0,l=0;return a!==1/0&&t<a?s=a-t:i!==1/0&&i<t&&(s=i-t),r!==1/0&&e<r?l=r-e:o!==1/0&&o<e&&(l=o-e),Math.abs(s)<1e-4&&(s=0),Math.abs(l)<1e-4&&(l=0),Object.assign(Object.assign({},n),{xDiff:s,yDiff:l,inBounds:!s&&!l})}},{key:"clampTargetBounds",value:function(){var e=this.target,t=this.getBounds(),n=t.x,t=t.y;n.min!==1/0&&(e.e=Math.max(e.e,n.min)),n.max!==1/0&&(e.e=Math.min(e.e,n.max)),t.min!==1/0&&(e.f=Math.max(e.f,t.min)),t.max!==1/0&&(e.f=Math.min(e.f,t.max))}},{key:"calculateContentDim",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.current,t=this.content,n=this.contentRect,i=n.fitWidth,o=n.fitHeight,a=n.fullWidth,n=n.fullHeight,r=a,s=n;return!this.option("zoom")&&0===this.angle||(a=(t=!(t instanceof HTMLImageElement||"none"!==window.getComputedStyle(t).maxWidth&&"none"!==window.getComputedStyle(t).maxHeight))?a:i,i=t?n:o,t=this.getMatrix(e),n=new DOMPoint(0,0).matrixTransform(t),o=new DOMPoint(0+a,0).matrixTransform(t),e=new DOMPoint(0+a,0+i).matrixTransform(t),a=new DOMPoint(0,0+i).matrixTransform(t),i=Math.abs(e.x-n.x),t=Math.abs(e.y-n.y),e=Math.abs(a.x-o.x),n=Math.abs(a.y-o.y),r=Math.max(i,e),s=Math.max(t,n)),{contentWidth:r,contentHeight:s}}},{key:"setEdgeForce",value:function(){var e,t,n,i,o,a,r,s;this.ignoreBounds||this.isDragging||this.panMode===T||this.targetScale<this.scale?(this.isBouncingX=!1,this.isBouncingY=!1):(e=this.target,t=(o=this.checkBounds()).x,n=o.y,i=o.xDiff,o=o.yDiff,a=this.option("maxVelocity"),r=this.velocity.e,s=this.velocity.f,0!==i?(this.isBouncingX=!0,i*r<=0?r+=.14*i:(r=.14*i,t.min!==1/0&&(this.target.e=Math.max(e.e,t.min)),t.max!==1/0&&(this.target.e=Math.min(e.e,t.max))),a&&(r=Math.max(Math.min(r,a),-1*a))):this.isBouncingX=!1,0!==o?(this.isBouncingY=!0,o*s<=0?s+=.14*o:(s=.14*o,n.min!==1/0&&(this.target.f=Math.max(e.f,n.min)),n.max!==1/0&&(this.target.f=Math.min(e.f,n.max))),a&&(s=Math.max(Math.min(s,a),-1*a))):this.isBouncingY=!1,this.isBouncingX&&(this.velocity.e=r),this.isBouncingY&&(this.velocity.f=s))}},{key:"enable",value:function(){for(var e=this.content,t=new DOMMatrixReadOnly(window.getComputedStyle(e).transform),n=0,i=x;n<i.length;n++){var o=i[n];this.current[o]=this.target[o]=t[o]}this.updateMetrics(),this.attachObserver(),this.attachEvents(),this.state=_.Ready,this.emit("ready")}},{key:"onClick",value:function(t){var n=this,e=("click"===t.type&&0===t.detail&&(this.dragOffset.x=0,this.dragOffset.y=0),this.isDragging&&(null!=(e=this.pointerTracker)&&e.clear(),this.trackingPoints=[],this.startDecelAnim()),t.target);if(e&&!t.defaultPrevented)if(e.hasAttribute("disabled"))t.preventDefault(),t.stopPropagation();else if(!(r=window.getSelection())||"Range"!==r.type||e.closest("button")){var i,o,a,r=e.closest("[data-panzoom-action]"),s=e.closest("[data-panzoom-change]"),r=r||s,s=r&&h(r)?r.dataset:null;if(s){r=s.panzoomChange,s=s.panzoomAction;if((r||s)&&t.preventDefault(),r){var l={};try{l=JSON.parse(r)}catch(t){console&&console.warn("The given data was not valid JSON")}return void this.applyChange(l)}if(s)return void(this[s]&&this[s]())}3<Math.abs(this.dragOffset.x)||3<Math.abs(this.dragOffset.y)?(t.preventDefault(),t.stopPropagation()):e.closest("[data-fancybox]")||(r=this.content.getBoundingClientRect(),(l=this.dragStart).time&&!this.canZoomOut()&&(2<Math.abs(r.x-l.x)||2<Math.abs(r.y-l.y)))||(this.dragStart.time=0,i=function(e){n.option("zoom",t)&&e&&"string"==typeof e&&/(iterateZoom)|(toggle(Zoom|Full|Cover|Max)|(zoomTo(Fit|Cover|Max)))/.test(e)&&"function"==typeof n[e]&&(t.preventDefault(),n[e]({event:t}))},o=this.option("click",t),(a=this.option("dblClick",t))?(this.clicks++,1==this.clicks&&(this.clickTimer=setTimeout(function(){1===n.clicks?(n.emit("click",t),!t.defaultPrevented&&o&&i(o)):(n.emit("dblClick",t),t.defaultPrevented||i(a)),n.clicks=0,n.clickTimer=null},350))):(this.emit("click",t),!t.defaultPrevented&&o&&i(o)))}}},{key:"addTrackingPoint",value:function(e){var t=this.trackingPoints.filter(function(e){return e.time>Date.now()-100});t.push(e),this.trackingPoints=t}},{key:"onPointerDown",value:function(e,t,n){if(!1===this.option("touch",e))return!1;this.pwt=0,this.dragOffset={x:0,y:0,time:0},this.trackingPoints=[];var i=this.content.getBoundingClientRect();if(this.dragStart={x:i.x,y:i.y,top:i.top,left:i.left,time:Date.now()},this.clickTimer)return!1;if(this.panMode===T&&1<this.targetScale)return e.preventDefault(),e.stopPropagation(),!1;i=e.composedPath()[0];if(!n.length){if(["TEXTAREA","OPTION","INPUT","SELECT","VIDEO","IFRAME"].includes(i.nodeName)||i.closest("[contenteditable],[data-selectable],[data-draggable],[data-clickable],[data-panzoom-change],[data-panzoom-action]"))return!1;null!=(n=window.getSelection())&&n.removeAllRanges()}if("mousedown"===e.type)["A","BUTTON"].includes(i.nodeName)||e.preventDefault();else if(.3<Math.abs(this.velocity.a))return!1;return this.target.e=this.current.e,this.target.f=this.current.f,this.stop(),this.isDragging||(this.isDragging=!0,this.addTrackingPoint(t),this.emit("touchStart",e)),!0}},{key:"onPointerMove",value:function(e,t,n){if(!1!==this.option("touch",e)&&this.isDragging&&!(t.length<2&&this.panOnlyZoomed&&O(this.targetScale)<=O(this.minScale)||(this.emit("touchMove",e),e.defaultPrevented))){this.addTrackingPoint(t[0]);var i=this.content,o=V(n[0],n[1]),a=V(t[0],t[1]),r=0,s=0,i=(1<t.length&&(i=i.getBoundingClientRect(),r=o.clientX-i.left-.5*i.width,s=o.clientY-i.top-.5*i.height),N(n[0],n[1])),n=N(t[0],t[1]),t=i?n/i:1,n=a.clientX-o.clientX,i=a.clientY-o.clientY,a=(this.dragOffset.x+=n,this.dragOffset.y+=i,this.dragOffset.time=Date.now()-this.dragStart.time,O(this.targetScale)===O(this.minScale)&&this.option("lockAxis"));if(a&&!this.lockedAxis)if("xy"===a||"y"===a||"touchmove"===e.type){if(Math.abs(this.dragOffset.x)<6&&Math.abs(this.dragOffset.y)<6)return void e.preventDefault();var o=Math.abs(180*Math.atan2(this.dragOffset.y,this.dragOffset.x)/Math.PI);this.lockedAxis=45<o&&o<135?"y":"x",this.dragOffset.x=0,i=n=this.dragOffset.y=0}else this.lockedAxis=a;j(e.target,this.content)&&(a="x",this.dragOffset.y=0),a&&"xy"!==a&&this.lockedAxis!==a&&O(this.targetScale)===O(this.minScale)||(e.cancelable&&e.preventDefault(),this.container.classList.add(this.cn("isDragging")),o=this.checkBounds(n,i),this.option("rubberband")?("x"!==this.isInfinite&&(0<o.xDiff&&n<0||o.xDiff<0&&0<n)&&(n*=Math.max(0,.5-Math.abs(.75/this.contentRect.fitWidth*o.xDiff))),"y"!==this.isInfinite&&(0<o.yDiff&&i<0||o.yDiff<0&&0<i)&&(i*=Math.max(0,.5-Math.abs(.75/this.contentRect.fitHeight*o.yDiff)))):(o.xDiff&&(n=0),o.yDiff&&(i=0)),a=this.targetScale,e=this.minScale,o=this.maxScale,a<.5*e&&(t=Math.max(t,e)),1.5*o<a&&(t=Math.min(t,o)),"y"===this.lockedAxis&&O(a)===O(e)&&(n=0),"x"===this.lockedAxis&&O(a)===O(e)&&(i=0),this.applyChange({originX:r,originY:s,panX:n,panY:i,scale:t,friction:this.option("dragFriction"),ignoreBounds:!0}))}}},{key:"onPointerUp",value:function(e,t,n){n.length?(this.dragOffset.x=0,this.dragOffset.y=0,this.trackingPoints=[]):(this.container.classList.remove(this.cn("isDragging")),this.isDragging&&(this.addTrackingPoint(t),this.panOnlyZoomed&&this.contentRect.width-this.contentRect.fitWidth<1&&this.contentRect.height-this.contentRect.fitHeight<1&&(this.trackingPoints=[]),j(e.target,this.content)&&"y"===this.lockedAxis&&(this.trackingPoints=[]),this.emit("touchEnd",e),this.isDragging=!1,this.lockedAxis=!1,this.state!==_.Destroy)&&!e.defaultPrevented&&this.startDecelAnim())}},{key:"startDecelAnim",value:function(){var e=this.isScaling;this.rAF&&(cancelAnimationFrame(this.rAF),this.rAF=null),this.isBouncingX=!1,this.isBouncingY=!1;for(var t=0,n=x;t<n.length;t++)this.velocity[n[t]]=0;this.target.e=this.current.e,this.target.f=this.current.f,y(this.container,"is-scaling"),y(this.container,"is-animating"),this.isTicking=!1;var i=this.trackingPoints,o=i[0],i=i[i.length-1],a=0,r=0,s=0,o=(i&&o&&(a=i.clientX-o.clientX,r=i.clientY-o.clientY,s=i.time-o.time),(null==(i=window.visualViewport)?void 0:i.scale)||1),i=(1!==o&&(a*=o,r*=o),0),o=0,l=0,c=0,u=this.option("decelFriction"),h=this.targetScale,r=(0<s&&(l=3<Math.abs(a)?a/(s/30):0,c=3<Math.abs(r)?r/(s/30):0,a=this.option("maxVelocity"))&&(l=Math.max(Math.min(l,a),-1*a),c=Math.max(Math.min(c,a),-1*a)),l&&(i=l/(1/(1-u)-1)),c&&(o=c/(1/(1-u)-1)),("y"===this.option("lockAxis")||"xy"===this.option("lockAxis")&&"y"===this.lockedAxis&&O(h)===this.minScale)&&(i=l=0),("x"===this.option("lockAxis")||"xy"===this.option("lockAxis")&&"x"===this.lockedAxis&&O(h)===this.minScale)&&(o=c=0),this.dragOffset.x),s=this.dragOffset.y,a=this.option("dragMinThreshold")||0;Math.abs(r)<a&&Math.abs(s)<a&&(l=c=i=o=0),(this.option("zoom")&&(h<this.minScale-1e-5||h>this.maxScale+1e-5)||e&&!i&&!o)&&(u=.35),this.applyChange({panX:i,panY:o,friction:u}),this.emit("decel",l,c,r,s)}},{key:"onWheel",value:function(e){var t=[-e.deltaX||0,-e.deltaY||0,-e.detail||0].reduce(function(e,t){return Math.abs(t)>Math.abs(e)?t:e}),t=Math.max(-1,Math.min(1,t));this.emit("wheel",e,t),this.panMode===T||e.defaultPrevented||("pan"===(t=this.option("wheel"))?(e.preventDefault(),this.panOnlyZoomed&&!this.canZoomOut()||this.applyChange({panX:2*-e.deltaX,panY:2*-e.deltaY,bounce:!1})):"zoom"===t&&!1!==this.option("zoom")&&this.zoomWithWheel(e))}},{key:"onMouseMove",value:function(e){this.panWithMouse(e)}},{key:"onKeydown",value:function(e){"Escape"===e.key&&this.toggleFS()}},{key:"onResize",value:function(){this.updateMetrics(),this.checkBounds().inBounds||this.requestTick()}},{key:"setTransform",value:function(){this.emit("beforeTransform");for(var e=this.current,t=this.target,n=this.content,i=this.contentRect,o=Object.assign({},ae),a=0,r=x;a<r.length;a++){var s=r[a];o[s]=O(e[s],"e"==s||"f"===s?1e4:1e5),Math.abs(t[s]-e[s])<("e"==s||"f"===s?.51:.001)&&(e[s]=t[s])}var l=o.a,c=o.b,u=o.c,h=o.d,d=o.e,f=o.f,l="matrix(".concat(l,", ").concat(c,", ").concat(u,", ").concat(h,", ").concat(d,", ").concat(f,")"),c=n.parentElement instanceof HTMLPictureElement?n.parentElement:n;(c=this.option("transformParent")?c.parentElement||c:c).style.transform!==l&&(c.style.transform=l,h=(u=this.calculateContentDim()).contentWidth,d=u.contentHeight,i.width=h,i.height=d,this.emit("afterTransform"))}},{key:"updateMetrics",value:function(){var e,t,n,i,o,a,r,s,l,c,u,h,d,f,p,g=0<arguments.length&&void 0!==arguments[0]&&arguments[0];this&&this.state!==_.Destroy&&!this.isContentLoading&&(l=Math.max(1,(null==(l=window.visualViewport)?void 0:l.scale)||1),t=this.container,e=(r=this.content)instanceof HTMLImageElement,t=t.getBoundingClientRect(),i=getComputedStyle(this.container),n=t.width*l,o=t.height*l,a=parseFloat(i.paddingTop)+parseFloat(i.paddingBottom),i=n-(parseFloat(i.paddingLeft)+parseFloat(i.paddingRight)),this.containerRect={width:n,height:o,innerWidth:i,innerHeight:o-a},n=this.option("width")||"auto",i=this.option("height")||"auto","auto"===n&&(n=parseFloat(r.dataset.width||"")||((o=r)instanceof HTMLImageElement?o.naturalWidth:o instanceof SVGElement?o.width.baseVal.value:Math.max(o.offsetWidth,o.scrollWidth))||0),"auto"===i&&(i=parseFloat(r.dataset.height||"")||((a=r)instanceof HTMLImageElement?a.naturalHeight:a instanceof SVGElement?a.height.baseVal.value:Math.max(a.offsetHeight,a.scrollHeight))||0),o=r.parentElement instanceof HTMLPictureElement?r.parentElement:r,a=(o=this.option("transformParent")?o.parentElement||o:o).getAttribute("style")||"",o.style.setProperty("transform","none","important"),e&&(o.style.width="",o.style.height=""),o.offsetHeight,r=r.getBoundingClientRect(),s=r.width*l,l=r.height*l,u=c=0,e&&(1<Math.abs(n-s)||1<Math.abs(i-l))&&(f=(h=s)/l<(p=(d=n)/(f=i))?(d=h)/p:(d=l*p,l),s=(p={width:d,height:f,top:.5*(l-f),left:.5*(h-d)}).width,l=p.height,c=p.top,u=p.left),this.contentRect=Object.assign(Object.assign({},this.contentRect),{top:r.top-t.top+c,bottom:t.bottom-r.bottom+c,left:r.left-t.left+u,right:t.right-r.right+u,fitWidth:s,fitHeight:l,width:s,height:l,fullWidth:n,fullHeight:i}),o.style.cssText=a,e&&(o.style.width="".concat(s,"px"),o.style.height="".concat(l,"px")),this.setTransform(),!0!==g&&this.emit("refresh"),this.ignoreBounds||(O(this.targetScale)<O(this.minScale)?this.zoomTo(this.minScale,{friction:0}):this.targetScale>this.maxScale?this.zoomTo(this.maxScale,{friction:0}):this.state===_.Init||this.checkBounds().inBounds||this.requestTick()),this.updateControls())}},{key:"calculateBounds",value:function(){var e,t,n,i=this.calculateContentDim(this.target),o=i.contentWidth,i=i.contentHeight,a=this.targetScale,r=this.lockedAxis,s=this.contentRect,l=s.fitWidth,s=s.fitHeight,c=0,u=0,h=0,d=0,f=this.option("infinite");return!0===f||r&&f===r?(u=c=-1/0,d=h=1/0):(f=this.containerRect,r=this.contentRect,n=O(l*a,1e4),a=O(s*a,1e4),e=f.innerWidth,t=f.innerHeight,f.width===n&&(e=f.width),f.width===a&&(t=f.height),e<o&&(c=-1*(h=.5*(o-e)),c+=n=.5*(r.right-r.left),h+=n),e<l&&o<e&&(c-=.5*(l-e),h-=.5*(l-e)),t<i&&(u=-1*(d=.5*(i-t)),u+=a=.5*(r.bottom-r.top),d+=a),t<s&&i<t&&(c-=.5*(s-t),h-=.5*(s-t))),{x:{min:c,max:h},y:{min:u,max:d}}}},{key:"getBounds",value:function(){var e=this.option("bounds");return"auto"!==e?e:this.calculateBounds()}},{key:"updateControls",value:function(){var e=this,t=e.container,n=e.panMode,i=e.contentRect,o=e.targetScale,a=e.minScale,r=a,s=e.option("click")||!1,l=(s&&(r=e.getNextScale(s)),e.canZoomIn()),c=e.canZoomOut(),s="drag"===n&&!!this.option("touch"),e=c&&s;if(s&&(O(o)<O(a)&&!this.panOnlyZoomed&&(e=!0),O(i.width,1)>O(i.fitWidth,1)||O(i.height,1)>O(i.fitHeight,1))&&(e=!0),O(i.width*o,1)<O(i.fitWidth,1)&&(e=!1),n===T&&(e=!1),v(t,this.cn("isDraggable"),e),this.option("zoom")){var u,s=l&&O(r)>O(o),a=!s&&!e&&c&&O(r)<O(o),h=(v(t,this.cn("canZoomIn"),s),v(t,this.cn("canZoomOut"),a),_createForOfIteratorHelper(t.querySelectorAll("[data-panzoom-action]")));try{for(h.s();!(u=h.n()).done;){var d=u.value,f=!1,p=!1;switch(d.dataset.panzoomAction){case"zoomIn":l?f=!0:p=!0;break;case"zoomOut":c?f=!0:p=!0;break;case"toggleZoom":case"iterateZoom":l||c?f=!0:p=!0;var g=d.querySelector("g");g&&(g.style.display=l?"":"none")}f?(d.removeAttribute("disabled"),d.removeAttribute("tabindex")):p&&(d.setAttribute("disabled",""),d.setAttribute("tabindex","-1"))}}catch(e){h.e(e)}finally{h.f()}}}},{key:"panTo",value:function(e){var t=e.x,t=void 0===t?this.target.e:t,n=e.y,n=void 0===n?this.target.f:n,i=e.scale,i=void 0===i?this.targetScale:i,o=e.friction,o=void 0===o?this.option("friction"):o,a=e.angle,r=e.originX,s=e.originY,l=e.flipX,c=e.flipY,e=e.ignoreBounds;this.state!==_.Destroy&&this.applyChange({panX:t-this.target.e,panY:n-this.target.f,scale:i/this.targetScale,angle:void 0===a?0:a,originX:void 0===r?0:r,originY:void 0===s?0:s,friction:o,flipX:void 0!==l&&l,flipY:void 0!==c&&c,ignoreBounds:void 0!==e&&e})}},{key:"applyChange",value:function(e){var t=e.panX,t=void 0===t?0:t,n=e.panY,n=void 0===n?0:n,i=e.scale,i=void 0===i?1:i,o=e.angle,o=void 0===o?0:o,a=e.originX,a=void 0===a?-this.current.e:a,r=e.originY,r=void 0===r?-this.current.f:r,s=e.friction,s=void 0===s?this.option("friction"):s,l=e.flipX,l=void 0!==l&&l,c=e.flipY,c=void 0!==c&&c,u=e.ignoreBounds,u=void 0!==u&&u,e=e.bounce,e=void 0===e?this.option("bounce"):e,h=this.state;if(h!==_.Destroy){this.rAF&&(cancelAnimationFrame(this.rAF),this.rAF=null),this.friction=s||0,this.ignoreBounds=u;var d,s=this.current,f=s.e,s=s.f,p=this.getMatrix(this.target),g=(new DOMMatrix).translate(f,s).translate(a,r).translate(t,n);this.option("zoom")&&(u||(t=this.targetScale,n=this.minScale,(d=this.maxScale)<t*(i=t*i<n?n/t:i)&&(i=d/t)),g=g.scale(i)),g=g.translate(-a,-r).translate(-f,-s).multiply(p),o&&(g=g.rotate(o)),l&&(g=g.scale(-1,1)),c&&(g=g.scale(1,-1));for(var v=0,m=x;v<m.length;v++){var y=m[v];"e"!==y&&"f"!==y&&(g[y]>this.minScale+1e-5||g[y]<this.minScale-1e-5)?this.target[y]=g[y]:this.target[y]=O(g[y],1e4)}(this.targetScale<this.scale||.1<Math.abs(i-1)||this.panMode===T||!1===e)&&!u&&this.clampTargetBounds(),h===_.Init?this.animate():this.isResting||(this.state=_.Panning,this.requestTick())}}},{key:"stop",value:function(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0];if(this.state!==_.Init&&this.state!==_.Destroy){var t=this.isTicking;this.rAF&&(cancelAnimationFrame(this.rAF),this.rAF=null),this.isBouncingX=!1,this.isBouncingY=!1;for(var n=0,i=x;n<i.length;n++){var o=i[n];this.velocity[o]=0,"current"===e?this.current[o]=this.target[o]:"target"===e&&(this.target[o]=this.current[o])}this.setTransform(),y(this.container,"is-scaling"),y(this.container,"is-animating"),this.isTicking=!1,this.state=_.Ready,t&&(this.emit("endAnimation"),this.updateControls())}}},{key:"requestTick",value:function(){var e=this;this.isTicking||(this.emit("startAnimation"),this.updateControls(),E(this.container,"is-animating"),this.isScaling&&E(this.container,"is-scaling")),this.isTicking=!0,this.rAF||(this.rAF=requestAnimationFrame(function(){return e.animate()}))}},{key:"panWithMouse",value:function(e){var t,n,i,o,a,r,s,l=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.option("mouseMoveFriction");this.pmme=e,this.panMode!==T||!e||O(this.targetScale)<=O(this.minScale)||(this.emit("mouseMove",e),a=this.container,i=this.containerRect,t=this.contentRect,n=i.width,i=i.height,a=a.getBoundingClientRect(),s=(e.clientX||0)-a.left,e=(e.clientY||0)-a.top,o=(a=this.calculateContentDim(this.target)).contentWidth,a=a.contentHeight,1<(r=this.option("mouseMoveFactor"))&&(o!==n&&(o*=r),a!==i)&&(a*=r),r=.5*(o-n)-s/n*100/100*(o-n),r+=.5*(t.right-t.left),s=.5*(a-i)-e/i*100/100*(a-i),s+=.5*(t.bottom-t.top),this.applyChange({panX:r-this.target.e,panY:s-this.target.f,friction:l}))}},{key:"zoomWithWheel",value:function(e){var t,n,i,o,a;this.state!==_.Destroy&&this.state!==_.Init&&((t=Date.now())-this.pwt<45?e.preventDefault():(this.pwt=t,t=[-e.deltaX||0,-e.deltaY||0,-e.detail||0].reduce(function(e,t){return Math.abs(t)>Math.abs(e)?t:e}),t=Math.max(-1,Math.min(1,t)),n=this.targetScale,i=this.maxScale,o=this.minScale,a=O(a=n*(100+45*t)/100)<O(o)&&O(n)<=O(o)?(this.cwd+=Math.abs(t),o):O(a)>O(i)&&O(n)>=O(i)?(this.cwd+=Math.abs(t),i):(this.cwd=0,Math.max(Math.min(a,i),o)),this.cwd>this.option("wheelLimit")||(e.preventDefault(),O(a)!==O(n)&&this.zoomTo(a,{event:e}))))}},{key:"canZoomIn",value:function(){return this.option("zoom")&&(O(this.contentRect.width,1)<O(this.contentRect.fitWidth,1)||O(this.targetScale)<O(this.maxScale))}},{key:"canZoomOut",value:function(){return this.option("zoom")&&O(this.targetScale)>O(this.minScale)}},{key:"zoomIn",value:function(){this.zoomTo(this.targetScale*(0<arguments.length&&void 0!==arguments[0]?arguments[0]:1.25),1<arguments.length?arguments[1]:void 0)}},{key:"zoomOut",value:function(){this.zoomTo(this.targetScale*(0<arguments.length&&void 0!==arguments[0]?arguments[0]:.8),1<arguments.length?arguments[1]:void 0)}},{key:"zoomToFit",value:function(e){this.zoomTo("fit",e)}},{key:"zoomToCover",value:function(e){this.zoomTo("cover",e)}},{key:"zoomToFull",value:function(e){this.zoomTo("full",e)}},{key:"zoomToMax",value:function(e){this.zoomTo("max",e)}},{key:"toggleZoom",value:function(e){this.zoomTo(this.getNextScale("toggleZoom"),e)}},{key:"toggleMax",value:function(e){this.zoomTo(this.getNextScale("toggleMax"),e)}},{key:"toggleCover",value:function(e){this.zoomTo(this.getNextScale("toggleCover"),e)}},{key:"iterateZoom",value:function(e){this.zoomTo("next",e)}},{key:"zoomTo",value:function(){var e,t,n,i,o,a,r,s=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1,l=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},c=l.friction,c=void 0===c?"auto":c,u=l.originX,u=void 0===u?"auto":u,h=l.originY,h=void 0===h?"auto":h,l=l.event;this.isContentLoading||this.state===_.Destroy||(e=this.targetScale,t=this.fullScale,n=this.maxScale,i=this.coverScale,this.stop(),!(l=this.panMode===T&&this.pmme||l)&&"auto"!==u&&"auto"!==h||(o=this.content.getBoundingClientRect(),a=this.container.getBoundingClientRect(),r=l?l.clientX:a.left+.5*a.width,a=l?l.clientY:a.top+.5*a.height,u=r-o.left-.5*o.width,h=a-o.top-.5*o.height),r=1,"number"==typeof s?r=s:"full"===s?r=t:"cover"===s?r=i:"max"===s?r=n:"fit"===s?r=1:"next"===s&&(r=this.getNextScale("iterateZoom")),this.applyChange({scale:r=r/e||1,originX:u,originY:h,friction:c="auto"===c?1<r?.15:.25:c}),l&&this.panMode===T&&this.panWithMouse(l,c))}},{key:"rotateCCW",value:function(){this.applyChange({angle:-90})}},{key:"rotateCW",value:function(){this.applyChange({angle:90})}},{key:"flipX",value:function(){this.applyChange({flipX:!0})}},{key:"flipY",value:function(){this.applyChange({flipY:!0})}},{key:"fitX",value:function(){this.stop("target");var e=this.containerRect,t=this.contentRect,n=this.target;this.applyChange({panX:.5*e.width-(t.left+.5*t.fitWidth)-n.e,panY:.5*e.height-(t.top+.5*t.fitHeight)-n.f,scale:e.width/t.fitWidth/this.targetScale,originX:0,originY:0,ignoreBounds:!0})}},{key:"fitY",value:function(){this.stop("target");var e=this.containerRect,t=this.contentRect,n=this.target;this.applyChange({panX:.5*e.width-(t.left+.5*t.fitWidth)-n.e,panY:.5*e.innerHeight-(t.top+.5*t.fitHeight)-n.f,scale:e.height/t.fitHeight/this.targetScale,originX:0,originY:0,ignoreBounds:!0})}},{key:"toggleFS",value:function(){var e=this.container,t=this.cn("inFullscreen"),n=this.cn("htmlHasFullscreen"),e=(e.classList.toggle(t),e.classList.contains(t));e?(document.documentElement.classList.add(n),document.addEventListener("keydown",this.onKeydown,!0)):(document.documentElement.classList.remove(n),document.removeEventListener("keydown",this.onKeydown,!0)),this.updateMetrics(),this.emit(e?"enterFS":"exitFS")}},{key:"getMatrix",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.current,t=e.a,n=e.b,i=e.c,o=e.d,a=e.e,e=e.f;return new DOMMatrix([t,n,i,o,a,e])}},{key:"reset",value:function(e){if(this.state!==_.Init&&this.state!==_.Destroy){this.stop("current");for(var t=0,n=x;t<n.length;t++){var i=n[t];this.target[i]=ae[i]}this.target.a=this.minScale,this.target.d=this.minScale,this.clampTargetBounds(),this.isResting||(this.friction=void 0===e?this.option("friction"):e,this.state=_.Panning,this.requestTick())}}},{key:"destroy",value:function(){this.stop(),this.state=_.Destroy,this.detachEvents(),this.detachObserver();for(var e=this.container,t=this.content,n=this.option("classes")||{},i=0,o=Object.values(n);i<o.length;i++){var a=o[i];e.classList.remove(a+"")}t&&(t.removeEventListener("load",this.onLoad),t.removeEventListener("error",this.onError)),this.detachPlugins()}}]),a}(),i=(Object.defineProperty(f,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(f,"Plugins",{enumerable:!0,configurable:!0,writable:!0,value:{}}),(n=w=w||{})[n.Init=0]="Init",n[n.Ready=1]="Ready",n[n.Destroy=2]="Destroy",function(){_inherits(i,ne);var n=_createSuper(i);function i(e,t){return _classCallCheck(this,i),t=n.call(this,t),Object.defineProperty(_assertThisInitialized(t),"instance",{enumerable:!0,configurable:!0,writable:!0,value:e}),t}return _createClass(i,[{key:"attach",value:function(){}},{key:"detach",value:function(){}}]),i}()),t=function(){_inherits(n,i);var t=_createSuper(n);function n(){var e;return _classCallCheck(this,n),e=t.apply(this,arguments),Object.defineProperty(_assertThisInitialized(e),"isDynamic",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(_assertThisInitialized(e),"list",{enumerable:!0,configurable:!0,writable:!0,value:null}),e}return _createClass(n,[{key:"onRefresh",value:function(){this.refresh()}},{key:"build",value:function(){var e,t=this.list;return t||(t=document.createElement("ul"),E(t,this.cn("list")),t.setAttribute("role","tablist"),(e=this.instance.container).appendChild(t),E(e,this.cn("hasDots")),this.list=t),t}},{key:"refresh",value:function(){var e,t=this.instance.pages.length,n=Math.min(2,this.option("minCount")),i=Math.max(2e3,this.option("maxCount")),o=this.option("dynamicFrom");if(t<n||i<t)this.cleanup();else{var n="number"==typeof o&&5<t&&o<=t,i=!this.list||this.isDynamic!==n||this.list.children.length!==t,a=(i&&this.cleanup(),this.build());if(v(a,this.cn("isDynamic"),!!n),i)for(var r=0;r<t;r++)a.append(this.createItem(r));for(var s=0,l=0,c=_toConsumableArray(a.children);l<c.length;l++){var u=c[l],h=s===this.instance.page;h&&(p=u),v(u,this.cn("isCurrent"),h),null!=(e=u.children[0])&&e.setAttribute("aria-selected",h?"true":"false");for(var d=0,f=["isBeforePrev","isPrev","isNext","isAfterNext"];d<f.length;d++)y(u,this.cn(f[d]));s++}var p=p||a.firstChild;n&&p&&(i=(o=p.previousElementSibling)&&o.previousElementSibling,E(o,this.cn("isPrev")),E(i,this.cn("isBeforePrev")),i=(o=p.nextElementSibling)&&o.nextElementSibling,E(o,this.cn("isNext")),E(i,this.cn("isAfterNext"))),this.isDynamic=n}}},{key:"createItem",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,t=document.createElement("li"),e=(t.setAttribute("role","presentation"),m(this.instance.localize(this.option("dotTpl"),[["%d",e+1]]).replace(/\%i/g,e+"")));return t.appendChild(e),null!=(e=t.children[0])&&e.setAttribute("role","tab"),t}},{key:"cleanup",value:function(){this.list&&(this.list.remove(),this.list=null),this.isDynamic=!1,y(this.instance.container,this.cn("hasDots"))}},{key:"attach",value:function(){this.instance.on(["refresh","change"],this.onRefresh)}},{key:"detach",value:function(){this.instance.off(["refresh","change"],this.onRefresh),this.cleanup()}}]),n}(),ce=(Object.defineProperty(t,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:{classes:{list:"f-carousel__dots",isDynamic:"is-dynamic",hasDots:"has-dots",dot:"f-carousel__dot",isBeforePrev:"is-before-prev",isPrev:"is-prev",isCurrent:"is-current",isNext:"is-next",isAfterNext:"is-after-next"},dotTpl:'<button type="button" data-carousel-page="%i" aria-label="{{GOTO}}"><span class="f-carousel__dot" aria-hidden="true"></span></button>',dynamicFrom:11,maxCount:1/0,minCount:2}}),"disabled"),ue="next",n=function(){_inherits(n,i);var t=_createSuper(n);function n(){var e;return _classCallCheck(this,n),e=t.apply(this,arguments),Object.defineProperty(_assertThisInitialized(e),"container",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(_assertThisInitialized(e),"prev",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(_assertThisInitialized(e),"next",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(_assertThisInitialized(e),"isDom",{enumerable:!0,configurable:!0,writable:!0,value:!1}),e}return _createClass(n,[{key:"onRefresh",value:function(){var e,t,n=this.instance,i=n.pages.length,o=n.page;i<2?this.cleanup():(this.build(),e=this.prev,t=this.next,e&&t&&(e.removeAttribute(ce),t.removeAttribute(ce),n.isInfinite||(o<=0&&e.setAttribute(ce,""),i-1<=o&&t.setAttribute(ce,""))))}},{key:"addBtn",value:function(e){var t=this.instance,n=document.createElement("button"),i=(n.setAttribute("tabindex","0"),n.setAttribute("title",t.localize("{{".concat(e.toUpperCase(),"}}"))),E(n,this.cn("button")+" "+this.cn(e===ue?"isNext":"isPrev")),t.isRTL?e===ue?"prev":ue:e);return n.innerHTML=t.localize(this.option("".concat(i,"Tpl"))),n.dataset["carousel".concat((t=e)?t.match("^[a-z]")?t.charAt(0).toUpperCase()+t.substring(1):t:"")]="true",null!=(i=this.container)&&i.appendChild(n),n}},{key:"build",value:function(){var e=this.instance.container,t=this.cn("container"),n=this.container,i=this.prev,o=this.next;n||(n=e.querySelector("."+t),this.isDom=!!n),n||(n=document.createElement("div"),E(n,t),e.appendChild(n)),this.container=n,o=(o=o||n.querySelector("[data-carousel-next]"))||this.addBtn(ue),this.next=o,i=(i=i||n.querySelector("[data-carousel-prev]"))||this.addBtn("prev"),this.prev=i}},{key:"cleanup",value:function(){this.isDom||(this.prev&&this.prev.remove(),this.next&&this.next.remove(),this.container&&this.container.remove()),this.prev=null,this.next=null,this.container=null,this.isDom=!1}},{key:"attach",value:function(){this.instance.on(["refresh","change"],this.onRefresh)}},{key:"detach",value:function(){this.instance.off(["refresh","change"],this.onRefresh),this.cleanup()}}]),n}(),o=(Object.defineProperty(n,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:{classes:{container:"f-carousel__nav",button:"f-button",isNext:"is-next",isPrev:"is-prev"},nextTpl:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" tabindex="-1"><path d="M9 3l9 9-9 9"/></svg>',prevTpl:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" tabindex="-1"><path d="M15 3l-9 9 9 9"/></svg>'}}),function(){_inherits(n,i);var t=_createSuper(n);function n(){var e;return _classCallCheck(this,n),e=t.apply(this,arguments),Object.defineProperty(_assertThisInitialized(e),"selectedIndex",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(_assertThisInitialized(e),"target",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(_assertThisInitialized(e),"nav",{enumerable:!0,configurable:!0,writable:!0,value:null}),e}return _createClass(n,[{key:"addAsTargetFor",value:function(e){this.target=this.instance,this.nav=e,this.attachEvents()}},{key:"addAsNavFor",value:function(e){this.nav=this.instance,this.target=e,this.attachEvents()}},{key:"attachEvents",value:function(){var e=this.nav,t=this.target;e&&t&&(e.options.initialSlide=t.options.initialPage,e.state===w.Ready?this.onNavReady(e):e.on("ready",this.onNavReady),t.state===w.Ready?this.onTargetReady(t):t.on("ready",this.onTargetReady))}},{key:"onNavReady",value:function(e){e.on("createSlide",this.onNavCreateSlide),e.on("Panzoom.click",this.onNavClick),e.on("Panzoom.touchEnd",this.onNavTouch),this.onTargetChange()}},{key:"onTargetReady",value:function(e){e.on("change",this.onTargetChange),e.on("Panzoom.refresh",this.onTargetChange),this.onTargetChange()}},{key:"onNavClick",value:function(e,t,n){this.onNavTouch(e,e.panzoom,n)}},{key:"onNavTouch",value:function(e,t,n){var i,o,a;3<Math.abs(t.dragOffset.x)||3<Math.abs(t.dragOffset.y)||(t=n.target,i=this.nav,o=this.target,i&&o&&t&&(t=t.closest("[data-index]"),n.stopPropagation(),n.preventDefault(),t)&&(n=parseInt(t.dataset.index||"",10)||0,t=o.getPageForSlide(n),a=i.getPageForSlide(n),i.slideTo(a),o.slideTo(t,{friction:(null==(a=null==(i=this.nav)?void 0:i.plugins)?void 0:a.Sync.option("friction"))||0}),this.markSelectedSlide(n)))}},{key:"onNavCreateSlide",value:function(e,t){t.index===this.selectedIndex&&this.markSelectedSlide(t.index)}},{key:"onTargetChange",value:function(){var e,t,n=this.target,i=this.nav;n&&i&&i.state===w.Ready&&n.state===w.Ready&&(e=null==(e=null==(e=n.pages[n.page])?void 0:e.slides[0])?void 0:e.index,t=i.getPageForSlide(e),this.markSelectedSlide(e),i.slideTo(t,null===i.prevPage&&null===n.prevPage?{friction:0}:void 0))}},{key:"markSelectedSlide",value:function(t){var e=this.nav;e&&e.state===w.Ready&&(this.selectedIndex=t,_toConsumableArray(e.slides).map(function(e){e.el&&e.el.classList[e.index===t?"add":"remove"]("is-nav-selected")}))}},{key:"attach",value:function(){var e=this.options.target,t=this.options.nav;e?this.addAsNavFor(e):t&&this.addAsTargetFor(t)}},{key:"detach",value:function(){var e=this,t=e.nav,n=e.target;t&&(t.off("ready",e.onNavReady),t.off("createSlide",e.onNavCreateSlide),t.off("Panzoom.click",e.onNavClick),t.off("Panzoom.touchEnd",e.onNavTouch)),e.nav=null,n&&(n.off("ready",e.onTargetReady),n.off("refresh",e.onTargetChange),n.off("change",e.onTargetChange)),e.target=null}}]),n}()),n=(Object.defineProperty(o,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:{friction:.35}}),{Navigation:n,Dots:t,Sync:o}),he="animationend",de="isSelected",fe="slide",pe=function(){_inherits(l,ie);var o=_createSuper(l);function l(e){var t,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};if(_classCallCheck(this,l),t=o.call(this),Object.defineProperty(_assertThisInitialized(t),"bp",{enumerable:!0,configurable:!0,writable:!0,value:""}),Object.defineProperty(_assertThisInitialized(t),"lp",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(_assertThisInitialized(t),"userOptions",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(_assertThisInitialized(t),"userPlugins",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(_assertThisInitialized(t),"state",{enumerable:!0,configurable:!0,writable:!0,value:w.Init}),Object.defineProperty(_assertThisInitialized(t),"page",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(_assertThisInitialized(t),"prevPage",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(_assertThisInitialized(t),"container",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(_assertThisInitialized(t),"viewport",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(_assertThisInitialized(t),"track",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(_assertThisInitialized(t),"slides",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(_assertThisInitialized(t),"pages",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(_assertThisInitialized(t),"panzoom",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(_assertThisInitialized(t),"inTransition",{enumerable:!0,configurable:!0,writable:!0,value:new Set}),Object.defineProperty(_assertThisInitialized(t),"contentDim",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(_assertThisInitialized(t),"viewportDim",{enumerable:!0,configurable:!0,writable:!0,value:0}),(e="string"==typeof e?document.querySelector(e):e)&&h(e))return t.container=e,t.slideNext=U(t.slideNext.bind(_assertThisInitialized(t)),150),t.slidePrev=U(t.slidePrev.bind(_assertThisInitialized(t)),150),t.userOptions=n,t.userPlugins=i,queueMicrotask(function(){t.processOptions()}),_possibleConstructorReturn(t);throw new Error("No Element found")}return _createClass(l,[{key:"axis",get:function(){return this.isHorizontal?"e":"f"}},{key:"isEnabled",get:function(){return this.state===w.Ready}},{key:"isInfinite",get:function(){var e=!1,t=this.contentDim,n=this.viewportDim,i=this.pages,o=this.slides[0];return e=2<=i.length&&o&&t+o.dim>=n?this.option("infinite"):e}},{key:"isRTL",get:function(){return"rtl"===this.option("direction")}},{key:"isHorizontal",get:function(){return"x"===this.option("axis")}},{key:"processOptions",value:function(){var e=this,t=g({},l.defaults,this.userOptions),n="",i=t.breakpoints;if(i&&W(i))for(var o=0,a=Object.entries(i);o<a.length;o++){var r=_slicedToArray(a[o],2),s=r[0],r=r[1];window.matchMedia(s).matches&&W(r)&&(n+=s,g(t,r))}n===this.bp&&this.state!==w.Init||(this.bp=n,this.state===w.Ready&&(t.initialSlide=(null==(i=null==(i=this.pages[this.page])?void 0:i.slides[0])?void 0:i.index)||0),this.state!==w.Init&&this.destroy(),_get(_getPrototypeOf(l.prototype),"setOptions",this).call(this,t),!1===this.option("enabled")?this.attachEvents():setTimeout(function(){e.init()},0))}},{key:"init",value:function(){this.state=w.Init,this.emit("init"),this.attachPlugins(Object.assign(Object.assign({},l.Plugins),this.userPlugins)),this.emit("attachPlugins"),this.initLayout(),this.initSlides(),this.updateMetrics(),this.setInitialPosition(),this.initPanzoom(),this.attachEvents(),this.state=w.Ready,this.emit("ready")}},{key:"initLayout",value:function(){var e=this.container,t=this.option("classes"),n=(E(e,this.cn("container")),v(e,t.isLTR,!this.isRTL),v(e,t.isRTL,this.isRTL),v(e,t.isVertical,!this.isHorizontal),v(e,t.isHorizontal,this.isHorizontal),this.option("viewport")||e.querySelector(".".concat(t.viewport))),e=(n||(n=document.createElement("div"),E(n,t.viewport),n.append.apply(n,_toConsumableArray(X(e,".".concat(t.slide)))),e.prepend(n)),n.addEventListener("scroll",this.onScroll),this.option("track")||e.querySelector(".".concat(t.track)));e||(e=document.createElement("div"),E(e,t.track),e.append.apply(e,_toConsumableArray(Array.from(n.childNodes)))),e.setAttribute("aria-live","polite"),n.contains(e)||n.prepend(e),this.viewport=n,this.track=e,this.emit("initLayout")}},{key:"initSlides",value:function(){var t=this,e=this.track;if(e){var n=_toConsumableArray(this.slides),i=[];_toConsumableArray(X(e,".".concat(this.cn(fe)))).forEach(function(e){h(e)&&(e=G({el:e,isDom:!0,index:t.slides.length}),i.push(e))});for(var o=0,a=[].concat(_toConsumableArray(this.option("slides",[])||[]),_toConsumableArray(n));o<a.length;o++){var r=a[o];i.push(G(r))}this.slides=i;for(var s=0;s<this.slides.length;s++)this.slides[s].index=s;for(var l=0,c=i;l<c.length;l++){var u=c[l];this.emit("beforeInitSlide",u,u.index),this.emit("initSlide",u,u.index)}this.emit("initSlides")}}},{key:"setInitialPage",value:function(){var e=this.option("initialSlide");this.page="number"==typeof e?this.getPageForSlide(e):parseInt(this.option("initialPage",0)+"",10)||0}},{key:"setInitialPosition",value:function(){var e,t=this.track,n=this.pages,i=this.isHorizontal;t&&n.length&&(n[e=this.page]||(this.page=e=0),n=(n[e].pos||0)*(this.isRTL&&i?1:-1),e=i?"".concat(n,"px"):"0",i=i?"0":"".concat(n,"px"),t.style.transform="translate3d(".concat(e,", ").concat(i,", 0) scale(1)"),this.option("adaptiveHeight"))&&this.setViewportHeight()}},{key:"initPanzoom",value:function(){var a=this,e=(this.panzoom&&(this.panzoom.destroy(),this.panzoom=null),this.option("Panzoom")||{});this.panzoom=new f(this.viewport,g({},{content:this.track,zoom:!1,panOnlyZoomed:!1,lockAxis:this.isHorizontal?"x":"y",infinite:this.isInfinite,click:!1,dblClick:!1,touch:function(e){return!(a.pages.length<2&&!e.options.infinite)},bounds:function(){return a.getBounds()},maxVelocity:function(e){return Math.abs(e.target[a.axis]-e.current[a.axis])<2*a.viewportDim?100:0}},e)),this.panzoom.on("*",function(e,t){for(var n=arguments.length,i=new Array(2<n?n-2:0),o=2;o<n;o++)i[o-2]=arguments[o];a.emit.apply(a,["Panzoom.".concat(t),e].concat(i))}),this.panzoom.on("decel",this.onDecel),this.panzoom.on("refresh",this.onRefresh),this.panzoom.on("beforeTransform",this.onBeforeTransform),this.panzoom.on("endAnimation",this.onEndAnimation)}},{key:"attachEvents",value:function(){var e=this.container;e&&(e.addEventListener("click",this.onClick,{passive:!1,capture:!1}),e.addEventListener("slideTo",this.onSlideTo)),window.addEventListener("resize",this.onResize)}},{key:"createPages",value:function(){var e,t=[],n=this.contentDim,i=this.viewportDim,o=("auto"===(o=this.option("slidesPerPage"))||n<=i)&&!1!==this.option("fill")?1/0:parseFloat(o+""),a=0,r=0,s=0,l=_createForOfIteratorHelper(this.slides);try{for(l.s();!(e=l.n()).done;){var c=e.value;(!t.length||.05<r+c.dim-i||o<=s)&&(t.push(function(){return Object.assign({index:-1,slides:[],dim:0,pos:-1},0<arguments.length&&void 0!==arguments[0]?arguments[0]:{})}()),a=t.length-1,s=r=0),t[a].slides.push(c),r+=c.dim+c.gap,s++}}catch(e){l.e(e)}finally{l.f()}return t}},{key:"processPages",value:function(){var t,n,e=this.pages,s=this.contentDim,l=this.viewportDim,i=this.isInfinite,c=this.option("center"),o=this.option("fill"),u=o&&c&&l<s&&!i;return e.forEach(function(e,t){e.index=t,e.pos=(null==(t=e.slides[0])?void 0:t.pos)||0,e.dim=0;var n,i=_createForOfIteratorHelper(e.slides.entries());try{for(i.s();!(n=i.n()).done;){var o=_slicedToArray(n.value,2),a=o[0],r=o[1];e.dim+=r.dim,a<e.slides.length-1&&(e.dim+=r.gap)}}catch(e){i.e(e)}finally{i.f()}u&&e.pos+.5*e.dim<.5*l?e.pos=0:u&&e.pos+.5*e.dim>=s-.5*l?e.pos=s-l:c&&(e.pos+=-.5*(l-e.dim))}),e.forEach(function(e){o&&!i&&l<s&&(e.pos=Math.max(e.pos,0),e.pos=Math.min(e.pos,s-l)),e.pos=O(e.pos,1e3),e.dim=O(e.dim,1e3),Math.abs(e.pos)<=.1&&(e.pos=0)}),i?e:(t=[],e.forEach(function(e){e=Object.assign({},e);n&&e.pos===n.pos?(n.dim+=e.dim,n.slides=[].concat(_toConsumableArray(n.slides),_toConsumableArray(e.slides))):(e.index=t.length,n=e,t.push(e))}),t)}},{key:"getPageFromIndex",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,t=this.pages.length,e=parseInt((e||0).toString())||0;return this.isInfinite?(e%t+t)%t:Math.max(Math.min(e,t-1),0)}},{key:"getSlideMetrics",value:function(e){var t=this.isHorizontal?"width":"height",n=0,i=e.el,o=!(!i||i.parentNode),t=(i?n=parseFloat(i.dataset[t]||"")||0:((i=document.createElement("div")).style.visibility="hidden",(this.track||document.body).prepend(i)),E(i,this.cn(fe)+" "+e.class+" "+e.customClass),n?(i.style[t]="".concat(n,"px"),i.style["width"==t?"height":"width"]=""):(o&&(this.track||document.body).prepend(i),(n=i.getBoundingClientRect()[t]*Math.max(1,(null==(t=window.visualViewport)?void 0:t.scale)||1))<(t=i[this.isHorizontal?"offsetWidth":"offsetHeight"])-1&&(n=t)),getComputedStyle(i));return"content-box"===t.boxSizing&&(this.isHorizontal?n=(n+=parseFloat(t.paddingLeft)||0)+(parseFloat(t.paddingRight)||0):n=(n+=parseFloat(t.paddingTop)||0)+(parseFloat(t.paddingBottom)||0)),t=parseFloat(t[this.isHorizontal?"marginRight":"marginBottom"])||0,o?null!=(o=i.parentElement)&&o.removeChild(i):e.el||i.remove(),{dim:O(n,1e3),gap:O(t,1e3)}}},{key:"getBounds",value:function(){var e=this.isInfinite,t=this.isRTL,n=this.isHorizontal,i=this.pages,o={min:0,max:0};return e?o={min:-1/0,max:1/0}:i.length&&(e=i[0].pos,i=i[i.length-1].pos,o=t&&n?{min:e,max:i}:{min:-1*i,max:-1*e}),{x:n?o:{min:0,max:0},y:n?{min:0,max:0}:o}}},{key:"repositionSlides",value:function(){var e,t,n=this.isHorizontal,i=this.isRTL,o=this.isInfinite,a=this.viewport,r=this.viewportDim,s=this.contentDim,l=this.page,c=this.pages,u=this.slides,h=this.panzoom,d=0,f=0,p=0,g=0,v=(h?g=-1*h.current[this.axis]:c[l]&&(g=c[l].pos||0),e=n?i?"right":"left":"top",i&&n&&(g*=-1),_createForOfIteratorHelper(u));try{for(v.s();!(t=v.n()).done;){var m=t.value,y=m.el;y?("top"==e?(y.style.right="",y.style.left=""):y.style.top="",m.index!==d?y.style[e]=0===f?"":"".concat(O(f,1e3),"px"):y.style[e]="",p+=m.dim+m.gap,d++):f+=m.dim+m.gap}}catch(e){v.e(e)}finally{v.f()}if(o&&p&&a){var b,h=getComputedStyle(a),l="padding",i=n?"Right":"Bottom",o=parseFloat(h[l+(n?"Left":"Top")]),_=(g-=o,r=(r+=o)+parseFloat(h[l+i]),_createForOfIteratorHelper(u));try{for(_.s();!(b=_.n()).done;){var w=b.value;w.el&&(O(w.pos)<O(r)&&O(w.pos+w.dim+w.gap)<O(g)&&O(g)>O(s-r)&&(w.el.style[e]="".concat(O(f+p,1e3),"px")),O(w.pos+w.gap)>=O(s-r))&&O(w.pos)>O(g+r)&&O(g)<O(r)&&(w.el.style[e]="-".concat(O(p,1e3),"px"))}}catch(e){_.e(e)}finally{_.f()}}var k,x,a=_toConsumableArray(this.inTransition);if(1<a.length&&(k=c[a[0]],x=c[a[1]]),k&&x){var T,S=0,C=_createForOfIteratorHelper(u);try{for(C.s();!(T=C.n()).done;){var E=T.value;E.el?this.inTransition.has(E.index)&&k.slides.indexOf(E)<0&&(E.el.style[e]="".concat(O(S+(k.pos-x.pos),1e3),"px")):S+=E.dim+E.gap}}catch(e){C.e(e)}finally{C.f()}}}},{key:"createSlideEl",value:function(e){var t,n,i,o,a=this.track,r=this.slides;a&&e&&(e.el&&e.el.parentNode||(t=e.el||document.createElement("div"),E(t,this.cn(fe)),E(t,e.class),E(t,e.customClass),(o=e.html)&&(o instanceof HTMLElement?t.appendChild(o):t.innerHTML=e.html+""),n=[],r.forEach(function(e,t){e.el&&n.push(t)}),i=e.index,o=null,r=(o=n.length?r[n.reduce(function(e,t){return Math.abs(t-i)<Math.abs(e-i)?t:e})]:o)&&o.el&&o.el.parentNode?o.index<e.index?o.el.nextSibling:o.el:null,a.insertBefore(t,a.contains(r)?r:null),e.el=t,this.emit("createSlide",e)))}},{key:"removeSlideEl",value:function(e){var t,n=1<arguments.length&&void 0!==arguments[1]&&arguments[1],i=null==e?void 0:e.el;i&&i.parentNode&&(t=this.cn(de),i.classList.contains(t)&&(y(i,t),this.emit("unselectSlide",e)),e.isDom&&!n?(i.removeAttribute("aria-hidden"),i.removeAttribute("data-index"),i.style.left=""):(this.emit("removeSlide",e),t=new CustomEvent(he),i.dispatchEvent(t),e.el&&(e.el.remove(),e.el=null)))}},{key:"transitionTo",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.option("transition");if(!t)return!1;var n=this.page,i=this.pages,o=this.panzoom,e=parseInt((e||0).toString())||0,a=this.getPageFromIndex(e);if(!o||!i[a]||i.length<2||1<Math.abs(((null==(r=null==(r=i[n])?void 0:r.slides[0])?void 0:r.dim)||0)-this.viewportDim))return!1;var r=n<e?1:-1,e=i[a].pos*(this.isRTL?1:-1);if(n===a&&Math.abs(e-o.target[this.axis])<1)return!1;this.clearTransitions();var s=o.isResting,n=(E(this.container,this.cn("inTransition")),(null==(n=i[n])?void 0:n.slides[0])||null),i=(null==(i=i[a])?void 0:i.slides[0])||null,l=(this.inTransition.add(i.index),this.createSlideEl(i),n.el),c=i.el,s=(s||t===fe||(t="fadeFast",l=null),this.isRTL?"next":"prev"),u=this.isRTL?"prev":"next";return l&&(this.inTransition.add(n.index),n.transition=t,l.addEventListener(he,this.onAnimationEnd),l.classList.add("f-".concat(t,"Out"),"to-".concat(0<r?u:s))),c&&(i.transition=t,c.addEventListener(he,this.onAnimationEnd),c.classList.add("f-".concat(t,"In"),"from-".concat(0<r?s:u))),o.current[this.axis]=e,o.target[this.axis]=e,o.requestTick(),this.onChange(a),!0}},{key:"manageSlideVisiblity",value:function(){var e,t=new Set,n=new Set,i=this.getVisibleSlides(parseFloat(this.option("preload",0)+"")||0),o=_createForOfIteratorHelper(this.slides);try{for(o.s();!(e=o.n()).done;){var a=e.value;(i.has(a)?t:n).add(a)}}catch(e){o.e(e)}finally{o.f()}var r,s=_createForOfIteratorHelper(this.inTransition);try{for(s.s();!(r=s.n()).done;){var l=r.value;t.add(this.slides[l])}}catch(e){s.e(e)}finally{s.f()}var c,u=_createForOfIteratorHelper(t);try{for(u.s();!(c=u.n()).done;){var h=c.value;this.createSlideEl(h),this.lazyLoadSlide(h)}}catch(e){u.e(e)}finally{u.f()}var d,f=_createForOfIteratorHelper(n);try{for(f.s();!(d=f.n()).done;){var p=d.value;t.has(p)||this.removeSlideEl(p)}}catch(e){f.e(e)}finally{f.f()}this.markSelectedSlides(),this.repositionSlides()}},{key:"markSelectedSlides",value:function(){if(this.pages[this.page]&&this.pages[this.page].slides){var e="aria-hidden",t=this.cn(de);if(t){var n,i=_createForOfIteratorHelper(this.slides);try{for(i.s();!(n=i.n()).done;){var o=n.value,a=o.el;a&&(a.dataset.index="".concat(o.index),a.classList.contains("f-thumbs__slide")?this.getVisibleSlides(0).has(o)?a.removeAttribute(e):a.setAttribute(e,"true"):this.pages[this.page].slides.includes(o)?(a.classList.contains(t)||(E(a,t),this.emit("selectSlide",o)),a.removeAttribute(e)):(a.classList.contains(t)&&(y(a,t),this.emit("unselectSlide",o)),a.setAttribute(e,"true")))}}catch(e){i.e(e)}finally{i.f()}}}}},{key:"flipInfiniteTrack",value:function(){var e,t,n=this.axis,i=this.isHorizontal,o=this.isInfinite,a=this.isRTL,r=this.viewportDim,s=this.contentDim,l=this.panzoom;l&&o&&(o=l.current[n],e=l.target[n]-o,t=0,r=.5*r,a&&i?(o<-r&&(t=-1,o+=s),s-r<o&&(t=1,o-=s)):(r<o&&(t=1,o-=s),o<r-s&&(t=-1,o+=s)),t)&&(l.current[n]=o,l.target[n]=o+e)}},{key:"lazyLoadImg",value:function(t,n){function i(){s||(s=!0,l&&(l.remove(),l=null),y(n,r),n.complete&&(E(n,a),setTimeout(function(){y(n,a)},350)),e.option("adaptiveHeight")&&t.el&&-1<e.pages[e.page].slides.indexOf(t)&&(o.updateMetrics(),o.setViewportHeight()),e.emit("load",t))}var e=this,o=this,a="f-fadeIn",r="is-preloading",s=!1,l=null;E(n,r),n.src=n.dataset.lazySrcset||n.dataset.lazySrc||"",delete n.dataset.lazySrc,delete n.dataset.lazySrcset,n.addEventListener("error",function(){i()}),n.addEventListener("load",function(){i()}),setTimeout(function(){var e=n.parentNode;e&&t.el&&(n.complete?i():s||(l=m(oe),e.insertBefore(l,n)))},300)}},{key:"lazyLoadSlide",value:function(e){var t=e&&e.el;if(t){var n,i=new Set,o=Array.from(t.querySelectorAll("[data-lazy-src],[data-lazy-srcset]")),a=(t.dataset.lazySrc&&o.push(t),o.map(function(e){e instanceof HTMLImageElement?i.add(e):e instanceof HTMLElement&&e.dataset.lazySrc&&(e.style.backgroundImage="url('".concat(e.dataset.lazySrc,"')"),delete e.dataset.lazySrc)}),_createForOfIteratorHelper(i));try{for(a.s();!(n=a.n()).done;){var r=n.value;this.lazyLoadImg(e,r)}}catch(e){a.e(e)}finally{a.f()}}}},{key:"onAnimationEnd",value:function(e){var t=e.target,n=t?parseInt(t.dataset.index||"",10)||0:-1,i=this.slides[n],e=e.animationName;t&&i&&e&&((t=!!this.inTransition.has(n)&&i.transition)&&e.substring(0,t.length+2)==="f-".concat(t)&&this.inTransition.delete(n),this.inTransition.size||this.clearTransitions(),n===this.page)&&null!=(i=this.panzoom)&&i.isResting&&this.emit("settle")}},{key:"onDecel",value:function(e){var t,n,i,o,a,r,s,l=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,c=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,u=3<arguments.length&&void 0!==arguments[3]?arguments[3]:0,h=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0;this.option("dragFree")?this.setPageFromPosition():(t=this.isRTL,n=this.isHorizontal,i=this.axis,a=(o=this.pages).length,s=0,s=45<(r=Math.abs(Math.atan2(c,l)/(Math.PI/180)))&&r<135?n?0:c:n?l:0,a&&(r=this.page,c=e.current[i]*(t&&n?1:-1),l=this.getPageFromPosition(c).pageIndex,r=5<Math.abs(s)?(o[r].dim<document.documentElement["client"+(this.isHorizontal?"Width":"Height")]-1&&(r=l),t&&n?s<0?r-1:r+1:s<0?r+1:r-1):0===u&&0===h?r:l,this.slideTo(r,{transition:!1,friction:e.option("decelFriction")})))}},{key:"onClick",value:function(e){var t,n,i=e.target,o=i&&h(i)?i.dataset:null;o&&(void 0!==o.carouselPage?(n="slideTo",t=o.carouselPage):void 0!==o.carouselNext?n="slideNext":void 0!==o.carouselPrev&&(n="slidePrev")),n?(e.preventDefault(),e.stopPropagation(),i&&!i.hasAttribute("disabled")&&this[n](t)):this.emit("click",e)}},{key:"onSlideTo",value:function(e){e=e.detail||0;this.slideTo(this.getPageForSlide(e),{friction:0})}},{key:"onChange",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=this.page;this.prevPage=n,this.page=e,this.option("adaptiveHeight")&&this.setViewportHeight(),e!==n&&(this.markSelectedSlides(),this.emit("change",e,n,t))}},{key:"onRefresh",value:function(){var e=this.contentDim,t=this.viewportDim;this.updateMetrics(),this.contentDim===e&&this.viewportDim===t||this.slideTo(this.page,{friction:0,transition:!1})}},{key:"onScroll",value:function(){var e;null!=(e=this.viewport)&&e.scroll(0,0)}},{key:"onResize",value:function(){this.option("breakpoints")&&this.processOptions()}},{key:"onBeforeTransform",value:function(e){this.lp!==e.current[this.axis]&&(this.flipInfiniteTrack(),this.manageSlideVisiblity()),this.lp=e.current.e}},{key:"onEndAnimation",value:function(){this.inTransition.size||this.emit("settle")}},{key:"reInit",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;this.destroy(),this.state=w.Init,this.prevPage=null,this.userOptions=e||this.userOptions,this.userPlugins=t||this.userPlugins,this.processOptions()}},{key:"slideTo",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=t.friction,n=void 0===n?this.option("friction"):n,t=t.transition,t=void 0===t?this.option("transition"):t;if(this.state!==w.Destroy){var i,e=parseInt((e||0).toString())||0,o=this.getPageFromIndex(e),a=this.axis,r=this.isHorizontal,s=this.isRTL,l=this.pages,c=this.panzoom,u=l.length,s=s&&r?1:-1;if(c&&u){if(this.page!==o){var h=new Event("beforeChange",{bubbles:!0,cancelable:!0});if(this.emit("beforeChange",h,e),h.defaultPrevented)return}this.transitionTo(e,t)||(h=l[o].pos,this.isInfinite&&(t=this.contentDim,i=c.target[a]*s,2===u?h+=t*Math.floor(parseFloat(e+"")/2):h=[h,h-t,h+t].reduce(function(e,t){return Math.abs(t-i)<Math.abs(e-i)?t:e})),h*=s,Math.abs(c.target[a]-h)<1)||(c.panTo({x:r?h:0,y:r?0:h,friction:n}),this.onChange(o))}}}},{key:"slideToClosest",value:function(e){var t;this.panzoom&&(t=this.getPageFromPosition().pageIndex,this.slideTo(t,e))}},{key:"slideNext",value:function(){this.slideTo(this.page+1)}},{key:"slidePrev",value:function(){this.slideTo(this.page-1)}},{key:"clearTransitions",value:function(){this.inTransition.clear(),y(this.container,this.cn("inTransition"));var e,t=["to-prev","to-next","from-prev","from-next"],n=_createForOfIteratorHelper(this.slides);try{for(n.s();!(e=n.n()).done;){var i,o,a=e.value,r=a.el;r&&(r.removeEventListener(he,this.onAnimationEnd),(i=r.classList).remove.apply(i,t),o=a.transition)&&r.classList.remove("f-".concat(o,"Out"),"f-".concat(o,"In"))}}catch(e){n.e(e)}finally{n.f()}this.manageSlideVisiblity()}},{key:"addSlide",value:function(e,t){var n,i=this.panzoom,o=(null==(o=this.pages[this.page])?void 0:o.pos)||0,a=(null==(a=this.pages[this.page])?void 0:a.dim)||0,r=this.contentDim<this.viewportDim,s=[],l=_createForOfIteratorHelper(Array.isArray(t)?t:[t]);try{for(l.s();!(n=l.n()).done;){var c=n.value;s.push(G(c))}}catch(e){l.e(e)}finally{l.f()}(t=this.slides).splice.apply(t,[e,0].concat(s));for(var u=0;u<this.slides.length;u++)this.slides[u].index=u;for(var h,d,f=0,p=s;f<p.length;f++){var g=p[f];this.emit("beforeInitSlide",g,g.index)}this.page>=e&&(this.page+=s.length),this.updateMetrics(),i&&(t=(null==(t=this.pages[this.page])?void 0:t.pos)||0,d=(null==(d=this.pages[this.page])?void 0:d.dim)||0,h=this.pages.length||1,d=this.isRTL?a-d:d-a,a=this.isRTL?o-t:t-o,r&&1===h?(e<=this.page&&(i.current[this.axis]-=d,i.target[this.axis]-=d),i.panTo(_defineProperty({},this.isHorizontal?"x":"y",-1*t))):a&&e<=this.page&&(i.target[this.axis]-=a,i.current[this.axis]-=a,i.requestTick()));for(var v=0,m=s;v<m.length;v++){var y=m[v];this.emit("initSlide",y,y.index)}}},{key:"prependSlide",value:function(e){this.addSlide(0,e)}},{key:"appendSlide",value:function(e){this.addSlide(this.slides.length,e)}},{key:"removeSlide",value:function(e){var t=this.slides.length,t=this.slides[e=(e%t+t)%t];if(t){this.removeSlideEl(t,!0),this.slides.splice(e,1);for(var n=0;n<this.slides.length;n++)this.slides[n].index=n;this.updateMetrics(),this.slideTo(this.page,{friction:0,transition:!1}),this.emit("destroySlide",t)}}},{key:"updateMetrics",value:function(){var e=this.panzoom,t=this.viewport,n=this.track,i=this.slides,o=this.isHorizontal,a=this.isInfinite;if(n){var r,s,l,n=o?"width":"height";t&&(r=Math.max(t[o?"offsetWidth":"offsetHeight"],O(t.getBoundingClientRect()[n],1e3)),t=getComputedStyle(t),s="padding",l=o?"Right":"Bottom",r-=parseFloat(t[s+(o?"Left":"Top")])+parseFloat(t[s+l]),this.viewportDim=r);var c,u,h=0,d=_createForOfIteratorHelper(i.entries());try{for(d.s();!(u=d.n()).done;){var f,p=_slicedToArray(u.value,2),g=p[0],v=p[1],m=0,y=0;!v.el&&c?(m=c.dim,y=c.gap):(m=(f=this.getSlideMetrics(v)).dim,y=f.gap,c=v),m=O(m,1e3),y=O(y,1e3),v.dim=m,v.gap=y,v.pos=h,h+=m,(a||g<i.length-1)&&(h+=y)}}catch(e){d.e(e)}finally{d.f()}h=O(h,1e3),this.contentDim=h,e&&(e.contentRect[n]=h,e.contentRect[o?"fullWidth":"fullHeight"]=h),this.pages=this.createPages(),this.pages=this.processPages(),this.state===w.Init&&this.setInitialPage(),this.page=Math.max(0,Math.min(this.page,this.pages.length-1)),this.manageSlideVisiblity(),this.emit("refresh")}}},{key:"getProgress",value:function(e){var t,n,i,o=1<arguments.length&&void 0!==arguments[1]&&arguments[1],a=2<arguments.length&&void 0!==arguments[2]&&arguments[2],r=(void 0===e&&(e=this.page),this.panzoom),s=this.contentDim,l=this.pages[e]||0;return l&&r?(r=-1*r.current.e,i=n=t=O((r-l.pos)/+l.dim,1e3),this.isInfinite&&!0!==a&&(n=O((r-l.pos+s)/+l.dim,1e3),i=O((r-l.pos-s)/+l.dim,1e3)),a=[t,n,i].reduce(function(e,t){return Math.abs(t)<Math.abs(e)?t:e}),o?a:1<a?1:a<-1?-1:a):e>this.page?-1:1}},{key:"setViewportHeight",value:function(){var t,e=this.page,n=this.pages,i=this.viewport,o=this.isHorizontal;i&&n[e]&&(t=0,o&&this.track&&(this.track.style.height="auto",n[e].slides.forEach(function(e){e.el&&(t=Math.max(t,e.el.offsetHeight))})),i.style.height=t?"".concat(t,"px"):"")}},{key:"getPageForSlide",value:function(e){var t,n=_createForOfIteratorHelper(this.pages);try{for(n.s();!(t=n.n()).done;){var i,o=t.value,a=_createForOfIteratorHelper(o.slides);try{for(a.s();!(i=a.n()).done;)if(i.value.index===e)return o.index}catch(e){a.e(e)}finally{a.f()}}}catch(e){n.e(e)}finally{n.f()}return-1}},{key:"getVisibleSlides",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,t=new Set,n=this.panzoom,i=this.contentDim,o=this.viewportDim,a=this.pages,r=this.page;if(o){var s,i=i+(null==(l=this.slides[this.slides.length-1])?void 0:l.gap)||0,l=0,l=n&&n.state!==_.Init&&n.state!==_.Destroy?-1*n.current[this.axis]:a[r]&&a[r].pos||0,c=(this.isInfinite&&(l-=Math.floor(l/i)*i),this.isRTL&&this.isHorizontal&&(l*=-1),l-o*e),u=l+o*(e+1),h=this.isInfinite?[-1,0,1]:[0],d=_createForOfIteratorHelper(this.slides);try{for(d.s();!(s=d.n()).done;){var f,p=s.value,g=_createForOfIteratorHelper(h);try{for(g.s();!(f=g.n()).done;){var v=f.value,m=p.pos+v*i,y=m+p.dim+p.gap;m<u&&c<y&&t.add(p)}}catch(e){g.e(e)}finally{g.f()}}}catch(e){d.e(e)}finally{d.f()}}return t}},{key:"getPageFromPosition",value:function(e){var t=this.viewportDim,n=this.contentDim,i=this.slides,o=this.pages,a=this.panzoom,o=o.length,r=i.length,s=i[0],r=i[r-1],l=this.option("center"),c=0,u=void 0===e?-1*((null==a?void 0:a.target[this.axis])||0):e,h=(l&&(u+=.5*t),this.isInfinite?(u<s.pos-.5*r.gap&&(u-=n,c=-1),u>r.pos+r.dim+.5*r.gap&&(u-=n,c=1)):u=Math.max(s.pos||0,Math.min(u,r.pos)),r),a=(a=i.find(function(e){var t=e.pos-.5*h.gap,n=e.pos+e.dim+.5*e.gap;return h=e,t<=u&&u<n}))||r;return{page:(e=this.getPageForSlide(a.index))+c*o,pageIndex:e}}},{key:"setPageFromPosition",value:function(){var e=this.getPageFromPosition().pageIndex;this.onChange(e)}},{key:"destroy",value:function(){var t=this;if(![w.Destroy].includes(this.state)){this.state=w.Destroy;var e=this.container,n=this.viewport,i=this.track,o=this.slides,a=this.panzoom,r=this.option("classes");e.removeEventListener("click",this.onClick,{passive:!1,capture:!1}),e.removeEventListener("slideTo",this.onSlideTo),window.removeEventListener("resize",this.onResize),a&&(a.destroy(),this.panzoom=null),o&&o.forEach(function(e){t.removeSlideEl(e)}),this.detachPlugins(),n&&(n.removeEventListener("scroll",this.onScroll),n.offsetParent)&&i&&i.offsetParent&&n.replaceWith.apply(n,_toConsumableArray(i.childNodes));for(var s=0,l=Object.entries(r);s<l.length;s++){var c=_slicedToArray(l[s],2),u=c[0],c=c[1];"container"!==u&&c&&e.classList.remove(c)}this.track=null,this.viewport=null,this.page=0,this.slides=[];a=this.events.get("ready");this.events=new Map,a&&this.events.set("ready",a)}}}]),l}(),ge=(Object.defineProperty(pe,"Panzoom",{enumerable:!0,configurable:!0,writable:!0,value:f}),Object.defineProperty(pe,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:{viewport:null,track:null,enabled:!0,slides:[],axis:"x",transition:"fade",preload:1,slidesPerPage:"auto",initialPage:0,friction:.12,Panzoom:{decelFriction:.12},center:!0,infinite:!0,fill:!0,dragFree:!1,adaptiveHeight:!1,direction:"ltr",classes:{container:"f-carousel",viewport:"f-carousel__viewport",track:"f-carousel__track",slide:"f-carousel__slide",isLTR:"is-ltr",isRTL:"is-rtl",isHorizontal:"is-horizontal",isVertical:"is-vertical",inTransition:"in-transition",isSelected:"is-selected"},l10n:{NEXT:"Next slide",PREV:"Previous slide",GOTO:"Go to slide #%d"}}}),Object.defineProperty(pe,"Plugins",{enumerable:!0,configurable:!0,writable:!0,value:n}),!("undefined"==typeof window||!window.document||!window.document.createElement)),ve=["a[href]","area[href]",'input:not([disabled]):not([type="hidden"]):not([aria-hidden])',"select:not([disabled]):not([aria-hidden])","textarea:not([disabled]):not([aria-hidden])","button:not([disabled]):not([aria-hidden]):not(.fancybox-focus-guard)","iframe","object","embed","video","audio","[contenteditable]",'[tabindex]:not([tabindex^="-"]):not([disabled]):not([aria-hidden])'].join(","),me={dragToClose:!0,hideScrollbar:!0,Carousel:{classes:{container:"fancybox__carousel",viewport:"fancybox__viewport",track:"fancybox__track",slide:"fancybox__slide"}},contentClick:"toggleZoom",contentDblClick:!1,backdropClick:"close",animated:!0,idle:3500,showClass:"f-zoomInUp",hideClass:"f-fadeOut",commonCaption:!1,parentEl:null,startIndex:0,l10n:Object.assign(Object.assign({},e),{CLOSE:"Close",NEXT:"Next",PREV:"Previous",MODAL:"You can close this modal content with the ESC key",ERROR:"Something Went Wrong, Please Try Again Later",IMAGE_ERROR:"Image Not Found",ELEMENT_NOT_FOUND:"HTML Element Not Found",AJAX_NOT_FOUND:"Error Loading AJAX : Not Found",AJAX_FORBIDDEN:"Error Loading AJAX : Forbidden",IFRAME_ERROR:"Error Loading Page",TOGGLE_ZOOM:"Toggle zoom level",TOGGLE_THUMBS:"Toggle thumbnails",TOGGLE_SLIDESHOW:"Toggle slideshow",TOGGLE_FULLSCREEN:"Toggle full-screen mode",DOWNLOAD:"Download"}),tpl:{closeButton:'<button data-fancybox-close class="f-button is-close-btn" title="{{CLOSE}}"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" tabindex="-1"><path d="M20 20L4 4m16 0L4 20"/></svg></button>',main:'<div class="fancybox__container" role="dialog" aria-modal="true" aria-label="{{MODAL}}" tabindex="-1">\n    <div class="fancybox__backdrop"></div>\n    <div class="fancybox__carousel"></div>\n    <div class="fancybox__footer"></div>\n  </div>'},groupAll:!1,groupAttr:"data-fancybox",defaultType:"image",defaultDisplay:"block",autoFocus:!0,trapFocus:!0,placeFocusBack:!0,closeButton:"auto",keyboard:{Escape:"close",Delete:"close",Backspace:"close",PageUp:"next",PageDown:"prev",ArrowUp:"prev",ArrowDown:"next",ArrowRight:"next",ArrowLeft:"prev"},Fullscreen:{autoStart:!1},compact:function(){return window.matchMedia("(max-width: 578px), (max-height: 578px)").matches},wheel:"zoom"},ye=((t=d=d||{})[t.Init=0]="Init",t[t.Ready=1]="Ready",t[t.Closing=2]="Closing",t[t.CustomClosing=3]="CustomClosing",t[t.Destroy=4]="Destroy",(o=k=k||{})[o.Loading=0]="Loading",o[o.Opening=1]="Opening",o[o.Ready=2]="Ready",o[o.Closing=3]="Closing",""),be=!1,_e=!1,a=null,we=function(){var e,t,n,i,o="",a="",r=D.getInstance();return{hash:o=r&&(e=r.carousel,t=r.getSlide(),e)&&t&&(n=t.slug||void 0,i=t.triggerEl||void 0,a=!(a=n||r.option("slug")||"")&&i&&i.dataset?i.dataset.fancybox||"":a)&&"true"!==a?"#"+a+(!n&&1<e.slides.length?"-"+(t.index+1):""):o,slug:a,index:1}},ke=function(){var e=new URL(document.URL).hash,t=e.slice(1).split("-"),n=t[t.length-1],n=n&&/^\+?\d+$/.test(n)&&parseInt(t.pop()||"1",10)||1;return{hash:e,slug:t.join("-"),index:n}},xe=function(){var e,t=ke(),n=t.slug,t=t.index;n&&((e=document.querySelector('[data-slug="'.concat(n,'"]')))&&e.dispatchEvent(new CustomEvent("click",{bubbles:!0,cancelable:!0})),D.getInstance()||(n=document.querySelectorAll('[data-fancybox="'.concat(n,'"]'))).length&&(e=n[t-1])&&e.dispatchEvent(new CustomEvent("click",{bubbles:!0,cancelable:!0})))},Te=function(){var e,t,n,i;!1!==D.defaults.Hash&&!1!==(null==(e=D.getInstance())?void 0:e.options.Hash)&&(t=(n=ke()).slug,n=n.index,i=we().slug,e&&(t===i?e.jumpTo(n-1):(be=!0,e.close())),xe())},Se=(ge&&(/complete|interactive|loaded/.test(document.readyState)?K():document.addEventListener("DOMContentLoaded",K)),"is-zooming-in"),n=function(){_inherits(t,i);var e=_createSuper(t);function t(){return _classCallCheck(this,t),e.apply(this,arguments)}return _createClass(t,[{key:"onCreateSlide",value:function(e,t,n){var i=this.instance.optionFor(n,"src")||"";n.el&&"image"===n.type&&"string"==typeof i&&this.setImage(n,i)}},{key:"onRemoveSlide",value:function(e,t,n){n.panzoom&&n.panzoom.destroy(),n.panzoom=void 0,n.imageEl=void 0}},{key:"onChange",value:function(e,t,n,i){y(this.instance.container,Se);var o,a=_createForOfIteratorHelper(t.slides);try{for(a.s();!(o=a.n()).done;){var r=o.value,s=r.panzoom;s&&r.index!==n&&s.reset(.35)}}catch(e){a.e(e)}finally{a.f()}}},{key:"onClose",value:function(){var e,t,n,i,o,a,r,s=this.instance,l=s.container,c=s.getSlide();l&&l.parentElement&&c&&(i=c.el,e=c.contentEl,t=c.panzoom,n=c.thumbElSrc,i)&&n&&e&&t&&!t.isContentLoading&&t.state!==_.Init&&t.state!==_.Destroy&&(t.updateMetrics(),i=this.getZoomInfo(c))&&(this.instance.state=d.CustomClosing,l.classList.remove(Se),l.classList.add("is-zooming-out"),e.style.backgroundImage="url('".concat(n,"')"),c=l.getBoundingClientRect(),1===((null==(n=window.visualViewport)?void 0:n.scale)||1)&&Object.assign(l.style,{position:"absolute",top:"".concat(l.offsetTop+window.scrollY,"px"),left:"".concat(l.offsetLeft+window.scrollX,"px"),bottom:"auto",right:"auto",width:"".concat(c.width,"px"),height:"".concat(c.height,"px"),overflow:"hidden"}),n=i.x,l=i.y,c=i.scale,(i=i.opacity)&&(a=t.scale,r=c-a,o=function(e){return 1+((e-a)/r*-1||0)},t.on("afterTransform",function(){e.style.opacity=o(t.scale)+""})),t.on("endAnimation",function(){s.destroy()}),t.target.a=c,t.target.b=0,t.target.c=0,t.target.d=c,t.panTo({x:n,y:l,scale:c,friction:i?.2:.33,ignoreBounds:!0}),t.isResting)&&s.destroy()}},{key:"setImage",value:function(c,e){var u=this,h=this.instance;c.src=e,this.process(c,e).then(function(e){var t,n,i,o,a=c.contentEl,r=c.imageEl,s=c.thumbElSrc,l=c.el;!h.isClosing()&&a&&r&&(a.offsetHeight,r=!!h.isOpeningSlide(c)&&u.getZoomInfo(c),u.option("protected")&&l&&(l.addEventListener("contextmenu",function(e){e.preventDefault()}),l=document.createElement("div"),E(l,"fancybox-protected"),a.appendChild(l)),s&&r?(l=e.contentRect,t=Math.max(l.fullWidth,l.fullHeight),n=null,!r.opacity&&1200<t&&(n=document.createElement("img"),E(n,"fancybox-ghost"),n.src=s,a.appendChild(n)),i=function(){n&&(E(n,"f-fadeFastOut"),setTimeout(function(){n&&(n.remove(),n=null)},200))},o=s,new Promise(function(e,t){var n=new Image;n.onload=e,n.onerror=t,n.src=o}).then(function(){h.hideLoading(c),c.state=k.Opening,u.instance.emit("reveal",c),u.zoomIn(c).then(function(){i(),u.instance.done(c)},function(){}),n&&setTimeout(function(){i()},2500<t?800:200)},function(){h.hideLoading(c),h.revealContent(c)})):(l=u.optionFor(c,"initialSize"),r=u.optionFor(c,"zoom"),a={event:h.prevMouseMoveEvent||h.options.event,friction:r?.12:0},s=h.optionFor(c,"showClass")||void 0,r=!0,h.isOpeningSlide(c)&&("full"===l?e.zoomToFull(a):"cover"===l?e.zoomToCover(a):"max"===l?e.zoomToMax(a):r=!1,e.stop("current")),r&&(s=s&&(e.isDragging?"f-fadeIn":"")),h.hideLoading(c),h.revealContent(c,s)))},function(){h.setError(c,"{{IMAGE_ERROR}}")})}},{key:"process",value:function(s,l){var c=this;return new Promise(function(t,e){var n,i,o=c.instance,a=s.el,r=(o.clearContent(s),o.showLoading(s),c.optionFor(s,"content"));(r="string"==typeof r?m(r):r)&&h(r)||((r=document.createElement("img"))instanceof HTMLImageElement&&(i="",i="string"==typeof(n=s.caption)&&n?n.replace(/<[^>]+>/gi,"").substring(0,1e3):"Image ".concat(s.index+1," of ").concat((null==(n=o.carousel)?void 0:n.pages.length)||1),r.src=l||"",r.alt=i,r.draggable=!1,s.srcset&&r.setAttribute("srcset",s.srcset),c.instance.isOpeningSlide(s))&&(r.fetchPriority="high"),s.sizes&&r.setAttribute("sizes",s.sizes)),E(r,"fancybox-image"),s.imageEl=r,o.setContent(s,r,!1),s.panzoom=new f(a,g({transformParent:!0},c.option("Panzoom")||{},{content:r,width:o.optionFor(s,"width","auto"),height:o.optionFor(s,"height","auto"),wheel:function(){var e=o.option("wheel");return("zoom"===e||"pan"==e)&&e},click:function(e,t){if(o.isCompact||o.isClosing())return!1;if(s.index!==(null==(n=o.getSlide())?void 0:n.index))return!1;if(t){var n=t.composedPath()[0];if(["A","BUTTON","TEXTAREA","OPTION","INPUT","SELECT","VIDEO"].includes(n.nodeName))return!1}n=!t||t.target&&(null==(n=s.contentEl)?void 0:n.contains(t.target));return o.option(n?"contentClick":"backdropClick")||!1},dblClick:function(){return o.isCompact?"toggleZoom":o.option("contentDblClick")||!1},spinner:!1,panOnlyZoomed:!0,wheelLimit:1/0,on:{ready:function(e){t(e)},error:function(){e()},destroy:function(){e()}}}))})}},{key:"zoomIn",value:function(d){var f=this;return new Promise(function(n,e){var t,i,o,a,r=f.instance,s=r.container,l=d.panzoom,c=d.contentEl,u=d.el,h=(l&&l.updateMetrics(),f.getZoomInfo(d));h&&u&&c&&l&&s?(u=h.x,t=h.y,i=h.scale,o=h.opacity,a=function(){d.state!==k.Closing&&(o&&(c.style.opacity=Math.max(Math.min(1,1-(1-l.scale)/(1-i)),0)+""),1<=l.scale)&&l.scale>l.targetScale-.1&&n(l)},l.on("endAnimation",h=function e(t){(t.scale<.99||1.01<t.scale)&&!t.isDragging||(y(s,Se),c.style.opacity="",t.off("endAnimation",e),t.off("touchStart",e),t.off("afterTransform",a),n(t))}),l.on("touchStart",h),l.on("afterTransform",a),l.on(["error","destroy"],function(){e()}),l.panTo({x:u,y:t,scale:i,friction:0,ignoreBounds:!0}),l.stop("current"),h={event:"mousemove"===l.panMode?r.prevMouseMoveEvent||r.options.event:void 0},u=f.optionFor(d,"initialSize"),E(s,Se),r.hideLoading(d),"full"===u?l.zoomToFull(h):"cover"===u?l.zoomToCover(h):"max"===u?l.zoomToMax(h):l.reset(.172)):e()})}},{key:"getZoomInfo",value:function(e){var t,n,i=e.el,o=e.imageEl,a=e.thumbEl,r=e.panzoom,s=this.instance,l=s.container;return!!(i&&o&&a&&r&&!($(a)<3)&&this.optionFor(e,"zoom")&&l&&s.state!==d.Destroy&&"0"!==getComputedStyle(l).getPropertyValue("--f-images-zoom")&&1===((i=window.visualViewport||null)?i.scale:1)&&(e=(o=a.getBoundingClientRect()).top,s=o.left,l=o.width,i=o.height,o=(a=r.contentRect).top,n=a.left,t=a.fitWidth,a=a.fitHeight,l)&&i&&t&&a)&&{x:-1*((n+=(r=r.container.getBoundingClientRect()).left)+.5*t-(s+.5*l)),y:-1*((o+=r.top)+.5*a-(e+.5*i)),scale:l/t,opacity:n="auto"===(n=this.option("zoomOpacity")||!1)?.1<Math.abs(l/i-t/a):n}}},{key:"attach",value:function(){var e=this,t=e.instance;t.on("Carousel.change",e.onChange),t.on("Carousel.createSlide",e.onCreateSlide),t.on("Carousel.removeSlide",e.onRemoveSlide),t.on("close",e.onClose)}},{key:"detach",value:function(){var e=this,t=e.instance;t.off("Carousel.change",e.onChange),t.off("Carousel.createSlide",e.onCreateSlide),t.off("Carousel.removeSlide",e.onRemoveSlide),t.off("close",e.onClose)}}]),t}(),Ce=(Object.defineProperty(n,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:{initialSize:"fit",Panzoom:{maxScale:1},protected:!1,zoom:!0,zoomOpacity:"auto"}}),"html"),p="youtube",S="vimeo",Ee="html5video",Oe=["image","html","ajax","inline","clone","iframe","map","pdf","html5video","youtube","vimeo"],e=function(){_inherits(t,i);var e=_createSuper(t);function t(){return _classCallCheck(this,t),e.apply(this,arguments)}return _createClass(t,[{key:"onBeforeInitSlide",value:function(e,t,n){this.processType(n)}},{key:"onCreateSlide",value:function(e,t,n){this.setContent(n)}},{key:"onClearContent",value:function(e,t){t.xhr&&(t.xhr.abort(),t.xhr=null);var n=t.iframeEl,n=(n&&(n.onload=n.onerror=null,n.src="//about:blank",t.iframeEl=null),t.contentEl),i=t.placeholderEl;if("inline"===t.type&&n&&i)n.classList.remove("fancybox__content"),"none"!==n.style.display&&(n.style.display="none"),i.parentNode&&i.parentNode.insertBefore(n,i),i.remove(),t.contentEl=void 0,t.placeholderEl=void 0;else for(;t.el&&t.el.firstChild;)t.el.removeChild(t.el.firstChild)}},{key:"onSelectSlide",value:function(e,t,n){n.state===k.Ready&&this.playVideo()}},{key:"onUnselectSlide",value:function(e,t,n){var i,o,a;if(n.type===Ee)try{null!=(o=null==(i=n.el)?void 0:i.querySelector("video"))&&o.pause()}catch(e){}else n.type===S?a={method:"pause",value:"true"}:n.type===p&&(a={event:"command",func:"pauseVideo"}),a&&n.iframeEl&&n.iframeEl.contentWindow&&n.iframeEl.contentWindow.postMessage(JSON.stringify(a),"*"),n.poller&&clearTimeout(n.poller)}},{key:"onDone",value:function(e,t){e.isCurrentSlide(t)&&!e.isClosing()&&this.playVideo()}},{key:"onRefresh",value:function(e,t){var n=this;t.slides.forEach(function(e){e.el&&(n.resizeIframe(e),n.setAspectRatio(e))})}},{key:"onMessage",value:function(e){try{var t,n=JSON.parse(e.data);if("https://player.vimeo.com"===e.origin){if("ready"===n.event)for(var i=0,o=Array.from(document.getElementsByClassName("fancybox__iframe"));i<o.length;i++){var a=o[i];a instanceof HTMLIFrameElement&&a.contentWindow===e.source&&(a.dataset.ready="true")}}else e.origin.match(/^https:\/\/(www.)?youtube(-nocookie)?.com$/)&&"onReady"===n.event&&(t=document.getElementById(n.id))&&(t.dataset.ready="true")}catch(e){}}},{key:"loadAjaxContent",value:function(e){var t=this.instance.optionFor(e,"src")||"",n=(this.instance.showLoading(e),this.instance),i=new XMLHttpRequest,o=(n.showLoading(e),i.onreadystatechange=function(){i.readyState===XMLHttpRequest.DONE&&n.state===d.Ready&&(n.hideLoading(e),200===i.status?n.setContent(e,i.responseText):n.setError(e,404===i.status?"{{AJAX_NOT_FOUND}}":"{{AJAX_FORBIDDEN}}"))},e.ajax||null);i.open(o?"POST":"GET",t+""),i.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),i.setRequestHeader("X-Requested-With","XMLHttpRequest"),i.send(o),e.xhr=i}},{key:"setInlineContent",value:function(e){var t,n=null;h(e.src)?n=e.src:"string"==typeof e.src&&(n=(t=e.src.split("#",2).pop())?document.getElementById(t):null),n?("clone"===e.type||n.closest(".fancybox__slide")?((t=(n=n.cloneNode(!0)).dataset.animationName)&&(n.classList.remove(t),delete n.dataset.animationName),t=(t=n.getAttribute("id"))?"".concat(t,"--clone"):"clone-".concat(this.instance.id,"-").concat(e.index),n.setAttribute("id",t)):n.parentNode&&((t=document.createElement("div")).classList.add("fancybox-placeholder"),n.parentNode.insertBefore(t,n),e.placeholderEl=t),this.instance.setContent(e,n)):this.instance.setError(e,"{{ELEMENT_NOT_FOUND}}")}},{key:"setIframeContent",value:function(t){var n=this,e=t.src,i=t.el;if(e&&"string"==typeof e&&i){i.classList.add("is-loading");var o=this.instance,a=document.createElement("iframe");a.className="fancybox__iframe",a.setAttribute("id","fancybox__iframe_".concat(o.id,"_").concat(t.index));for(var r=0,s=Object.entries(this.optionFor(t,"iframeAttr")||{});r<s.length;r++){var l=_slicedToArray(s[r],2),c=l[0],l=l[1];a.setAttribute(c,l)}a.onerror=function(){o.setError(t,"{{IFRAME_ERROR}}")},t.iframeEl=a;i=this.optionFor(t,"preload");"iframe"!==t.type||!1===i?(a.setAttribute("src",t.src+""),o.setContent(t,a,!1),this.resizeIframe(t),o.revealContent(t)):(o.showLoading(t),a.onload=function(){var e;a.src.length&&(e="true"!==a.dataset.ready,a.dataset.ready="true",n.resizeIframe(t),e?o.revealContent(t):o.hideLoading(t))},a.setAttribute("src",e),o.setContent(t,a,!1))}}},{key:"resizeIframe",value:function(e){var t=e.type,n=e.iframeEl;if(t!==p&&t!==S){t=null==n?void 0:n.parentElement;if(n&&t){var i=e.autoSize,o=(void 0===i&&(i=this.optionFor(e,"autoSize")),e.width||0),a=e.height||0,r=(o&&a&&(i=!1),t&&t.style);if(!1!==e.preload&&!1!==i&&r)try{var s,l,c,u=window.getComputedStyle(t),h=parseFloat(u.paddingLeft)+parseFloat(u.paddingRight),d=parseFloat(u.paddingTop)+parseFloat(u.paddingBottom),f=n.contentWindow;f&&(l=(s=f.document).getElementsByTagName(Ce)[0],c=s.body,r.width="",c.style.overflow="hidden",o=o||l.scrollWidth+h,r.width="".concat(o,"px"),c.style.overflow="",r.flex="0 0 auto",r.height="".concat(c.scrollHeight,"px"),a=l.scrollHeight+d)}catch(e){}(o||a)&&(i={flex:"0 1 auto",width:"",height:""},o&&"auto"!==o&&(i.width="".concat(o,"px")),a&&"auto"!==a&&(i.height="".concat(a,"px")),Object.assign(r,i))}}}},{key:"playVideo",value:function(){var n=this.instance.getSlide();if(n){var e=n.el;if(e&&e.offsetParent&&this.optionFor(n,"videoAutoplay")){if(n.type===Ee)try{var t,i=e.querySelector("video");i&&void 0!==(t=i.play())&&t.then(function(){}).catch(function(e){i.muted=!0,i.play()})}catch(n){}n.type!==p&&n.type!==S||function e(){if(n.iframeEl&&n.iframeEl.contentWindow){var t;if("true"===n.iframeEl.dataset.ready)return(t=n.type===p?{event:"command",func:"playVideo"}:{method:"play",value:"true"})&&n.iframeEl.contentWindow.postMessage(JSON.stringify(t),"*"),void(n.poller=void 0);n.type===p&&(t={event:"listening",id:n.iframeEl.getAttribute("id")},n.iframeEl.contentWindow.postMessage(JSON.stringify(t),"*"))}n.poller=setTimeout(e,250)}()}}}},{key:"processType",value:function(e){var t,n,i,o,a,r;e.html?(e.type=Ce,e.src=e.html,e.html=""):(t=this.instance.optionFor(e,"src",""))&&"string"==typeof t&&(n=e.type,i=null,(i=t.match(/(youtube\.com|youtu\.be|youtube\-nocookie\.com)\/(?:watch\?(?:.*&)?v=|v\/|u\/|shorts\/|embed\/?)?(videoseries\?list=(?:.*)|[\w-]{11}|\?listType=(?:.*)&list=(?:.*))(?:.*)/i))?(o=(r=this.optionFor(e,p)).nocookie,r=function(e,t){var n={};for(o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,o=Object.getOwnPropertySymbols(e);i<o.length;i++)t.indexOf(o[i])<0&&Object.prototype.propertyIsEnumerable.call(e,o[i])&&(n[o[i]]=e[o[i]]);return n}(r,["nocookie"]),o="www.youtube".concat(o?"-nocookie":"",".com"),r=J(t,r),a=encodeURIComponent(i[2]),e.videoId=a,e.src="https://".concat(o,"/embed/").concat(a,"?").concat(r),e.thumbSrc=e.thumbSrc||"https://i.ytimg.com/vi/".concat(a,"/mqdefault.jpg"),n=p):(i=t.match(/^.+vimeo.com\/(?:\/)?([\d]+)((\/|\?h=)([a-z0-9]+))?(.*)?/))&&(o=J(t,this.optionFor(e,S)),r=encodeURIComponent(i[1]),a=i[4]||"",e.videoId=r,e.src="https://player.vimeo.com/video/".concat(r,"?").concat(a?"h=".concat(a).concat(o?"&":""):"").concat(o),n=S),(n=!n&&e.triggerEl&&(r=e.triggerEl.dataset.type,Oe.includes(r))?r:n)||"string"==typeof t&&("#"===t.charAt(0)?n="inline":(i=t.match(/\.(mp4|mov|ogv|webm)((\?|#).*)?$/i))?(n=Ee,e.videoFormat=e.videoFormat||"video/"+("ogv"===i[1]?"ogg":i[1])):t.match(/(^data:image\/[a-z0-9+\/=]*,)|(\.(jp(e|g|eg)|gif|png|bmp|webp|svg|ico)((\?|#).*)?$)/i)?n="image":t.match(/\.(pdf)((\?|#).*)?$/i)&&(n="pdf")),(i=t.match(/(?:maps\.)?google\.([a-z]{2,3}(?:\.[a-z]{2})?)\/(?:(?:(?:maps\/(?:place\/(?:.*)\/)?\@(.*),(\d+.?\d+?)z))|(?:\?ll=))(.*)?/i))?(e.src="https://maps.google.".concat(i[1],"/?ll=").concat((i[2]?i[2]+"&z="+Math.floor(parseFloat(i[3]))+(i[4]?i[4].replace(/^\//,"&"):""):i[4]+"").replace(/\?/,"&"),"&output=").concat(i[4]&&0<i[4].indexOf("layer=c")?"svembed":"embed"),n="map"):(i=t.match(/(?:maps\.)?google\.([a-z]{2,3}(?:\.[a-z]{2})?)\/(?:maps\/search\/)(.*)/i))&&(e.src="https://maps.google.".concat(i[1],"/maps?q=").concat(i[2].replace("query=","q=").replace("api=1",""),"&output=embed"),n="map"),n=n||this.instance.option("defaultType"),"image"===(e.type=n))&&(e.thumbSrc=e.thumbSrc||e.src)}},{key:"setContent",value:function(e){var t=this.instance.optionFor(e,"src")||"";if(e&&e.type&&t){switch(e.type){case Ce:this.instance.setContent(e,t);break;case Ee:var n=this.option("videoTpl");n&&this.instance.setContent(e,n.replace(/\{\{src\}\}/gi,t+"").replace(/\{\{format\}\}/gi,this.optionFor(e,"videoFormat")||"").replace(/\{\{poster\}\}/gi,e.poster||e.thumbSrc||""));break;case"inline":case"clone":this.setInlineContent(e);break;case"ajax":this.loadAjaxContent(e);break;case"pdf":case"map":case p:case S:e.preload=!1;case"iframe":this.setIframeContent(e)}this.setAspectRatio(e)}}},{key:"setAspectRatio",value:function(e){var t,n,i,o,a=e.contentEl;e.el&&a&&e.type&&[p,S,Ee].includes(e.type)&&(t=e.width||"auto",n=e.height||"auto","auto"===t||"auto"===n?i=(e=((i=this.optionFor(e,"videoRatio"))+"").match(/(\d+)\s*\/\s?(\d+)/))&&2<e.length?parseFloat(e[1])/parseFloat(e[2]):parseFloat(i+""):t&&n&&(i=t/n),i)&&(a.style.aspectRatio="",a.style.width="",a.style.height="",a.offsetHeight,o=(e=a.getBoundingClientRect()).width||1,e=e.height||1,a.style.aspectRatio=i+"",i<o/e?(n="auto"===n?e:Math.min(e,n),a.style.width="auto",a.style.height="".concat(n,"px")):(t="auto"===t?o:Math.min(o,t),a.style.width="".concat(t,"px"),a.style.height="auto"))}},{key:"attach",value:function(){var e=this,t=e.instance;t.on("Carousel.beforeInitSlide",e.onBeforeInitSlide),t.on("Carousel.createSlide",e.onCreateSlide),t.on("Carousel.selectSlide",e.onSelectSlide),t.on("Carousel.unselectSlide",e.onUnselectSlide),t.on("Carousel.Panzoom.refresh",e.onRefresh),t.on("done",e.onDone),t.on("clearContent",e.onClearContent),window.addEventListener("message",e.onMessage)}},{key:"detach",value:function(){var e=this,t=e.instance;t.off("Carousel.beforeInitSlide",e.onBeforeInitSlide),t.off("Carousel.createSlide",e.onCreateSlide),t.off("Carousel.selectSlide",e.onSelectSlide),t.off("Carousel.unselectSlide",e.onUnselectSlide),t.off("Carousel.Panzoom.refresh",e.onRefresh),t.off("done",e.onDone),t.off("clearContent",e.onClearContent),window.removeEventListener("message",e.onMessage)}}]),t}(),Me=(Object.defineProperty(e,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:{ajax:null,autoSize:!0,iframeAttr:{allow:"autoplay; fullscreen",scrolling:"auto"},preload:!0,videoAutoplay:!0,videoRatio:16/9,videoTpl:'<video class="fancybox__html5video" playsinline controls controlsList="nodownload" poster="{{poster}}">\n  <source src="{{src}}" type="{{format}}" />Sorry, your browser doesn\'t support embedded videos.</video>',videoFormat:"",vimeo:{byline:1,color:"00adef",controls:1,dnt:1,muted:0},youtube:{controls:1,enablejsapi:1,nocookie:1,rel:0,fs:1}}}),"play"),Ae="pause",Le="ready",Pe=function(){_inherits(n,i);var t=_createSuper(n);function n(){var e;return _classCallCheck(this,n),e=t.apply(this,arguments),Object.defineProperty(_assertThisInitialized(e),"state",{enumerable:!0,configurable:!0,writable:!0,value:Le}),Object.defineProperty(_assertThisInitialized(e),"inHover",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(_assertThisInitialized(e),"timer",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(_assertThisInitialized(e),"progressBar",{enumerable:!0,configurable:!0,writable:!0,value:null}),e}return _createClass(n,[{key:"isActive",get:function(){return this.state!==Le}},{key:"onReady",value:function(e){this.option("autoStart")&&(e.isInfinite||e.page<e.pages.length-1)&&this.start()}},{key:"onChange",value:function(){this.removeProgressBar(),this.pause()}},{key:"onSettle",value:function(){this.resume()}},{key:"onVisibilityChange",value:function(){"visible"===document.visibilityState?this.resume():this.pause()}},{key:"onMouseEnter",value:function(){this.inHover=!0,this.pause()}},{key:"onMouseLeave",value:function(){var e;this.inHover=!1,null!=(e=this.instance.panzoom)&&e.isResting&&this.resume()}},{key:"onTimerEnd",value:function(){var e=this.instance;"play"===this.state&&(e.isInfinite||e.page!==e.pages.length-1?e.slideNext():e.slideTo(0))}},{key:"removeProgressBar",value:function(){this.progressBar&&(this.progressBar.remove(),this.progressBar=null)}},{key:"createProgressBar",value:function(){if(!this.option("showProgress"))return null;this.removeProgressBar();var e=this.instance,t=(null==(t=e.pages[e.page])?void 0:t.slides)||[],n=this.option("progressParentEl");return(n=n||(1===t.length?t[0].el:null)||e.viewport)?(t=document.createElement("div"),E(t,"f-progress"),n.prepend(t),(this.progressBar=t).offsetHeight,t):null}},{key:"set",value:function(){var e,t=this,n=t.instance;n.pages.length<2||t.timer||(e=t.option("timeout"),t.state=Me,E(n.container,"has-autoplay"),(n=t.createProgressBar())&&(n.style.transitionDuration="".concat(e,"ms"),n.style.transform="scaleX(1)"),t.timer=setTimeout(function(){t.timer=null,t.inHover||t.onTimerEnd()},e),t.emit("set"))}},{key:"clear",value:function(){this.timer&&(clearTimeout(this.timer),this.timer=null),this.removeProgressBar()}},{key:"start",value:function(){var e,t=this;t.set(),t.state!==Le&&(t.option("pauseOnHover")&&((e=t.instance.container).addEventListener("mouseenter",t.onMouseEnter,!1),e.addEventListener("mouseleave",t.onMouseLeave,!1)),document.addEventListener("visibilitychange",t.onVisibilityChange,!1),t.emit("start"))}},{key:"stop",value:function(){var e=this,t=e.state,n=e.instance.container;e.clear(),e.state=Le,n.removeEventListener("mouseenter",e.onMouseEnter,!1),n.removeEventListener("mouseleave",e.onMouseLeave,!1),document.removeEventListener("visibilitychange",e.onVisibilityChange,!1),y(n,"has-autoplay"),t!==Le&&e.emit("stop")}},{key:"pause",value:function(){this.state===Me&&(this.state=Ae,this.clear(),this.emit(Ae))}},{key:"resume",value:function(){var e=this,t=e.instance;t.isInfinite||t.page!==t.pages.length-1?e.state!==Me&&(e.state!==Ae||e.inHover||(t=new Event("resume",{bubbles:!0,cancelable:!0}),e.emit("resume",t),t.defaultPrevented))||e.set():e.stop()}},{key:"toggle",value:function(){this.state===Me||this.state===Ae?this.stop():this.start()}},{key:"attach",value:function(){var e=this,t=e.instance;t.on("ready",e.onReady),t.on("Panzoom.startAnimation",e.onChange),t.on("Panzoom.endAnimation",e.onSettle),t.on("Panzoom.touchMove",e.onChange)}},{key:"detach",value:function(){var e=this,t=e.instance;t.off("ready",e.onReady),t.off("Panzoom.startAnimation",e.onChange),t.off("Panzoom.endAnimation",e.onSettle),t.off("Panzoom.touchMove",e.onChange),e.stop()}}]),n}(),t=(Object.defineProperty(Pe,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:{autoStart:!0,pauseOnHover:!0,progressParentEl:null,showProgress:!0,timeout:3e3}}),function(){_inherits(n,i);var t=_createSuper(n);function n(){var e;return _classCallCheck(this,n),e=t.apply(this,arguments),Object.defineProperty(_assertThisInitialized(e),"ref",{enumerable:!0,configurable:!0,writable:!0,value:null}),e}return _createClass(n,[{key:"onPrepare",value:function(i){var n,e=this,t=i.carousel;t&&(n=i.container)&&(t.options.Autoplay=g({autoStart:!1},this.option("Autoplay")||{},{pauseOnHover:!1,timeout:this.option("timeout"),progressParentEl:function(){return e.option("progressParentEl")||null},on:{start:function(){i.emit("startSlideshow")},set:function(e){var t;n.classList.add("has-slideshow"),(null==(t=i.getSlide())?void 0:t.state)!==k.Ready&&e.pause()},stop:function(){n.classList.remove("has-slideshow"),i.isCompact||i.endIdle(),i.emit("endSlideshow")},resume:function(e,t){var n;!t||!t.cancelable||(null==(n=i.getSlide())?void 0:n.state)===k.Ready&&null!=(n=null==(n=i.carousel)?void 0:n.panzoom)&&n.isResting||t.preventDefault()}}}),t.attachPlugins({Autoplay:Pe}),this.ref=t.plugins.Autoplay)}},{key:"onReady",value:function(e){var e=e.carousel,t=this.ref;t&&e&&this.option("playOnStart")&&(e.isInfinite||e.page<e.pages.length-1)&&t.start()}},{key:"onDone",value:function(e,t){var n=this.ref,i=e.carousel;n&&i&&((i=t.panzoom)&&i.on("startAnimation",function(){e.isCurrentSlide(t)&&n.stop()}),e.isCurrentSlide(t))&&n.resume()}},{key:"onKeydown",value:function(e,t){var n=this.ref;n&&t===this.option("key")&&"BUTTON"!==(null==(t=document.activeElement)?void 0:t.nodeName)&&n.toggle()}},{key:"attach",value:function(){var e=this,t=e.instance;t.on("Carousel.init",e.onPrepare),t.on("Carousel.ready",e.onReady),t.on("done",e.onDone),t.on("keydown",e.onKeydown)}},{key:"detach",value:function(){var e=this,t=e.instance;t.off("Carousel.init",e.onPrepare),t.off("Carousel.ready",e.onReady),t.off("done",e.onDone),t.off("keydown",e.onKeydown)}}]),n}()),o=(Object.defineProperty(t,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:{key:" ",playOnStart:!1,progressParentEl:function(e){var t;return(null==(t=e.instance.container)?void 0:t.querySelector(".fancybox__toolbar [data-fancybox-toggle-slideshow]"))||e.instance.container},timeout:3e3}}),{classes:{container:"f-thumbs f-carousel__thumbs",viewport:"f-thumbs__viewport",track:"f-thumbs__track",slide:"f-thumbs__slide",isResting:"is-resting",isSelected:"is-selected",isLoading:"is-loading",hasThumbs:"has-thumbs"},minCount:2,parentEl:null,thumbTpl:'<button class="f-thumbs__slide__button" tabindex="0" type="button" aria-label="{{GOTO}}" data-carousel-index="%i"><img class="f-thumbs__slide__img" data-lazy-src="{{%s}}" alt="" /></button>',type:"modern"}),Ie=((A=u=u||{})[A.Init=0]="Init",A[A.Ready=1]="Ready",A[A.Hidden=2]="Hidden","isResting"),ze="thumbWidth",s="thumbHeight",C="thumbClipWidth",De=function(){_inherits(n,i);var t=_createSuper(n);function n(){var e;return _classCallCheck(this,n),e=t.apply(this,arguments),Object.defineProperty(_assertThisInitialized(e),"type",{enumerable:!0,configurable:!0,writable:!0,value:"modern"}),Object.defineProperty(_assertThisInitialized(e),"container",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(_assertThisInitialized(e),"track",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(_assertThisInitialized(e),"carousel",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(_assertThisInitialized(e),"thumbWidth",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(_assertThisInitialized(e),"thumbClipWidth",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(_assertThisInitialized(e),"thumbHeight",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(_assertThisInitialized(e),"thumbGap",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(_assertThisInitialized(e),"thumbExtraGap",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(_assertThisInitialized(e),"state",{enumerable:!0,configurable:!0,writable:!0,value:u.Init}),e}return _createClass(n,[{key:"isModern",get:function(){return"modern"===this.type}},{key:"onInitSlide",value:function(e,t){var n=t.el?t.el.dataset:void 0;n&&(t.thumbSrc=n.thumbSrc||t.thumbSrc||"",t[C]=parseFloat(n[C]||"")||t[C]||0,t[s]=parseFloat(n.thumbHeight||"")||t[s]||0),this.addSlide(t)}},{key:"onInitSlides",value:function(){this.build()}},{key:"onChange",value:function(){var e,t,n,i,o,a;this.isModern&&(e=this.container,t=(a=this.instance).panzoom,n=(o=this.carousel)?o.panzoom:null,i=a.page,t)&&o&&n&&(t.isDragging?(y(e,this.cn(Ie)),o=(null==(o=o.pages[i])?void 0:o.pos)||0,-1*(o+=a.getProgress(i)*(this[C]+this.thumbGap))>(a=n.getBounds()).x.min&&-1*o<a.x.max&&n.panTo({x:-1*o,friction:.12})):v(e,this.cn(Ie),t.isResting),this.shiftModern())}},{key:"onRefresh",value:function(){this.updateProps();var e,t=_createForOfIteratorHelper(this.instance.slides||[]);try{for(t.s();!(e=t.n()).done;){var n=e.value;this.resizeModernSlide(n)}}catch(e){t.e(e)}finally{t.f()}this.shiftModern()}},{key:"isDisabled",value:function(){var e=this.option("minCount")||0;if(e){var t,n=0,i=_createForOfIteratorHelper(this.instance.slides||[]);try{for(i.s();!(t=i.n()).done;)t.value.thumbSrc&&n++}catch(e){i.e(e)}finally{i.f()}if(n<e)return!0}e=this.option("type");return["modern","classic"].indexOf(e)<0}},{key:"getThumb",value:function(e){var t=this.option("thumbTpl")||"";return{html:this.instance.localize(t,[["%i",e.index],["%d",e.index+1],["%s",e.thumbSrc||"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"]])}}},{key:"addSlide",value:function(e){var t=this.carousel;t&&t.addSlide(e.index,this.getThumb(e))}},{key:"getSlides",value:function(){var e,t=[],n=_createForOfIteratorHelper(this.instance.slides||[]);try{for(n.s();!(e=n.n()).done;){var i=e.value;t.push(this.getThumb(i))}}catch(e){n.e(e)}finally{n.f()}return t}},{key:"resizeModernSlide",value:function(e){this.isModern&&(e[ze]=e[C]&&e[s]?Math.round(this[s]*(e[C]/e[s])):this[ze])}},{key:"updateProps",value:function(){var e,t=this.container;t&&(this.thumbGap=(e=function(e){return parseFloat(getComputedStyle(t).getPropertyValue("--f-thumb-"+e))||0})("gap"),this.thumbExtraGap=e("extra-gap"),this[ze]=e("width")||40,this[C]=e("clip-width")||40,this[s]=e("height")||40)}},{key:"build",value:function(){var e,t,n,i,o,a,r,s,l=this;l.state===u.Init&&(l.isDisabled()?l.emit("disabled"):(s=(e=l.instance).container,t=l.getSlides(),n=l.option("type"),l.type=n,r=l.option("parentEl"),a=l.cn("container"),i=l.cn("track"),(o=null==r?void 0:r.querySelector("."+a))||(o=document.createElement("div"),E(o,a),r?r.appendChild(o):s.after(o)),E(o,"is-".concat(n)),E(s,l.cn("hasThumbs")),l.container=o,l.updateProps(),(a=o.querySelector("."+i))||(a=document.createElement("div"),E(a,l.cn("track")),o.appendChild(a)),l.track=a,r=g({},{track:a,infinite:!1,center:!0,fill:"classic"===n,dragFree:!0,slidesPerPage:1,transition:!1,preload:.25,friction:.12,Panzoom:{maxVelocity:0},Dots:!1,Navigation:!1,classes:{container:"f-thumbs",viewport:"f-thumbs__viewport",track:"f-thumbs__track",slide:"f-thumbs__slide"}},l.option("Carousel")||{},{Sync:{target:e},slides:t}),(s=new e.constructor(o,r)).on("createSlide",function(e,t){l.setProps(t.index),l.emit("createSlide",t,t.el)}),s.on("ready",function(){l.shiftModern(),l.emit("ready")}),s.on("refresh",function(){l.shiftModern()}),s.on("Panzoom.click",function(e,t,n){l.onClick(n)}),l.carousel=s,l.state=u.Ready))}},{key:"onClick",value:function(e){e.preventDefault(),e.stopPropagation();function t(e,t){return(e=document.elementFromPoint(e,t))?l(e):[-1,void 0]}var n,i,o,a=this.instance,r=a.pages,s=a.page,l=function(e){if(e){e=e.closest("[data-carousel-index]");if(e)return[parseInt(e.dataset.carouselIndex||"",10)||0,e]}return[-1,void 0]},c=_slicedToArray(l(e.target),2),u=c[0];c[1];-1<u||(c=this[C],i=(o=_slicedToArray(t((n=e.clientX)-c,e=e.clientY),2))[0],o=o[1],e=(c=_slicedToArray(t(n+c,e),2))[0],c=c[1],o&&c?(u=Math.abs(n-o.getBoundingClientRect().right)<Math.abs(n-c.getBoundingClientRect().left)?i:e)===s&&(u=u===i?e:i):o?u=i:c&&(u=e),-1<u&&r[u]&&a.slideTo(u))}},{key:"getShift",value:function(e){var t,n,i,o,a,r=this,s=r.instance,l=r.carousel;return s&&l&&(t=r[ze],n=r[C],o=r.thumbGap,r=r.thumbExtraGap,null!=(l=l.slides[e]))&&l.el?(l=.5*(t-n),t=s.pages.length-1,n=s.getProgress(0),i=s.getProgress(t),s=s.getProgress(e,!1,!0),l=l+r+o,o=n<(r=0)&&-1<n,a=0<i&&i<1,0===e?(r=l*Math.abs(n),a&&1===n&&(r-=l*Math.abs(i))):e===t?(r=l*Math.abs(i)*-1,o&&-1===i&&(r+=l*Math.abs(n))):o||a?(r=-1*l,r=(r+=l*Math.abs(n))+l*(1-Math.abs(i))):r=l*s,r):0}},{key:"setProps",value:function(e){var t,n;this.isModern&&(n=this.instance,t=this.carousel,n)&&t&&(t=null==(t=t.slides[e])?void 0:t.el)&&t.childNodes.length&&(n=O(1-Math.abs(n.getProgress(e))),e=O(this.getShift(e)),t.style.setProperty("--progress",n?n+"":""),t.style.setProperty("--shift",e+""))}},{key:"shiftModern",value:function(){var e=this;if(e.isModern){var t=e.instance,n=e.track,i=t.panzoom,o=e.carousel;if(t&&n&&i&&o&&i.state!==_.Init&&i.state!==_.Destroy){var a,r=_createForOfIteratorHelper(t.slides);try{for(r.s();!(a=r.n()).done;){var s=a.value;e.setProps(s.index)}}catch(e){r.e(e)}finally{r.f()}i=(e[C]+e.thumbGap)*(o.slides.length||0);n.style.setProperty("--width",i+"")}}}},{key:"cleanup",value:function(){var e=this;e.carousel&&e.carousel.destroy(),e.carousel=null,e.container&&e.container.remove(),e.container=null,e.track&&e.track.remove(),e.track=null,e.state=u.Init,y(e.instance.container,e.cn("hasThumbs"))}},{key:"attach",value:function(){var e=this,t=e.instance;t.on("initSlide",e.onInitSlide),t.state===w.Init?t.on("initSlides",e.onInitSlides):e.onInitSlides(),t.on(["change","Panzoom.afterTransform"],e.onChange),t.on("Panzoom.refresh",e.onRefresh)}},{key:"detach",value:function(){var e=this,t=e.instance;t.off("initSlide",e.onInitSlide),t.off("initSlides",e.onInitSlides),t.off(["change","Panzoom.afterTransform"],e.onChange),t.off("Panzoom.refresh",e.onRefresh),e.cleanup()}}]),n}(),A=(Object.defineProperty(De,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:o}),Object.assign(Object.assign({},o),{key:"t",showOnStart:!0,parentEl:null})),Be="is-masked",Re="aria-hidden",o=function(){_inherits(n,i);var t=_createSuper(n);function n(){var e;return _classCallCheck(this,n),e=t.apply(this,arguments),Object.defineProperty(_assertThisInitialized(e),"ref",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(_assertThisInitialized(e),"hidden",{enumerable:!0,configurable:!0,writable:!0,value:!1}),e}return _createClass(n,[{key:"isEnabled",get:function(){var e=this.ref;return e&&!e.isDisabled()}},{key:"isHidden",get:function(){return this.hidden}},{key:"onClick",value:function(e,t){t.stopPropagation()}},{key:"onCreateSlide",value:function(e,t){var n,i=(null==(i=null==(i=null==(i=this.instance)?void 0:i.carousel)?void 0:i.slides[t.index])?void 0:i.type)||"",t=t.el;t&&i&&(n="for-".concat(i),["video","youtube","vimeo","html5video"].includes(i)&&(n+=" for-video"),E(t,n))}},{key:"onInit",value:function(){var e,n=this,i=this,t=i.instance,o=t.carousel;!i.ref&&o&&(e=i.option("parentEl")||t.footer||t.container)&&((e=g({},i.options,{parentEl:e,classes:{container:"f-thumbs fancybox__thumbs"},Carousel:{Sync:{friction:t.option("Carousel.friction")||0}},on:{ready:function(e){var t=e.container;t&&n.hidden&&(i.refresh(),t.style.transition="none",i.hide(),t.offsetHeight,queueMicrotask(function(){t.style.transition="",i.show()}))}}})).Carousel=e.Carousel||{},e.Carousel.on=g((null==(t=i.options.Carousel)?void 0:t.on)||{},{click:this.onClick,createSlide:this.onCreateSlide}),o.options.Thumbs=e,o.attachPlugins({Thumbs:De}),i.ref=o.plugins.Thumbs,i.option("showOnStart")||(i.ref.state=u.Hidden,i.hidden=!0))}},{key:"onResize",value:function(){var e=null==(e=this.ref)?void 0:e.container;e&&(e.style.maxHeight="")}},{key:"onKeydown",value:function(e,t){var n=this.option("key");n&&n===t&&this.toggle()}},{key:"toggle",value:function(){var e=this.ref;if(e&&!e.isDisabled())return e.state===u.Hidden?(e.state=u.Init,void e.build()):void(this.hidden?this.show():this.hide())}},{key:"show",value:function(){var e=this.ref;e&&!e.isDisabled()&&(e=e.container)&&(this.refresh(),e.offsetHeight,e.removeAttribute(Re),e.classList.remove(Be),this.hidden=!1)}},{key:"hide",value:function(){var e=this.ref,e=e&&e.container;e&&(this.refresh(),e.offsetHeight,e.classList.add(Be),e.setAttribute(Re,"true")),this.hidden=!0}},{key:"refresh",value:function(){var e,t=this.ref;t&&t.state&&(e=(null==(t=t.container)?void 0:t.firstChild)||null,t)&&e&&e.childNodes.length&&(t.style.maxHeight="".concat(e.getBoundingClientRect().height,"px"))}},{key:"attach",value:function(){var e=this,t=e.instance;t.state===d.Init?t.on("Carousel.init",e.onInit):e.onInit(),t.on("resize",e.onResize),t.on("keydown",e.onKeydown)}},{key:"detach",value:function(){var e=this,t=e.instance;t.off("Carousel.init",e.onInit),t.off("resize",e.onResize),t.off("keydown",e.onKeydown),null!=(t=t.carousel)&&t.detachPlugins(["Thumbs"]),e.ref=null}}]),n}(),je=(Object.defineProperty(o,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:A}),{panLeft:{icon:'<svg><path d="M5 12h14M5 12l6 6M5 12l6-6"/></svg>',change:{panX:-100}},panRight:{icon:'<svg><path d="M5 12h14M13 18l6-6M13 6l6 6"/></svg>',change:{panX:100}},panUp:{icon:'<svg><path d="M12 5v14M18 11l-6-6M6 11l6-6"/></svg>',change:{panY:-100}},panDown:{icon:'<svg><path d="M12 5v14M18 13l-6 6M6 13l6 6"/></svg>',change:{panY:100}},zoomIn:{icon:'<svg><circle cx="11" cy="11" r="7.5"/><path d="m21 21-4.35-4.35M11 8v6M8 11h6"/></svg>',action:"zoomIn"},zoomOut:{icon:'<svg><circle cx="11" cy="11" r="7.5"/><path d="m21 21-4.35-4.35M8 11h6"/></svg>',action:"zoomOut"},toggle1to1:{icon:'<svg><path d="M3.51 3.07c5.74.02 11.48-.02 17.22.02 1.37.1 2.34 1.64 2.18 3.13 0 4.08.02 8.16 0 12.23-.1 1.54-1.47 2.64-2.79 2.46-5.61-.01-11.24.02-16.86-.01-1.36-.12-2.33-1.65-2.17-3.14 0-4.07-.02-8.16 0-12.23.1-1.36 1.22-2.48 2.42-2.46Z"/><path d="M5.65 8.54h1.49v6.92m8.94-6.92h1.49v6.92M11.5 9.4v.02m0 5.18v0"/></svg>',action:"toggleZoom"},toggleZoom:{icon:'<svg><g><line x1="11" y1="8" x2="11" y2="14"></line></g><circle cx="11" cy="11" r="7.5"/><path d="m21 21-4.35-4.35M8 11h6"/></svg>',action:"toggleZoom"},iterateZoom:{icon:'<svg><g><line x1="11" y1="8" x2="11" y2="14"></line></g><circle cx="11" cy="11" r="7.5"/><path d="m21 21-4.35-4.35M8 11h6"/></svg>',action:"iterateZoom"},rotateCCW:{icon:'<svg><path d="M15 4.55a8 8 0 0 0-6 14.9M9 15v5H4M18.37 7.16v.01M13 19.94v.01M16.84 18.37v.01M19.37 15.1v.01M19.94 11v.01"/></svg>',action:"rotateCCW"},rotateCW:{icon:'<svg><path d="M9 4.55a8 8 0 0 1 6 14.9M15 15v5h5M5.63 7.16v.01M4.06 11v.01M4.63 15.1v.01M7.16 18.37v.01M11 19.94v.01"/></svg>',action:"rotateCW"},flipX:{icon:'<svg style="stroke-width: 1.3"><path d="M12 3v18M16 7v10h5L16 7M8 7v10H3L8 7"/></svg>',action:"flipX"},flipY:{icon:'<svg style="stroke-width: 1.3"><path d="M3 12h18M7 16h10L7 21v-5M7 8h10L7 3v5"/></svg>',action:"flipY"},fitX:{icon:'<svg><path d="M4 12V6a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v6M10 18H3M21 18h-7M6 15l-3 3 3 3M18 15l3 3-3 3"/></svg>',action:"fitX"},fitY:{icon:'<svg><path d="M12 20H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h6M18 14v7M18 3v7M15 18l3 3 3-3M15 6l3-3 3 3"/></svg>',action:"fitY"},reset:{icon:'<svg><path d="M20 11A8.1 8.1 0 0 0 4.5 9M4 5v4h4M4 13a8.1 8.1 0 0 0 15.5 2m.5 4v-4h-4"/></svg>',action:"reset"},toggleFS:{icon:'<svg><g><path d="M14.5 9.5 21 3m0 0h-6m6 0v6M3 21l6.5-6.5M3 21v-6m0 6h6"/></g><g><path d="m14 10 7-7m-7 7h6m-6 0V4M3 21l7-7m0 0v6m0-6H4"/></g></svg>',action:"toggleFS"}}),Fe=((A=M=M||{})[A.Init=0]="Init",A[A.Ready=1]="Ready",A[A.Disabled=2]="Disabled",{tabindex:"-1",width:"24",height:"24",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"}),He="has-toolbar",Ne="fancybox__toolbar",A=function(){_inherits(n,i);var t=_createSuper(n);function n(){var e;return _classCallCheck(this,n),e=t.apply(this,arguments),Object.defineProperty(_assertThisInitialized(e),"state",{enumerable:!0,configurable:!0,writable:!0,value:M.Init}),Object.defineProperty(_assertThisInitialized(e),"container",{enumerable:!0,configurable:!0,writable:!0,value:null}),e}return _createClass(n,[{key:"onReady",value:function(e){var t;if(e.carousel){var n=this.option("display"),i=this.option("absolute"),e=this.option("enabled");if("auto"===e){var o=this.instance.carousel,a=0;if(o){var r,s=_createForOfIteratorHelper(o.slides);try{for(s.s();!(r=s.n()).done;){var l=r.value;!l.panzoom&&"image"!==l.type||a++}}catch(e){s.e(e)}finally{s.f()}}a||(e=!1)}var c=0,u={left:[],middle:[],right:[]};if(n=e?n:void 0)for(var h=0,d=["left","middle","right"];h<d.length;h++){var f,p=d[h],g=_createForOfIteratorHelper(n[p]);try{for(g.s();!(f=g.n()).done;){var v=f.value,m=this.createEl(v);m&&(null!=(t=u[p])&&t.push(m),c++)}}catch(e){g.e(e)}finally{g.f()}}var y=null;if(y=c?this.createContainer():y){for(var b=0,_=Object.entries(u);b<_.length;b++){var w,k=_slicedToArray(_[b],2),x=k[0],k=k[1],T=document.createElement("div"),S=(E(T,Ne+"__column is-"+x),_createForOfIteratorHelper(k));try{for(S.s();!(w=S.n()).done;){var C=w.value;T.appendChild(C)}}catch(e){S.e(e)}finally{S.f()}"auto"!==i||"middle"!==x||k.length||(i=!0),y.appendChild(T)}!0===i&&E(y,"is-absolute"),this.state=M.Ready,this.onRefresh()}else this.state=M.Disabled}}},{key:"onClick",value:function(e){var t=this.instance,n=t.getSlide(),n=null==n?void 0:n.panzoom,i=e.target,i=i&&h(i)?i.dataset:null;if(i)if(void 0!==i.fancyboxToggleThumbs)e.preventDefault(),e.stopPropagation(),null!=(o=t.plugins.Thumbs)&&o.toggle();else if(void 0!==i.fancyboxToggleFullscreen)e.preventDefault(),e.stopPropagation(),this.instance.toggleFullscreen();else if(void 0!==i.fancyboxToggleSlideshow)e.preventDefault(),e.stopPropagation(),o=(t=null==(o=t.carousel)?void 0:o.plugins.Autoplay).isActive,n&&"mousemove"===n.panMode&&!o&&n.reset(),o?t.stop():t.start();else{var o=i.panzoomAction,t=i.panzoomChange;if((t||o)&&(e.preventDefault(),e.stopPropagation()),t){i={};try{i=JSON.parse(t)}catch(e){}n&&n.applyChange(i)}else o&&n&&n[o]&&n[o]()}}},{key:"onChange",value:function(){this.onRefresh()}},{key:"onRefresh",value:function(){if(!this.instance.isClosing()){var e=this.container;if(e){var t=this.instance.getSlide();if(t&&t.state===k.Ready){var n,i=t&&!t.error&&t.panzoom,o=_createForOfIteratorHelper(e.querySelectorAll("[data-panzoom-action]"));try{for(o.s();!(n=o.n()).done;){var a=n.value;i?(a.removeAttribute("disabled"),a.removeAttribute("tabindex")):(a.setAttribute("disabled",""),a.setAttribute("tabindex","-1"))}}catch(e){o.e(e)}finally{o.f()}var r,s=i&&i.canZoomIn(),l=i&&i.canZoomOut(),c=_createForOfIteratorHelper(e.querySelectorAll('[data-panzoom-action="zoomIn"]'));try{for(c.s();!(r=c.n()).done;){var u=r.value;s?(u.removeAttribute("disabled"),u.removeAttribute("tabindex")):(u.setAttribute("disabled",""),u.setAttribute("tabindex","-1"))}}catch(e){c.e(e)}finally{c.f()}var h,d=_createForOfIteratorHelper(e.querySelectorAll('[data-panzoom-action="zoomOut"]'));try{for(d.s();!(h=d.n()).done;){var f=h.value;l?(f.removeAttribute("disabled"),f.removeAttribute("tabindex")):(f.setAttribute("disabled",""),f.setAttribute("tabindex","-1"))}}catch(e){d.e(e)}finally{d.f()}var p,g=_createForOfIteratorHelper(e.querySelectorAll('[data-panzoom-action="toggleZoom"],[data-panzoom-action="iterateZoom"]'));try{for(g.s();!(p=g.n()).done;){var v=p.value,m=(l||s?(v.removeAttribute("disabled"),v.removeAttribute("tabindex")):(v.setAttribute("disabled",""),v.setAttribute("tabindex","-1")),v.querySelector("g"));m&&(m.style.display=s?"":"none")}}catch(e){g.e(e)}finally{g.f()}}}}}},{key:"onDone",value:function(e,t){var n,i=this;null!=(n=t.panzoom)&&n.on("afterTransform",function(){i.instance.isCurrentSlide(t)&&i.onRefresh()}),this.instance.isCurrentSlide(t)&&this.onRefresh()}},{key:"createContainer",value:function(){var e,t,n=this.instance.container;return n?((t=(e=this.option("parentEl")||n).querySelector("."+Ne))||(t=document.createElement("div"),E(t,Ne),e.prepend(t)),t.addEventListener("click",this.onClick,{passive:!1,capture:!0}),n&&E(n,He),this.container=t):null}},{key:"createEl",value:function(e){var t=this,n=this.instance,i=n.carousel;if(!i)return null;if("toggleFS"===e)return null;if("fullscreen"===e&&!Z())return null;var o,a=null,r=i.slides.length||0,s=0,l=0,c=_createForOfIteratorHelper(i.slides);try{for(c.s();!(o=c.n()).done;){var u=o.value;!u.panzoom&&"image"!==u.type||s++,"image"!==u.type&&!u.downloadSrc||l++}}catch(e){c.e(e)}finally{c.f()}if(!(r<2&&["infobar","prev","next"].includes(e))){if(void 0!==je[e]&&!s)return null;if("download"===e&&!l)return null;if("thumbs"===e){n=n.plugins.Thumbs;if(!n||!n.isEnabled)return null}if("slideshow"===e&&(!i.plugins.Autoplay||r<2))return null;void 0!==je[e]?(n=je[e],(a=document.createElement("button")).setAttribute("title",this.instance.localize("{{".concat(e.toUpperCase(),"}}"))),E(a,"f-button"),n.action&&(a.dataset.panzoomAction=n.action),n.change&&(a.dataset.panzoomChange=JSON.stringify(n.change)),a.appendChild(m(this.instance.localize(n.icon)))):(h=(this.option("items")||[])[e])&&(a=m(this.instance.localize(h.tpl)),"function"==typeof h.click)&&a.addEventListener("click",function(e){e.preventDefault(),e.stopPropagation(),"function"==typeof h.click&&h.click.call(t,t,e)});var h,d=null==a?void 0:a.querySelector("svg");if(d)for(var f=0,p=Object.entries(Fe);f<p.length;f++){var g=_slicedToArray(p[f],2),v=g[0],g=g[1];d.getAttribute(v)||d.setAttribute(v,String(g))}}return a}},{key:"removeContainer",value:function(){var e=this.container,e=(e&&e.remove(),this.container=null,this.state=M.Disabled,this.instance.container);e&&y(e,He)}},{key:"attach",value:function(){var e=this,t=e.instance;t.on("Carousel.initSlides",e.onReady),t.on("done",e.onDone),t.on(["reveal","Carousel.change"],e.onChange),e.onReady(e.instance)}},{key:"detach",value:function(){var e=this,t=e.instance;t.off("Carousel.initSlides",e.onReady),t.off("done",e.onDone),t.off(["reveal","Carousel.change"],e.onChange),e.removeContainer()}}]),n}(),e=(Object.defineProperty(A,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:{absolute:"auto",display:{left:["infobar"],middle:[],right:["iterateZoom","slideshow","fullscreen","thumbs","close"]},enabled:"auto",items:{infobar:{tpl:'<div class="fancybox__infobar" tabindex="-1"><span data-fancybox-current-index></span>/<span data-fancybox-count></span></div>'},download:{tpl:'<a class="f-button" title="{{DOWNLOAD}}" data-fancybox-download href="javasript:;"><svg><path d="M4 17v2a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-2M7 11l5 5 5-5M12 4v12"/></svg></a>'},prev:{tpl:'<button class="f-button" title="{{PREV}}" data-fancybox-prev><svg><path d="m15 6-6 6 6 6"/></svg></button>'},next:{tpl:'<button class="f-button" title="{{NEXT}}" data-fancybox-next><svg><path d="m9 6 6 6-6 6"/></svg></button>'},slideshow:{tpl:'<button class="f-button" title="{{TOGGLE_SLIDESHOW}}" data-fancybox-toggle-slideshow><svg><g><path d="M8 4v16l13 -8z"></path></g><g><path d="M8 4v15M17 4v15"/></g></svg></button>'},fullscreen:{tpl:'<button class="f-button" title="{{TOGGLE_FULLSCREEN}}" data-fancybox-toggle-fullscreen><svg><g><path d="M4 8V6a2 2 0 0 1 2-2h2M4 16v2a2 2 0 0 0 2 2h2M16 4h2a2 2 0 0 1 2 2v2M16 20h2a2 2 0 0 0 2-2v-2"/></g><g><path d="M15 19v-2a2 2 0 0 1 2-2h2M15 5v2a2 2 0 0 0 2 2h2M5 15h2a2 2 0 0 1 2 2v2M5 9h2a2 2 0 0 0 2-2V5"/></g></svg></button>'},thumbs:{tpl:'<button class="f-button" title="{{TOGGLE_THUMBS}}" data-fancybox-toggle-thumbs><svg><circle cx="5.5" cy="5.5" r="1"/><circle cx="12" cy="5.5" r="1"/><circle cx="18.5" cy="5.5" r="1"/><circle cx="5.5" cy="12" r="1"/><circle cx="12" cy="12" r="1"/><circle cx="18.5" cy="12" r="1"/><circle cx="5.5" cy="18.5" r="1"/><circle cx="12" cy="18.5" r="1"/><circle cx="18.5" cy="18.5" r="1"/></svg></button>'},close:{tpl:'<button class="f-button" title="{{CLOSE}}" data-fancybox-close><svg><path d="m19.5 4.5-15 15M4.5 4.5l15 15"/></svg></button>'}},parentEl:null}}),{Hash:function(){_inherits(t,i);var e=_createSuper(t);function t(){return _classCallCheck(this,t),e.apply(this,arguments)}return _createClass(t,[{key:"onReady",value:function(){be=!1}},{key:"onChange",value:function(t){a&&clearTimeout(a);var n=we().hash,e=ke().hash,i=t.isOpeningSlide(t.getSlide());i&&(ye=e===n?"":e),n&&n!==e&&(a=setTimeout(function(){try{var e;t.state===d.Ready&&(e="replaceState",i&&!_e&&(e="pushState",_e=!0),window.history[e]({},document.title,window.location.pathname+window.location.search+n))}catch(e){}},300))}},{key:"onClose",value:function(e){if(a&&clearTimeout(a),!be&&_e)be=_e=!1,window.history.back();else if(!be)try{window.history.replaceState({},document.title,window.location.pathname+window.location.search+(ye||""))}catch(e){}}},{key:"attach",value:function(){var e=this.instance;e.on("ready",this.onReady),e.on(["Carousel.ready","Carousel.change"],this.onChange),e.on("close",this.onClose)}},{key:"detach",value:function(){var e=this.instance;e.off("ready",this.onReady),e.off(["Carousel.ready","Carousel.change"],this.onChange),e.off("close",this.onClose)}}],[{key:"parseURL",value:function(){return ke()}},{key:"startFromUrl",value:function(){xe()}},{key:"destroy",value:function(){window.removeEventListener("hashchange",Q,!1)}}]),t}(),Html:e,Images:n,Slideshow:t,Thumbs:o,Toolbar:A}),Ve="with-fancybox",We="hide-scrollbar",qe="--fancybox-scrollbar-compensate",Ue="--fancybox-body-margin",Xe="aria-hidden",Ge="is-using-tab",$e="is-animated",Ye="is-compact",Ze="is-loading",Qe="is-opening",Ke="has-caption",L="disabled",P="tabindex",Je="download",et="href",tt="src",I=null,z=null,nt=0,it=0,ot=new Map,at=0,D=function(){_inherits(p,ie);var o=_createSuper(p);function p(){var e,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};return _classCallCheck(this,p),e=o.call(this,n),Object.defineProperty(_assertThisInitialized(e),"userSlides",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(_assertThisInitialized(e),"userPlugins",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(_assertThisInitialized(e),"idle",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(_assertThisInitialized(e),"idleTimer",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(_assertThisInitialized(e),"clickTimer",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(_assertThisInitialized(e),"pwt",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(_assertThisInitialized(e),"ignoreFocusChange",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(_assertThisInitialized(e),"startedFs",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(_assertThisInitialized(e),"state",{enumerable:!0,configurable:!0,writable:!0,value:d.Init}),Object.defineProperty(_assertThisInitialized(e),"id",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(_assertThisInitialized(e),"container",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(_assertThisInitialized(e),"caption",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(_assertThisInitialized(e),"footer",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(_assertThisInitialized(e),"carousel",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(_assertThisInitialized(e),"lastFocus",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(_assertThisInitialized(e),"prevMouseMoveEvent",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),r=r||Z(),e.id=n.id||++at,ot.set(e.id,_assertThisInitialized(e)),e.userSlides=t,e.userPlugins=i,queueMicrotask(function(){e.init()}),e}return _createClass(p,[{key:"isIdle",get:function(){return this.idle}},{key:"isCompact",get:function(){return this.option("compact")}},{key:"init",value:function(){var e,t,n,i,o,a=this;this.state!==d.Destroy&&(this.state=d.Init,this.attachPlugins(Object.assign(Object.assign({},p.Plugins),this.userPlugins)),this.emit("init"),this.emit("attachPlugins"),!0===this.option("hideScrollbar")&&ge&&(e=(t=document).body,t=t.documentElement,e.classList.contains(We)||(n=window.innerWidth-t.getBoundingClientRect().width,i=parseFloat(window.getComputedStyle(e).marginRight),t.style.setProperty(qe,"".concat(n=n<0?0:n,"px")),i&&e.style.setProperty(Ue,"".concat(i,"px")),e.classList.add(We))),this.initLayout(),this.scale(),o=function(){a.initCarousel(a.userSlides),a.state=d.Ready,a.attachEvents(),a.emit("ready"),setTimeout(function(){a.container&&a.container.setAttribute(Xe,"false")},16)},this.option("Fullscreen.autoStart")&&r&&!r.isFullscreen()?r.request().then(function(){a.startedFs=!0,o()}).catch(o):o())}},{key:"initLayout",value:function(){var e=this,t=this.option("parentEl")||document.body,n=m(this.localize(this.option("tpl.main")||""));n&&(n.setAttribute("id","fancybox-".concat(this.id)),n.setAttribute("aria-label",this.localize("{{MODAL}}")),n.classList.toggle(Ye,this.isCompact),E(n,this.option("mainClass")||""),E(n,Qe),this.container=n,this.footer=n.querySelector(".fancybox__footer"),t.appendChild(n),E(document.documentElement,Ve),I&&z||(I=document.createElement("span"),E(I,"fancybox-focus-guard"),I.setAttribute(P,"0"),I.setAttribute(Xe,"true"),I.setAttribute("aria-label","Focus guard"),z=I.cloneNode(),null!=(t=n.parentElement)&&t.insertBefore(I,n),null==(t=n.parentElement))||t.append(z),n.addEventListener("mousedown",function(e){nt=e.pageX,it=e.pageY,y(n,Ge)}),this.option("animated")&&(E(n,$e),setTimeout(function(){e.isClosing()||y(n,$e)},350)),this.emit("initLayout"))}},{key:"initCarousel",value:function(e){var y=this,t=this.container;t&&(t=t.querySelector(".fancybox__carousel"))&&((t=this.carousel=new pe(t,g({},{slides:e,transition:"fade",Panzoom:{lockAxis:this.option("dragToClose")?"xy":"x",infinite:!!this.option("dragToClose")&&"y"},Dots:!1,Navigation:{classes:{container:"fancybox__nav",button:"f-button",isNext:"is-next",isPrev:"is-prev"}},initialPage:this.option("startIndex"),l10n:this.option("l10n")},this.option("Carousel")||{}))).on("*",function(e,t){for(var n=arguments.length,i=new Array(2<n?n-2:0),o=2;o<n;o++)i[o-2]=arguments[o];y.emit.apply(y,["Carousel.".concat(t),e].concat(i))}),t.on(["ready","change"],function(){y.manageCaption()}),this.on("Carousel.removeSlide",function(e,t,n){y.clearContent(n),n.state=void 0}),t.on("Panzoom.touchStart",function(){var e;y.isCompact||y.endIdle(),null!=(e=document.activeElement)&&e.closest(".f-thumbs")&&null!=(e=y.container)&&e.focus()}),t.on("settle",function(){y.idleTimer||y.isCompact||!y.option("idle")||y.setIdle(),y.option("autoFocus")&&!y.isClosing&&y.checkFocus()}),this.option("dragToClose")&&(t.on("Panzoom.afterTransform",function(e,t){var n,i=y.getSlide();i&&R(i.el)||(i=y.container)&&(n=(n=Math.abs(t.current.f))<1?"":Math.max(.5,Math.min(1,1-n/t.contentRect.fitHeight*1.5)),i.style.setProperty("--fancybox-ts",n?"0s":""),i.style.setProperty("--fancybox-opacity",n+""))}),t.on("Panzoom.touchEnd",function(e,t,n){var i=y.getSlide();i&&R(i.el)||t.isMobile&&document.activeElement&&-1!==["TEXTAREA","INPUT"].indexOf(null==(i=document.activeElement)?void 0:i.nodeName)||(i=Math.abs(t.dragOffset.y),"y"===t.lockedAxis&&(200<=i||50<=i&&t.dragOffset.time<300)&&(n&&n.cancelable&&n.preventDefault(),y.close(n,"f-throwOut"+(t.current.f<0?"Up":"Down"))))})),t.on("change",function(e){var t=null==(t=y.getSlide())?void 0:t.triggerEl;t&&(e=new CustomEvent("slideTo",{bubbles:!0,cancelable:!0,detail:e.page}),t.dispatchEvent(e))}),t.on(["refresh","change"],function(e){var t=y.container;if(t){var n,i=_createForOfIteratorHelper(t.querySelectorAll("[data-fancybox-current-index]"));try{for(i.s();!(n=i.n()).done;)n.value.innerHTML=e.page+1}catch(e){i.e(e)}finally{i.f()}var o,a=_createForOfIteratorHelper(t.querySelectorAll("[data-fancybox-count]"));try{for(a.s();!(o=a.n()).done;)o.value.innerHTML=e.pages.length}catch(e){a.e(e)}finally{a.f()}if(!e.isInfinite){var r,s=_createForOfIteratorHelper(t.querySelectorAll("[data-fancybox-next]"));try{for(s.s();!(r=s.n()).done;){var l=r.value;e.page<e.pages.length-1?(l.removeAttribute(L),l.removeAttribute(P)):(l.setAttribute(L,""),l.setAttribute(P,"-1"))}}catch(e){s.e(e)}finally{s.f()}var c,u=_createForOfIteratorHelper(t.querySelectorAll("[data-fancybox-prev]"));try{for(u.s();!(c=u.n()).done;){var h=c.value;0<e.page?(h.removeAttribute(L),h.removeAttribute(P)):(h.setAttribute(L,""),h.setAttribute(P,"-1"))}}catch(e){u.e(e)}finally{u.f()}}var d=y.getSlide();if(d){var f,p=d.downloadSrc||"",g=(p||"image"!==d.type||d.error||!b(d.src)||(p=d.src),_createForOfIteratorHelper(t.querySelectorAll("[data-fancybox-download]")));try{for(g.s();!(f=g.n()).done;){var v=f.value,m=d.downloadFilename;p?(v.removeAttribute(L),v.removeAttribute(P),v.setAttribute(et,p),v.setAttribute(Je,m||p),v.setAttribute("target","_blank")):(v.setAttribute(L,""),v.setAttribute(P,"-1"),v.removeAttribute(et),v.removeAttribute(Je))}}catch(e){g.e(e)}finally{g.f()}}}}),this.emit("initCarousel"))}},{key:"attachEvents",value:function(){var e=this,t=e.container;t&&(t.addEventListener("click",e.onClick,{passive:!1,capture:!1}),t.addEventListener("wheel",e.onWheel,{passive:!1,capture:!1}),document.addEventListener("keydown",e.onKeydown,{passive:!1,capture:!0}),document.addEventListener("visibilitychange",e.onVisibilityChange,!1),document.addEventListener("mousemove",e.onMousemove),e.option("trapFocus")&&document.addEventListener("focus",e.onFocus,!0),window.addEventListener("resize",e.onResize),t=window.visualViewport)&&(t.addEventListener("scroll",e.onResize),t.addEventListener("resize",e.onResize))}},{key:"detachEvents",value:function(){var e=this,t=e.container;t&&(document.removeEventListener("keydown",e.onKeydown,{passive:!1,capture:!0}),t.removeEventListener("wheel",e.onWheel,{passive:!1,capture:!1}),t.removeEventListener("click",e.onClick,{passive:!1,capture:!1}),document.removeEventListener("mousemove",e.onMousemove),window.removeEventListener("resize",e.onResize),(t=window.visualViewport)&&(t.removeEventListener("resize",e.onResize),t.removeEventListener("scroll",e.onResize)),document.removeEventListener("visibilitychange",e.onVisibilityChange,!1),document.removeEventListener("focus",e.onFocus,!0))}},{key:"scale",value:function(){var e,t,n,i,o,a,r,s=this.container;s&&(e=window.visualViewport,t=Math.max(1,(null==e?void 0:e.scale)||1),r=a=o="",e&&1<t&&(n="".concat(e.offsetLeft,"px"),i="".concat(e.offsetTop,"px"),o=e.width*t+"px",a=e.height*t+"px",r="translate3d(".concat(n,", ").concat(i,", 0) scale(").concat(1/t,")")),s.style.transform=r,s.style.width=o,s.style.height=a)}},{key:"onClick",value:function(e){var t=this,n=this.container,i=this.isCompact;if(n&&!this.isClosing()){!i&&this.option("idle")&&this.resetIdle();var o=e.composedPath()[0];if(o.closest(".fancybox-spinner")||o.closest("[data-fancybox-close]"))e.preventDefault(),this.close(e);else if(o.closest("[data-fancybox-prev]"))e.preventDefault(),this.prev();else if(o.closest("[data-fancybox-next]"))e.preventDefault(),this.next();else if(("click"!==e.type||0!==e.detail)&&!(30<Math.abs(e.pageX-nt)||30<Math.abs(e.pageY-it))){var a=document.activeElement;if(!(ee()&&a&&n.contains(a)))if(i&&"image"===(null==(n=this.getSlide())?void 0:n.type))this.clickTimer?(clearTimeout(this.clickTimer),this.clickTimer=null):this.clickTimer=setTimeout(function(){t.toggleIdle(),t.clickTimer=null},350);else if(this.emit("click",e),!e.defaultPrevented){i=!1;if(o.closest(".fancybox__content")){if(a){if(a.closest("[contenteditable]"))return;o.matches(ve)||a.blur()}if(ee())return;i=this.option("contentClick")}else o.closest(".fancybox__carousel")&&!o.matches(ve)&&(i=this.option("backdropClick"));"close"===i?(e.preventDefault(),this.close(e)):"next"===i?(e.preventDefault(),this.next()):"prev"===i&&(e.preventDefault(),this.prev())}}}}},{key:"onWheel",value:function(e){var t=e.target,n=this.option("wheel",e),i="slide"===(n=t.closest(".fancybox__thumbs")?"slide":n),o=[-e.deltaX||0,-e.deltaY||0,-e.detail||0].reduce(function(e,t){return Math.abs(t)>Math.abs(e)?t:e}),o=Math.max(-1,Math.min(1,o)),a=Date.now();this.pwt&&a-this.pwt<300?i&&e.preventDefault():(this.pwt=a,this.emit("wheel",e,o),e.defaultPrevented||("close"===n?(e.preventDefault(),this.close(e)):"slide"!==n||j(t)||(e.preventDefault(),this[0<o?"prev":"next"]())))}},{key:"onKeydown",value:function(e){var t,n,i,o;this.isTopmost()&&(this.isCompact||!this.option("idle")||this.isClosing()||this.resetIdle(),t=e.key,n=this.option("keyboard"))&&(i=e.composedPath()[0],o=(o=document.activeElement&&document.activeElement.classList)&&o.contains("f-button")||i.dataset.carouselPage||i.dataset.carouselIndex,"Escape"!==t&&!o&&h(i)&&(i.isContentEditable||-1!==["TEXTAREA","OPTION","INPUT","SELECT","VIDEO"].indexOf(i.nodeName))||(("Tab"===e.key?E:y)(this.container,Ge),e.ctrlKey)||e.altKey||e.shiftKey||(this.emit("keydown",t,e),(o=n[t])&&"function"==typeof this[o]&&(e.preventDefault(),this[o]())))}},{key:"onResize",value:function(){var e,t=this.container;t&&(e=this.isCompact,t.classList.toggle(Ye,e),this.manageCaption(this.getSlide()),this.isCompact?this.clearIdle():this.endIdle(),this.scale(),this.emit("resize"))}},{key:"onFocus",value:function(e){this.isTopmost()&&this.checkFocus(e)}},{key:"onMousemove",value:function(e){this.prevMouseMoveEvent=e,!this.isCompact&&this.option("idle")&&this.resetIdle()}},{key:"onVisibilityChange",value:function(){"visible"===document.visibilityState?this.checkFocus():this.endIdle()}},{key:"manageCloseBtn",value:function(e){var t=this.optionFor(e,"closeButton")||!1;if("auto"===t){var n=this.plugins.Toolbar;if(n&&n.state===M.Ready)return}t&&e.contentEl&&!e.closeBtnEl&&(n=this.option("tpl.closeButton"))&&(t=m(this.localize(n)),e.closeBtnEl=e.contentEl.appendChild(t),e.el)&&E(e.el,"has-close-btn")}},{key:"manageCaption",value:function(){var e,t=this,n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:void 0,i="fancybox__caption",o=this.container;if(o){y(o,Ke);var a,r,s,l=this.isCompact||this.option("commonCaption"),c=!l;if(this.caption&&this.stop(this.caption),c&&this.caption&&(this.caption.remove(),this.caption=null),l&&!this.caption){var u,h=_createForOfIteratorHelper((null==(a=this.carousel)?void 0:a.slides)||[]);try{for(h.s();!(u=h.n()).done;){var d=u.value;d.captionEl&&(d.captionEl.remove(),d.captionEl=void 0,y(d.el,Ke),null!=(e=d.el))&&e.removeAttribute("aria-labelledby")}}catch(e){h.e(e)}finally{h.f()}}!(n=n||this.getSlide())||l&&!this.isCurrentSlide(n)||(a=n.el,(r=this.optionFor(n,"caption",""))?(s=null,c?(s=n.captionEl||null,a&&!s&&(c=i+"_".concat(this.id,"_").concat(n.index),s=document.createElement("div"),E(s,i),s.setAttribute("id",c),n.captionEl=a.appendChild(s),E(a,Ke),a.setAttribute("aria-labelledby",c))):((s=(s=this.caption)||o.querySelector("."+i))||((s=document.createElement("div")).dataset.fancyboxCaption="",E(s,i),(this.footer||o).prepend(s)),E(o,Ke),this.caption=s),s&&(s.innerHTML="",b(r)||"number"==typeof r?s.innerHTML=r+"":r instanceof HTMLElement&&s.appendChild(r))):l&&this.caption&&this.animate(this.caption,"f-fadeOut",function(){t.caption&&(t.caption.innerHTML="")}))}}},{key:"checkFocus",value:function(e){this.focus(e)}},{key:"focus",value:function(e){if(!this.ignoreFocusChange){var t=document.activeElement||null,n=(null==e?void 0:e.target)||null,i=this.container,o=null==(a=this.carousel)?void 0:a.viewport;if(i&&o&&(e||!t||!i.contains(t))){var a=this.getSlide(),r=a&&a.state===k.Ready?a.el:null;if(r&&!r.contains(t)&&i!==t){e&&e.cancelable&&e.preventDefault(),this.ignoreFocusChange=!0;for(var s=[],l=null,c=0,u=Array.from(i.querySelectorAll(ve));c<u.length;c++){var h=u[c],d=!h.offsetParent||!!h.closest('[aria-hidden="true"]'),f=r&&r.contains(h),p=!o.contains(h);h===i||(f||p)&&!d?(s.push(h),void 0!==(f=h.dataset.origTabindex)&&f&&(h.tabIndex=parseFloat(f)),h.removeAttribute("data-orig-tabindex"),!h.hasAttribute("autoFocus")&&l||(l=h)):((p=void 0===h.dataset.origTabindex?h.getAttribute("tabindex")||"":h.dataset.origTabindex)&&(h.dataset.origTabindex=p),h.tabIndex=-1)}var g=null;e?(!n||s.indexOf(n)<0)&&(g=l||i,s.length)&&(t===z?g=s[0]:this.lastFocus!==i&&t!==I||(g=s[s.length-1])):g=(!a||"image"!==a.type)&&l||i,g&&Y(g),this.lastFocus=document.activeElement,this.ignoreFocusChange=!1}}}}},{key:"next",value:function(){var e=this.carousel;e&&1<e.pages.length&&e.slideNext()}},{key:"prev",value:function(){var e=this.carousel;e&&1<e.pages.length&&e.slidePrev()}},{key:"jumpTo",value:function(){var e;this.carousel&&(e=this.carousel).slideTo.apply(e,arguments)}},{key:"isTopmost",value:function(){var e;return(null==(e=p.getInstance())?void 0:e.id)==this.id}},{key:"animate",value:function(){var e,n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"",o=2<arguments.length?arguments[2]:void 0;n&&i?(this.stop(n),e=function e(t){t.target===n&&n.dataset.animationName&&(n.removeEventListener("animationend",e),delete n.dataset.animationName,o&&o(),y(n,i))},n.dataset.animationName=i,n.addEventListener("animationend",e),E(n,i)):o&&o()}},{key:"stop",value:function(e){e&&e.dispatchEvent(new CustomEvent("animationend",{bubbles:!1,cancelable:!0,currentTarget:e}))}},{key:"setContent",value:function(e){var t,n,i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"",o=!(2<arguments.length&&void 0!==arguments[2])||arguments[2];this.isClosing()||(t=e.el)&&(n=null,h(i)?n=i:(n=m(i+""),h(n)||((n=document.createElement("div")).innerHTML=i+"")),["img","picture","iframe","video","audio"].includes(n.nodeName.toLowerCase())&&((i=document.createElement("div")).appendChild(n),n=i),(n=h(n)&&e.filter&&!e.error?n.querySelector(e.filter):n)&&h(n)?(E(n,"fancybox__content"),e.id&&n.setAttribute("id",e.id),"none"!==n.style.display&&"none"!==getComputedStyle(n).getPropertyValue("display")||(n.style.display=e.display||this.option("defaultDisplay")||"flex"),t.classList.add("has-".concat(e.error?"error":e.type||"unknown")),t.prepend(n),e.contentEl=n,o&&this.revealContent(e),this.manageCloseBtn(e),this.manageCaption(e)):this.setError(e,"{{ELEMENT_NOT_FOUND}}"))}},{key:"revealContent",value:function(e,t){var n=this,i=e.el,o=e.contentEl;i&&o&&(this.emit("reveal",e),this.hideLoading(e),e.state=k.Opening,(t=this.isOpeningSlide(e)?void 0===t?this.optionFor(e,"showClass"):t:"f-fadeIn")?this.animate(o,t,function(){n.done(e)}):this.done(e))}},{key:"done",value:function(t){var n=this;this.isClosing()||(t.state=k.Ready,this.emit("done",t),E(t.el,"is-done"),this.isCurrentSlide(t)&&this.option("autoFocus")&&queueMicrotask(function(){var e;null!=(e=t.panzoom)&&e.updateControls(),n.option("autoFocus")&&n.focus()}),this.isOpeningSlide(t)&&(y(this.container,Qe),!this.isCompact)&&this.option("idle")&&this.setIdle())}},{key:"isCurrentSlide",value:function(e){var t=this.getSlide();return!(!e||!t)&&t.index===e.index}},{key:"isOpeningSlide",value:function(e){var t;return null===(null==(t=this.carousel)?void 0:t.prevPage)&&e&&e.index===(null==(t=this.getSlide())?void 0:t.index)}},{key:"showLoading",value:function(t){var n=this,i=(t.state=k.Loading,t.el);i&&(E(i,Ze),this.emit("loading",t),t.spinnerEl||setTimeout(function(){var e;n.isClosing()||t.spinnerEl||t.state!==k.Loading||(e=m(oe),E(e,"fancybox-spinner"),t.spinnerEl=e,i.prepend(e),n.animate(e,"f-fadeIn"))},250))}},{key:"hideLoading",value:function(e){var t,n=e.el;n&&(t=e.spinnerEl,this.isClosing()?null!=t&&t.remove():(y(n,Ze),t&&this.animate(t,"f-fadeOut",function(){t.remove()}),e.state===k.Loading&&(this.emit("loaded",e),e.state=k.Ready)))}},{key:"setError",value:function(e,t){var n;this.isClosing()||(n=new Event("error",{bubbles:!0,cancelable:!0}),this.emit("error",n,e),n.defaultPrevented)||(e.error=t,this.hideLoading(e),this.clearContent(e),(n=document.createElement("div")).classList.add("fancybox-error"),n.innerHTML=this.localize(t||"<p>{{ERROR}}</p>"),this.setContent(e,n))}},{key:"clearContent",value:function(e){var t;void 0!==e.state&&(this.emit("clearContent",e),e.contentEl&&(e.contentEl.remove(),e.contentEl=void 0),(t=e.el)&&(y(t,"has-error"),y(t,"has-unknown"),y(t,"has-".concat(e.type||"unknown"))),e.closeBtnEl&&e.closeBtnEl.remove(),e.closeBtnEl=void 0,e.captionEl&&e.captionEl.remove(),e.captionEl=void 0,e.spinnerEl&&e.spinnerEl.remove(),e.spinnerEl=void 0)}},{key:"getSlide",value:function(){var e=this.carousel;return(null==(e=null==e?void 0:e.pages[null==e?void 0:e.page])?void 0:e.slides[0])||void 0}},{key:"close",value:function(e,t){var n,i=this;this.isClosing()||(n=new Event("shouldClose",{bubbles:!0,cancelable:!0}),this.emit("shouldClose",n,e),n.defaultPrevented)||(e&&e.cancelable&&(e.preventDefault(),e.stopPropagation()),n=function(){i.proceedClose(e,t)},this.startedFs&&r&&r.isFullscreen()?Promise.resolve(r.exit()).then(n):n())}},{key:"clearIdle",value:function(){this.idleTimer&&clearTimeout(this.idleTimer),this.idleTimer=null}},{key:"setIdle",value:function(){function e(){t.clearIdle(),t.idle=!0,E(t.container,"is-idle"),t.emit("setIdle")}var t=this,n=0<arguments.length&&void 0!==arguments[0]&&arguments[0];this.clearIdle(),this.isClosing()||(n?e():(n=this.option("idle"))&&(this.idleTimer=setTimeout(e,n)))}},{key:"endIdle",value:function(){this.clearIdle(),this.idle&&!this.isClosing()&&(this.idle=!1,y(this.container,"is-idle"),this.emit("endIdle"))}},{key:"resetIdle",value:function(){this.endIdle(),this.setIdle()}},{key:"toggleIdle",value:function(){this.idle?this.endIdle():this.setIdle(!0)}},{key:"toggleFullscreen",value:function(){var e=this;r&&(r.isFullscreen()?r.exit():r.request().then(function(){e.startedFs=!0}))}},{key:"isClosing",value:function(){return[d.Closing,d.CustomClosing,d.Destroy].includes(this.state)}},{key:"proceedClose",value:function(e,t){var n=this,i=(this.state=d.Closing,this.clearIdle(),this.detachEvents(),this.container),o=this.carousel,a=this.getSlide(),r=a&&this.option("placeFocusBack")?a.triggerEl||this.option("triggerEl"):null;if(r&&($(r)?Y(r):r.focus()),i&&(y(i,Qe),E(i,"is-closing"),i.setAttribute(Xe,"true"),this.option("animated")&&E(i,$e),i.style.pointerEvents="none"),o){o.clearTransitions(),null!=(r=o.panzoom)&&r.destroy(),null!=(i=o.plugins.Navigation)&&i.detach();var s,l=_createForOfIteratorHelper(o.slides);try{for(l.s();!(s=l.n()).done;){var c=s.value,u=(c.state=k.Closing,this.hideLoading(c),c.contentEl),h=(u&&this.stop(u),null==c?void 0:c.panzoom);h&&(h.stop(),h.detachEvents(),h.detachObserver()),this.isCurrentSlide(c)||o.emit("removeSlide",c)}}catch(e){l.e(e)}finally{l.f()}}this.emit("close",e),this.state!==d.CustomClosing?(t=void 0===t&&a?this.optionFor(a,"hideClass"):t)&&a?(this.animate(a.contentEl,t,function(){o&&o.emit("removeSlide",a)}),setTimeout(function(){n.destroy()},500)):this.destroy():setTimeout(function(){n.destroy()},500)}},{key:"destroy",value:function(){var e,t;this.state!==d.Destroy&&(this.state=d.Destroy,null!=(e=this.carousel)&&e.destroy(),(e=this.container)&&e.remove(),ot.delete(this.id),(e=p.getInstance())?e.focus():(I&&(I.remove(),I=null),z&&(z.remove(),z=null),y(document.documentElement,Ve),ge&&((t=(e=document).body).classList.remove(We),t.style.setProperty(Ue,""),e.documentElement.style.setProperty(qe,"")),this.emit("destroy")))}}],[{key:"bind",value:function(e,t,n){var i,o,a;ge&&(a="",o={},void 0===e?i=document.body:b(e)?(i=document.body,a=e,"object"==_typeof(t)&&(o=t||{})):(i=e,b(t)&&(a=t),"object"==_typeof(n)&&(o=n||{})),i)&&h(i)&&(a=a||"[data-fancybox]",(e=p.openers.get(i)||new Map).set(a,o),p.openers.set(i,e),1===e.size)&&i.addEventListener("click",p.fromEvent)}},{key:"unbind",value:function(e,t){var n,i="";b(e)?(n=document.body,i=e):(n=e,b(t)&&(i=t)),n&&((e=p.openers.get(n))&&i&&e.delete(i),i&&e||(p.openers.delete(n),n.removeEventListener("click",p.fromEvent)))}},{key:"destroy",value:function(){for(var e;e=p.getInstance();)e.destroy();var t,n=_createForOfIteratorHelper(p.openers.keys());try{for(n.s();!(t=n.n()).done;)t.value.removeEventListener("click",p.fromEvent)}catch(e){n.e(e)}finally{n.f()}p.openers=new Map}},{key:"fromEvent",value:function(e){if(!e.defaultPrevented&&!(e.button&&0!==e.button||e.ctrlKey||e.metaKey||e.shiftKey)){var o,a,r,s,t,n,i,l,c=e.composedPath()[0],u=c.closest("[data-fancybox-trigger]");if(u&&(t=u.dataset.fancyboxTrigger||"",c=document.querySelectorAll('[data-fancybox="'.concat(t,'"]'))[parseInt(u.dataset.fancyboxIndex||"",10)||0]||c),c&&c instanceof Element)if(_toConsumableArray(p.openers).reverse().find(function(e){var e=_slicedToArray(e,2),i=e[0],e=e[1];return!(!i.contains(c)||!_toConsumableArray(e).reverse().find(function(e){var e=_slicedToArray(e,2),t=e[0],e=e[1],n=c.closest(t);return!!n&&(o=i,a=t,r=n,s=e,!0)}))}),o&&a&&r)return s=s||{},e.preventDefault(),c=r,t=[],(n=g({},me,s)).event=e,n.triggerEl=c,n.delegate=u,e=n.groupAll,i=n.groupAttr,l=i&&c?c.getAttribute("".concat(i)):"",c&&!l&&!e||(t=[].slice.call(o.querySelectorAll(a))),!(t=c&&!e?l?t.filter(function(e){return e.getAttribute("".concat(i))===l}):[c]:t).length||(u=p.getInstance())&&u.options.triggerEl&&-1<t.indexOf(u.options.triggerEl)?void 0:(c&&(n.startIndex=t.indexOf(c)),p.fromNodes(t,n))}}},{key:"fromSelector",value:function(e,t,n){var i=null,o="",a={};return b(e)?(i=document.body,o=e,"object"==_typeof(t)&&(a=t||{})):e instanceof HTMLElement&&b(t)&&(i=e,o=t,"object"==_typeof(n))&&(a=n||{}),!!(i&&o&&(e=p.openers.get(i))&&(a=g({},e.get(o)||{},a)))&&p.fromNodes(Array.from(i.querySelectorAll(o)),a)}},{key:"fromNodes",value:function(e,t){t=g({},me,t||{});var n,i=[],o=_createForOfIteratorHelper(e);try{for(o.s();!(n=o.n()).done;){var a,r=n.value,s=r.dataset||{},l=s.src||r.getAttribute(et)||r.getAttribute("currentSrc")||r.getAttribute(tt)||void 0,c=void 0,u=t.delegate,h=void 0,d=(c=(c=u&&i.length===t.startIndex?u instanceof HTMLImageElement?u:u.querySelector("img:not([aria-hidden])"):c)||(r instanceof HTMLImageElement?r:r.querySelector("img:not([aria-hidden])")),{src:l,triggerEl:r,thumbEl:c,thumbElSrc:h=c&&!(h=c.currentSrc||c.src||void 0)&&c.dataset?c.dataset.lazySrc||c.dataset.src||void 0:h,thumbSrc:h});for(a in s){var f=s[a]+"";d[a]="false"!=f&&("true"==f||f)}i.push(d)}}catch(e){o.e(e)}finally{o.f()}return new p(i,t)}},{key:"getInstance",value:function(e){return e?ot.get(e):Array.from(ot.values()).reverse().find(function(e){return!e.isClosing()&&e})||null}},{key:"getSlide",value:function(){var e;return(null==(e=p.getInstance())?void 0:e.getSlide())||null}},{key:"show",value:function(){return new p(0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],1<arguments.length&&void 0!==arguments[1]?arguments[1]:{})}},{key:"next",value:function(){var e=p.getInstance();e&&e.next()}},{key:"prev",value:function(){var e=p.getInstance();e&&e.prev()}},{key:"close",value:function(){for(var e=!(0<arguments.length&&void 0!==arguments[0])||arguments[0],t=arguments.length,n=new Array(1<t?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(e){var o,a=_createForOfIteratorHelper(ot.values());try{for(a.s();!(o=a.n()).done;){var r=o.value;r.close.apply(r,n)}}catch(e){a.e(e)}finally{a.f()}}else{e=p.getInstance();e&&e.close.apply(e,n)}}}]),p}();Object.defineProperty(D,"version",{enumerable:!0,configurable:!0,writable:!0,value:"5.0.33"}),Object.defineProperty(D,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:me}),Object.defineProperty(D,"Plugins",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(D,"openers",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),B.Carousel=pe,B.Fancybox=D,B.Panzoom=f}),!function(c,e){function t(e){this.elem=e}t.init=function(){e.addEventListener("click",function(e){e.target&&e.target.hasAttribute("data-sharer")&&(e.preventDefault(),t.add(e.target))})},t.add=function(e){new t(e).share()},t.prototype={constructor:t,getValue:function(e){var t=this.elem.getAttribute("data-"+e);return null===(t=t&&"hashtag"===e&&!t.startsWith("#")?"#"+t:t)?"":t},share:function(){var e=this.getValue("sharer").toLowerCase(),e={facebook:{shareUrl:"https://www.facebook.com/sharer/sharer.php",params:{u:this.getValue("url"),hashtag:this.getValue("hashtag"),quote:this.getValue("quote")}},linkedin:{shareUrl:"https://www.linkedin.com/shareArticle",params:{url:this.getValue("url"),mini:!0}},twitter:{shareUrl:"https://twitter.com/intent/tweet",params:{text:this.getValue("title"),url:this.getValue("url"),hashtags:this.getValue("hashtags"),via:this.getValue("via"),related:this.getValue("related"),in_reply_to:this.getValue("in_reply_to")}},x:{shareUrl:"https://x.com/intent/tweet",params:{text:this.getValue("title"),url:this.getValue("url"),hashtags:this.getValue("hashtags"),via:this.getValue("via"),related:this.getValue("related"),in_reply_to:this.getValue("in_reply_to")}},threads:{shareUrl:"https://threads.net/intent/post",params:{text:this.getValue("title")+" "+this.getValue("url")}},email:{shareUrl:"mailto:"+this.getValue("to"),params:{subject:this.getValue("subject"),body:this.getValue("title")+"\n"+this.getValue("url")}},whatsapp:{shareUrl:"true"===this.getValue("web")?"https://web.whatsapp.com/send":"https://wa.me/",params:{phone:this.getValue("to"),text:this.getValue("title")+" "+this.getValue("url")}},telegram:{shareUrl:"https://t.me/share",params:{text:this.getValue("title"),url:this.getValue("url")}},viber:{shareUrl:"viber://forward",params:{text:this.getValue("title")+" "+this.getValue("url")}},line:{shareUrl:"http://line.me/R/msg/text/?"+encodeURIComponent(this.getValue("title")+" "+this.getValue("url"))},pinterest:{shareUrl:"https://www.pinterest.com/pin/create/button/",params:{url:this.getValue("url"),media:this.getValue("image"),description:this.getValue("description")}},tumblr:{shareUrl:"http://tumblr.com/widgets/share/tool",params:{canonicalUrl:this.getValue("url"),content:this.getValue("url"),posttype:"link",title:this.getValue("title"),caption:this.getValue("caption"),tags:this.getValue("tags")}},hackernews:{shareUrl:"https://news.ycombinator.com/submitlink",params:{u:this.getValue("url"),t:this.getValue("title")}},reddit:{shareUrl:"https://www.reddit.com/submit",params:{url:this.getValue("url"),title:this.getValue("title")}},vk:{shareUrl:"http://vk.com/share.php",params:{url:this.getValue("url"),title:this.getValue("title"),description:this.getValue("caption"),image:this.getValue("image")}},xing:{shareUrl:"https://www.xing.com/social/share/spi",params:{url:this.getValue("url")}},buffer:{shareUrl:"https://buffer.com/add",params:{url:this.getValue("url"),title:this.getValue("title"),via:this.getValue("via"),picture:this.getValue("picture")}},instapaper:{shareUrl:"http://www.instapaper.com/edit",params:{url:this.getValue("url"),title:this.getValue("title"),description:this.getValue("description")}},pocket:{shareUrl:"https://getpocket.com/save",params:{url:this.getValue("url")}},mashable:{shareUrl:"https://mashable.com/submit",params:{url:this.getValue("url"),title:this.getValue("title")}},mix:{shareUrl:"https://mix.com/add",params:{url:this.getValue("url")}},flipboard:{shareUrl:"https://share.flipboard.com/bookmarklet/popout",params:{v:2,title:this.getValue("title"),url:this.getValue("url"),t:Date.now()}},weibo:{shareUrl:"http://service.weibo.com/share/share.php",params:{url:this.getValue("url"),title:this.getValue("title"),pic:this.getValue("image"),appkey:this.getValue("appkey"),ralateUid:this.getValue("ralateuid"),language:"zh_cn"}},blogger:{shareUrl:"https://www.blogger.com/blog-this.g",params:{u:this.getValue("url"),n:this.getValue("title"),t:this.getValue("description")}},baidu:{shareUrl:"http://cang.baidu.com/do/add",params:{it:this.getValue("title"),iu:this.getValue("url")}},douban:{shareUrl:"https://www.douban.com/share/service",params:{name:this.getValue("name"),href:this.getValue("url"),image:this.getValue("image"),comment:this.getValue("description")}},okru:{shareUrl:"https://connect.ok.ru/dk",params:{"st.cmd":"WidgetSharePreview","st.shareUrl":this.getValue("url"),title:this.getValue("title")}},mailru:{shareUrl:"http://connect.mail.ru/share",params:{share_url:this.getValue("url"),linkname:this.getValue("title"),linknote:this.getValue("description"),type:"page"}},evernote:{shareUrl:"https://www.evernote.com/clip.action",params:{url:this.getValue("url"),title:this.getValue("title")}},skype:{shareUrl:"https://web.skype.com/share",params:{url:this.getValue("url"),title:this.getValue("title")}},delicious:{shareUrl:"https://del.icio.us/post",params:{url:this.getValue("url"),title:this.getValue("title")}},sms:{shareUrl:"sms://",params:{body:this.getValue("body")}},trello:{shareUrl:"https://trello.com/add-card",params:{url:this.getValue("url"),name:this.getValue("title"),desc:this.getValue("description"),mode:"popup"}},messenger:{shareUrl:"fb-messenger://share",params:{link:this.getValue("url")}},odnoklassniki:{shareUrl:"https://connect.ok.ru/dk",params:{st:{cmd:"WidgetSharePreview",deprecated:1,shareUrl:this.getValue("url")}}},meneame:{shareUrl:"https://www.meneame.net/submit",params:{url:this.getValue("url")}},diaspora:{shareUrl:"https://share.diasporafoundation.org",params:{title:this.getValue("title"),url:this.getValue("url")}},googlebookmarks:{shareUrl:"https://www.google.com/bookmarks/mark",params:{op:"edit",bkmk:this.getValue("url"),title:this.getValue("title")}},qzone:{shareUrl:"https://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey",params:{url:this.getValue("url")}},refind:{shareUrl:"https://refind.com",params:{url:this.getValue("url")}},surfingbird:{shareUrl:"https://surfingbird.ru/share",params:{url:this.getValue("url"),title:this.getValue("title"),description:this.getValue("description")}},yahoomail:{shareUrl:"http://compose.mail.yahoo.com",params:{to:this.getValue("to"),subject:this.getValue("subject"),body:this.getValue("body")}},wordpress:{shareUrl:"https://wordpress.com/wp-admin/press-this.php",params:{u:this.getValue("url"),t:this.getValue("title"),s:this.getValue("title")}},amazon:{shareUrl:"https://www.amazon.com/gp/wishlist/static-add",params:{u:this.getValue("url"),t:this.getValue("title")}},pinboard:{shareUrl:"https://pinboard.in/add",params:{url:this.getValue("url"),title:this.getValue("title"),description:this.getValue("description")}},threema:{shareUrl:"threema://compose",params:{text:this.getValue("text"),id:this.getValue("id")}},kakaostory:{shareUrl:"https://story.kakao.com/share",params:{url:this.getValue("url")}},yummly:{shareUrl:"http://www.yummly.com/urb/verify",params:{url:this.getValue("url"),title:this.getValue("title"),yumtype:"button"}}}[e];return e&&(e.width=this.getValue("width"),e.height=this.getValue("height")),void 0!==e&&this.urlSharer(e)},urlSharer:function(e){for(var t=e.params||{},n=Object.keys(t),i=0<n.length?"?":"",o=0;o<n.length;o++)"?"!==i&&(i+="&"),t[n[o]]&&(i+=n[o]+"="+encodeURIComponent(t[n[o]]));e.shareUrl+=i;var a,r,s="true"===this.getValue("link"),l="true"===this.getValue("blank");s?l?c.open(e.shareUrl,"_blank"):c.location.href=e.shareUrl:(console.log(e.shareUrl),s=e.width||600,l=e.height||480,a=c.innerWidth/2-s/2+c.screenX,r=c.innerHeight/2-l/2+c.screenY,e=c.open(e.shareUrl,"","scrollbars=no, width="+s+", height="+l+", top="+r+", left="+a),c.focus&&e.focus())}},"complete"===e.readyState||"loading"!==e.readyState?t.init():e.addEventListener("DOMContentLoaded",t.init),c.Sharer=t}(window,document),function(){var Gi=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(e){return setTimeout(e,16)},e=window,$i=e.cancelAnimationFrame||e.mozCancelAnimationFrame||function(e){clearTimeout(e)};function Yi(e){for(var t,n,i,o=e||{},a=1,r=arguments.length;a<r;a++)if(null!==(t=arguments[a]))for(n in t)o!==(i=t[n])&&void 0!==i&&(o[n]=i);return o}function Zi(e){return 0<=["true","false"].indexOf(e)?JSON.parse(e):e}function Qi(e,t,n,i){if(i)try{e.setItem(t,n)}catch(e){}return n}function Ki(){var e=document,t=e.body;return t||((t=e.createElement("body")).fake=!0),t}var n=document.documentElement;function Ji(e){var t="";return e.fake&&(t=n.style.overflow,e.style.background="",e.style.overflow=n.style.overflow="hidden",n.appendChild(e)),t}function eo(e,t){e.fake&&(e.remove(),n.style.overflow=t,n.offsetHeight)}function to(e,t,n,i){"insertRule"in e?e.insertRule(t+"{"+n+"}",i):e.addRule(t,n,i)}function no(e){return("insertRule"in e?e.cssRules:e.rules).length}function io(e,t,n){for(var i=0,o=e.length;i<o;i++)t.call(n,e[i],i)}var e="classList"in document.createElement("_"),oo=e?function(e,t){return e.classList.contains(t)}:function(e,t){return 0<=e.className.indexOf(t)},ao=e?function(e,t){oo(e,t)||e.classList.add(t)}:function(e,t){oo(e,t)||(e.className+=" "+t)},ro=e?function(e,t){oo(e,t)&&e.classList.remove(t)}:function(e,t){oo(e,t)&&(e.className=e.className.replace(t,""))};function so(e,t){return e.hasAttribute(t)}function lo(e,t){return e.getAttribute(t)}function a(e){return void 0!==e.item}function co(e,t){if(e=a(e)||e instanceof Array?e:[e],"[object Object]"===Object.prototype.toString.call(t))for(var n=e.length;n--;)for(var i in t)e[n].setAttribute(i,t[i])}function uo(e,t){e=a(e)||e instanceof Array?e:[e];for(var n=(t=t instanceof Array?t:[t]).length,i=e.length;i--;)for(var o=n;o--;)e[i].removeAttribute(t[o])}function ho(e){for(var t=[],n=0,i=e.length;n<i;n++)t.push(e[n]);return t}function fo(e,t){"none"!==e.style.display&&(e.style.display="none")}function po(e,t){"none"===e.style.display&&(e.style.display="")}function go(e){return"none"!==window.getComputedStyle(e).display}function vo(t){"string"==typeof t&&(n=[t],i=t.charAt(0).toUpperCase()+t.substr(1),["Webkit","Moz","ms","O"].forEach(function(e){"ms"===e&&"transform"!==t||n.push(e+i)}),t=n);var n,i,e=document.createElement("fakeelement");t.length;for(var o=0;o<t.length;o++){var a=t[o];if(void 0!==e.style[a])return a}return!1}function mo(e,t){var n=!1;return/^Webkit/.test(e)?n="webkit"+t+"End":/^O/.test(e)?n="o"+t+"End":e&&(n=t.toLowerCase()+"end"),n}var t=!1;try{var i=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("test",null,i)}catch(e){}var r=!!t&&{passive:!0};function yo(e,t,n){for(var i in t){var o=0<=["touchstart","touchmove"].indexOf(i)&&!n&&r;e.addEventListener(i,t[i],o)}}function bo(e,t){for(var n in t){var i=0<=["touchstart","touchmove"].indexOf(n)&&r;e.removeEventListener(n,t[n],i)}}function _o(){return{topics:{},on:function(e,t){this.topics[e]=this.topics[e]||[],this.topics[e].push(t)},off:function(e,t){if(this.topics[e])for(var n=0;n<this.topics[e].length;n++)if(this.topics[e][n]===t){this.topics[e].splice(n,1);break}},emit:function(t,n){n.type=t,this.topics[t]&&this.topics[t].forEach(function(e){e(n,t)})}}}return Object.keys||(Object.keys=function(e){var t,n=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.push(t);return n}),"remove"in Element.prototype||(Element.prototype.remove=function(){this.parentNode&&this.parentNode.removeChild(this)}),function i(I){I=Yi({container:".slider",mode:"carousel",axis:"horizontal",items:1,gutter:0,edgePadding:0,fixedWidth:!1,autoWidth:!1,viewportMax:!1,slideBy:1,center:!1,controls:!0,controlsPosition:"top",controlsText:["prev","next"],controlsContainer:!1,prevButton:!1,nextButton:!1,nav:!0,navPosition:"top",navContainer:!1,navAsThumbnails:!1,arrowKeys:!1,speed:300,autoplay:!1,autoplayPosition:"top",autoplayTimeout:5e3,autoplayDirection:"forward",autoplayText:["start","stop"],autoplayHoverPause:!1,autoplayButton:!1,autoplayButtonOutput:!0,autoplayResetOnVisibility:!0,animateIn:"tns-fadeIn",animateOut:"tns-fadeOut",animateNormal:"tns-normal",animateDelay:!1,loop:!0,rewind:!1,autoHeight:!1,responsive:!1,lazyload:!1,lazyloadSelector:".tns-lazy-img",touch:!0,mouseDrag:!1,swipeAngle:15,nested:!1,preventActionWhenRunning:!1,preventScrollOnTouch:!1,freezable:!0,onInit:!1,useLocalStorage:!0,nonce:!1},I||{});var z=document,o=window,a={ENTER:13,SPACE:32,LEFT:37,RIGHT:39},t={},n=I.useLocalStorage;if(n){var l=navigator.userAgent,c=new Date;try{(t=o.localStorage)?(t.setItem(c,c),n=t.getItem(c)==c,t.removeItem(c)):n=!1,n||(t={})}catch(e){n=!1}n&&(t.tnsApp&&t.tnsApp!==l&&["tC","tPL","tMQ","tTf","t3D","tTDu","tTDe","tADu","tADe","tTE","tAE"].forEach(function(e){t.removeItem(e)}),localStorage.tnsApp=l)}var u,d,f,p,g,v=t.tC?Zi(t.tC):Qi(t,"tC",function(){var e=document,t=Ki(),n=Ji(t),i=e.createElement("div"),o=!1;t.appendChild(i);try{for(var a,r="(10px * 10)",s=["calc"+r,"-moz-calc"+r,"-webkit-calc"+r],l=0;l<3;l++)if(a=s[l],i.style.width=a,100===i.offsetWidth){o=a.replace(r,"");break}}catch(e){}return t.fake?eo(t,n):i.remove(),o}(),n),c=t.tPL?Zi(t.tPL):Qi(t,"tPL",function(){var e=document,t=Ki(),n=Ji(t),i=e.createElement("div"),e=e.createElement("div"),o="";i.className="tns-t-subp2",e.className="tns-t-ct";for(var a=0;a<70;a++)o+="<div></div>";return e.innerHTML=o,i.appendChild(e),t.appendChild(i),e=Math.abs(i.getBoundingClientRect().left-e.children[67].getBoundingClientRect().left)<2,t.fake?eo(t,n):i.remove(),e}(),n),ce=t.tMQ?Zi(t.tMQ):Qi(t,"tMQ",!(!window.matchMedia&&!window.msMatchMedia)||(l=document,d=Ji(u=Ki()),f=l.createElement("div"),p="@media all and (min-width:1px){.tns-mq-test{position:absolute}}",(g=l.createElement("style")).type="text/css",f.className="tns-mq-test",u.appendChild(g),u.appendChild(f),g.styleSheet?g.styleSheet.cssText=p:g.appendChild(l.createTextNode(p)),g=(window.getComputedStyle?window.getComputedStyle(f):f.currentStyle).position,u.fake?eo(u,d):f.remove(),"absolute"===g),n),m=t.tTf?Zi(t.tTf):Qi(t,"tTf",vo("transform"),n),y=t.t3D?Zi(t.t3D):Qi(t,"t3D",!!(p=m)&&!!window.getComputedStyle&&(u=document,f=Ji(d=Ki()),u=u.createElement("p"),g=9<p.length?"-"+p.slice(0,-9).toLowerCase()+"-":"",g+="transform",d.insertBefore(u,null),u.style[p]="translate3d(1px,1px,1px)",p=window.getComputedStyle(u).getPropertyValue(g),d.fake?eo(d,f):u.remove(),void 0!==p)&&0<p.length&&"none"!==p,n),h=t.tTDu?Zi(t.tTDu):Qi(t,"tTDu",vo("transitionDuration"),n),b=t.tTDe?Zi(t.tTDe):Qi(t,"tTDe",vo("transitionDelay"),n),_=t.tADu?Zi(t.tADu):Qi(t,"tADu",vo("animationDuration"),n),w=t.tADe?Zi(t.tADe):Qi(t,"tADe",vo("animationDelay"),n),k=t.tTE?Zi(t.tTE):Qi(t,"tTE",mo(h,"Transition"),n),x=t.tAE?Zi(t.tAE):Qi(t,"tAE",mo(_,"Animation"),n),T=o.console&&"function"==typeof o.console.warn,S=["container","controlsContainer","prevButton","nextButton","navContainer","autoplayButton"],C={};if(S.forEach(function(e){var t,n;"string"==typeof I[e]&&(t=I[e],n=z.querySelector(t),C[e]=t,n&&n.nodeName?I[e]=n:T&&console.warn("Can't find",I[e]))}),!(I.container.children.length<1)){var ue,he,E,de,D=I.responsive,fe=I.nested,B="carousel"===I.mode;if(D){0 in D&&(I=Yi(I,D[0]),delete D[0]);var O,M={};for(O in D){var A=D[O];M[O]="number"==typeof A?{items:A}:A}D=M,M=null}B||!function e(t){for(var n in t)B||("slideBy"===n&&(t[n]="page"),"edgePadding"===n&&(t[n]=!1),"autoHeight"===n&&(t[n]=!1)),"responsive"===n&&e(t[n])}(I),B||(I.axis="horizontal",I.slideBy="page",I.edgePadding=!1,ue=I.animateIn,he=I.animateOut,E=I.animateDelay,de=I.animateNormal);var L,pe,r,P,ge,ve,me,R,ye,j,F,be,_e,we,ke,H,xe,Te,Se,Ce,Ee,Oe,Me,Ae,Le,Pe,Ie,N,ze,De,Be,Re,je,Fe,He,Ne,Ve,We,qe,Ue,Xe,V="horizontal"===I.axis,s=z.createElement("div"),Ge=z.createElement("div"),W=I.container,$e=W.parentNode,Ye=W.outerHTML,q=W.children,U=q.length,Ze=On(),Qe=!1,X=(D&&Gn(),B&&(W.className+=" tns-vpfix"),I.autoWidth),G=se("fixedWidth"),$=se("edgePadding"),Y=se("gutter"),Z=An(),Q=se("center"),K=X?1:Math.floor(se("items")),Ke=se("slideBy"),Je=I.viewportMax||I.fixedWidthViewportWidth,et=se("arrowKeys"),tt=se("speed"),nt=I.rewind,J=!nt&&I.loop,it=se("autoHeight"),ot=se("controls"),at=se("controlsText"),rt=se("nav"),st=se("touch"),lt=se("mouseDrag"),ee=se("autoplay"),ct=se("autoplayTimeout"),ut=se("autoplayText"),ht=se("autoplayHoverPause"),dt=se("autoplayResetOnVisibility"),te=(n=null,P=se("nonce"),me=document.createElement("style"),n&&me.setAttribute("media",n),P&&me.setAttribute("nonce",P),document.querySelector("head").appendChild(me),me.sheet||me.styleSheet),ft=I.lazyload,pt=I.lazyloadSelector,gt=[],ne=J?(n=function(){{if(X||G&&!Je)return U-1;var e=G?"fixedWidth":"items",t=[];if((G||I[e]<U)&&t.push(I[e]),D)for(var n in D){n=D[n][e];n&&(G||n<U)&&t.push(n)}return t.length||t.push(0),Math.ceil(G?Je/Math.min.apply(null,t):Math.max.apply(null,t))}}(),P=B?Math.ceil((5*n-U)/2):4*n-U,P=Math.max(n,P),Ln("edgePadding")?P+1:P):0,ie=B?U+2*ne:U+ne,vt=!(!G&&!X||J),mt=G?bi():null,yt=!B||!J,bt=V?"left":"top",_t="",wt="",kt=G?function(){return Q&&!J?U-1:Math.ceil(-mt/(G+Y))}:X?function(){for(var e=0;e<ie;e++)if(r[e]>=-mt)return e}:function(){return Q&&B&&!J?U-1:J||B?Math.max(0,ie-Math.ceil(K)):ie-1},oe=Sn(se("startIndex")),xt=oe,Tt=(Tn(),0),St=X?null:kt(),Ct=I.preventActionWhenRunning,Et=I.swipeAngle,Ot=!Et||"?",Mt=!1,At=I.onInit,ae=new _o,Lt=" tns-slider tns-"+I.mode,re=W.id||(me=window.tnsId,window.tnsId=me?me+1:1,"tns"+window.tnsId),Pt=se("disable"),It=!1,zt=I.freezable,Dt=!(!zt||X)&&Xn(),Bt=!1,Rt={click:Oi,keydown:function(e){e=Bi(e);var t=[a.LEFT,a.RIGHT].indexOf(e.keyCode);0<=t&&(0===t?j.disabled||Oi(e,-1):F.disabled||Oi(e,1))}},jt={click:function(e){if(Mt){if(Ct)return;Ci()}var t=Ri(e=Bi(e));for(;t!==H&&!so(t,"data-nav");)t=t.parentNode;{var n,i;so(t,"data-nav")&&(n=Ee=Number(lo(t,"data-nav")),i=G||X?n*U/Se:n*K,Ei(Xt?n:Math.min(Math.ceil(i),U-1),e),Oe===n)&&(Re&&Ii(),Ee=-1)}},keydown:function(e){e=Bi(e);var t,n=z.activeElement;so(n,"data-nav")&&(t=[a.LEFT,a.RIGHT,a.ENTER,a.SPACE].indexOf(e.keyCode),n=Number(lo(n,"data-nav")),0<=t)&&(0===t?0<n&&Di(Te[n-1]):1===t?n<Se-1&&Di(Te[n+1]):Ei(Ee=n,e))}},Ft={mouseover:function(){Re&&(Ai(),je=!0)},mouseout:function(){je&&(Mi(),je=!1)}},Ht={visibilitychange:function(){z.hidden?Re&&(Ai(),He=!0):He&&(Mi(),He=!1)}},Nt={keydown:function(e){e=Bi(e);var t=[a.LEFT,a.RIGHT].indexOf(e.keyCode);0<=t&&Oi(e,0===t?-1:1)}},Vt={touchstart:Ni,touchmove:Vi,touchend:Wi,touchcancel:Wi},Wt={mousedown:Ni,mousemove:Vi,mouseup:Wi,mouseleave:Wi},qt=Ln("controls"),Ut=Ln("nav"),Xt=!!X||I.navAsThumbnails,Gt=Ln("autoplay"),n=Ln("touch"),$t=Ln("mouseDrag"),Yt="tns-slide-active",Zt="tns-slide-cloned",Qt="tns-complete",Kt={load:function(e){ni(Ri(e))},error:function(e){!function(e){ao(e,"failed"),ii(e)}(Ri(e))}},Jt="force"===I.preventScrollOnTouch;if(qt&&(R=I.controlsContainer,ye=I.controlsContainer?I.controlsContainer.outerHTML:"",j=I.prevButton,F=I.nextButton,be=I.prevButton?I.prevButton.outerHTML:"",_e=I.nextButton?I.nextButton.outerHTML:""),Ut&&(H=I.navContainer,xe=I.navContainer?I.navContainer.outerHTML:"",Se=X?U:Ui(),Ce=0,Ee=-1,Oe=En(),Me=Oe,Ae="tns-nav-active",Le="Carousel Page ",Pe=" (Current Slide)"),Gt&&(Ie="forward"===I.autoplayDirection?1:-1,N=I.autoplayButton,ze=I.autoplayButton?I.autoplayButton.outerHTML:"",De=["<span class='tns-visually-hidden'>"," animation</span>"]),(n||$t)&&(Ne={},qe=!(Ve={}),Xe=V?function(e,t){return e.x-t.x}:function(e,t){return e.y-t.y}),X||xn(Pt||Dt),m&&(bt=m,_t="translate",wt=y?(_t+=V?"3d(":"3d(0px, ",V?", 0px, 0px)":", 0px)"):(_t+=V?"X(":"Y(",")")),B&&(W.className=W.className.replace("tns-vpfix","")),Ln("gutter"),s.className="tns-outer",Ge.className="tns-inner",s.id=re+"-ow",Ge.id=re+"-iw",""===W.id&&(W.id=re),Lt=Lt+(c||X?" tns-subpixel":" tns-no-subpixel")+(v?" tns-calc":" tns-no-calc"),X&&(Lt+=" tns-autowidth"),Lt+=" tns-"+I.axis,W.className+=Lt,(B?((L=z.createElement("div")).id=re+"-mw",L.className="tns-ovh",s.appendChild(L),L):s).appendChild(Ge),it&&((L||Ge).className+=" tns-ah"),$e.insertBefore(s,W),Ge.appendChild(W),io(q,function(e,t){ao(e,"tns-item"),e.id||(e.id=re+"-item"+t),!B&&de&&ao(e,de),co(e,{"aria-hidden":"true",tabindex:"-1"})}),ne){for(var en=z.createDocumentFragment(),tn=z.createDocumentFragment(),nn=ne;nn--;){var on=nn%U,an=q[on].cloneNode(!0);ao(an,Zt),uo(an,"id"),tn.insertBefore(an,tn.firstChild),B&&(an=q[U-1-on].cloneNode(!0),ao(an,Zt),uo(an,"id"),en.appendChild(an))}W.insertBefore(en,W.firstChild),W.appendChild(tn),q=W.children}if(!B)for(var rn=oe,sn=oe+Math.min(U,K);rn<sn;rn++){var ln=q[rn];ln.style.left=100*(rn-oe)/K+"%",ao(ln,ue),ro(ln,de)}if(V&&(c||X?(to(te,"#"+re+" > .tns-item","font-size:"+o.getComputedStyle(q[0]).fontSize+";",no(te)),to(te,"#"+re,"font-size:0;",no(te))):B&&io(q,function(e,t){e.style.marginLeft=(e=t,v?v+"("+100*e+"% / "+ie+")":100*e/ie+"%")})),ce?(h&&(e=L&&I.autoHeight?Rn(I.speed):"",to(te,"#"+re+"-mw",e,no(te))),e=Pn(I.edgePadding,I.gutter,I.fixedWidth,I.speed,I.autoHeight),to(te,"#"+re+"-iw",e,no(te)),B&&(e=V&&!X?"width:"+In(I.fixedWidth,I.gutter,I.items)+";":"",h&&(e+=Rn(tt)),to(te,"#"+re,e,no(te))),e=V&&!X?zn(I.fixedWidth,I.gutter,I.items):"",I.gutter&&(e+=Dn(I.gutter)),B||(h&&(e+=Rn(tt)),_&&(e+=jn(tt)))):(B&&it&&(L.style[h]=tt/1e3+"s"),Ge.style.cssText=Pn($,Y,G,it),B&&V&&!X&&(W.style.width=In(G,Y,K)),e=V&&!X?zn(G,Y,K):"",Y&&(e+=Dn(Y))),e&&to(te,"#"+re+" > .tns-item",e,no(te)),D&&ce)for(var cn in D){cn=parseInt(cn);var un=D[cn],e="",hn="",dn="",fn="",pn="",gn=X?null:se("items",cn),vn=se("fixedWidth",cn),mn=se("speed",cn),yn=se("edgePadding",cn),bn=se("autoHeight",cn),_n=se("gutter",cn);h&&L&&se("autoHeight",cn)&&"speed"in un&&(hn="#"+re+"-mw{"+Rn(mn)+"}"),("edgePadding"in un||"gutter"in un)&&(dn="#"+re+"-iw{"+Pn(yn,_n,vn,mn,bn)+"}"),B&&V&&!X&&("fixedWidth"in un||"items"in un||G&&"gutter"in un)&&(fn="width:"+In(vn,_n,gn)+";"),h&&"speed"in un&&(fn+=Rn(mn)),fn=fn&&"#"+re+"{"+fn+"}",("fixedWidth"in un||G&&"gutter"in un||!B&&"items"in un)&&(pn+=zn(vn,_n,gn)),"gutter"in un&&(pn+=Dn(_n)),!B&&"speed"in un&&(h&&(pn+=Rn(mn)),_)&&(pn+=jn(mn)),(e=hn+dn+fn+(pn=pn&&"#"+re+" > .tns-item{"+pn+"}"))&&te.insertRule("@media (min-width: "+cn/16+"em) {"+e+"}",te.cssRules.length)}Fn();var wn=J?B?function(){var e=Tt,t=St;e+=Ke,t-=Ke,$?(e+=1,--t):G&&(Z+Y)%(G+Y)&&--t,ne&&(t<oe?oe-=U:oe<e&&(oe+=U))}:function(){if(St<oe)for(;Tt+U<=oe;)oe-=U;else if(oe<Tt)for(;oe<=St-U;)oe+=U}:function(){oe=Math.max(Tt,Math.min(St,oe))},kn=B?function(){var t,n,i,o,e,a,r,s,l,c,u;mi(W,""),h||!tt?(ki(),tt&&go(W)||Ci()):(t=W,n=bt,i=_t,o=wt,e=_i(),a=tt,r=Ci,s=Math.min(a,10),l=0<=e.indexOf("%")?"%":"px",e=e.replace(l,""),c=Number(t.style[n].replace(i,"").replace(o,"").replace(l,"")),u=(e-c)/a*s,setTimeout(function e(){a-=s;c+=u;t.style[n]=i+c+l+o;0<a?setTimeout(e,s):r()},s)),V||qi()}:function(){gt=[];var e={};e[k]=e[x]=Ci,bo(q[xt],e),yo(q[oe],e),xi(xt,ue,he,!0),xi(oe,de,ue),k&&x&&tt&&go(W)||Ci()};return{version:"2.9.4",getInfo:le,events:ae,goTo:Ei,play:function(){ee&&!Re&&(Pi(),Fe=!1)},pause:function(){Re&&(Ii(),Fe=!0)},isOn:Qe,updateSliderHeight:ci,refresh:Fn,destroy:function(){te.disabled=!0,te.ownerNode&&te.ownerNode.remove(),bo(o,{resize:qn}),et&&bo(z,Nt),R&&bo(R,Rt),H&&bo(H,jt),bo(W,Ft),bo(W,Ht),N&&bo(N,{click:zi}),ee&&clearInterval(Be),B&&k&&((e={})[k]=Ci,bo(W,e)),st&&bo(W,Vt),lt&&bo(W,Wt);var e,t,a=[Ye,ye,be,_e,xe,ze];for(t in S.forEach(function(e,t){var n,i,o="container"===e?s:I[e];"object"===_typeof(o)&&o&&(n=o.previousElementSibling||!1,i=o.parentNode,o.outerHTML=a[t],I[e]=n?n.nextElementSibling:i.firstElementChild)}),S=ue=he=E=de=V=s=Ge=W=$e=Ye=q=U=pe=Ze=X=G=$=Y=Z=K=Ke=Je=et=tt=nt=J=it=te=ft=r=gt=ne=ie=vt=mt=yt=bt=_t=wt=kt=oe=xt=Tt=St=Et=Ot=Mt=At=ae=Lt=re=Pt=It=zt=Dt=Bt=Rt=jt=Ft=Ht=Nt=Vt=Wt=qt=Ut=Xt=Gt=$t=Yt=Qt=Kt=ge=ot=at=R=ye=j=F=we=ke=rt=H=xe=Te=Se=Ce=Ee=Oe=Me=Ae=Le=Pe=ee=ct=Ie=ut=ht=N=ze=dt=De=Be=Re=je=Fe=He=Ne=Ve=We=qe=Ue=Xe=st=lt=null,this)"rebuild"!==t&&(this[t]=null);Qe=!1},rebuild:function(){return i(Yi(I,C))}}}function xn(e){e&&(ot=rt=st=lt=et=ee=ht=dt=!1)}function Tn(){for(var e=B?oe-ne:oe;e<0;)e+=U;return e%U+1}function Sn(e){return e=e?Math.max(0,Math.min(J?U-1:U-K,e)):0,B?e+ne:e}function Cn(e){for(null==e&&(e=oe),B&&(e-=ne);e<0;)e+=U;return Math.floor(e%U)}function En(){var e=Cn(),e=Xt?e:G||X?Math.ceil((e+1)*Se/U-1):Math.floor(e/K);return e=!J&&B&&oe===St?Se-1:e}function On(){return o.innerWidth||z.documentElement.clientWidth||z.body.clientWidth}function Mn(e){return"top"===e?"afterbegin":"beforeend"}function An(){var e=$?2*$-Y:0;return function e(t){var n,i;if(null!=t)return n=z.createElement("div"),t.appendChild(n),i=(i=n.getBoundingClientRect()).right-i.left,n.remove(),i||e(t.parentNode)}($e)-e}function Ln(e){if(I[e])return!0;if(D)for(var t in D)if(D[t][e])return!0;return!1}function se(e,t){if(null==t&&(t=Ze),"items"===e&&G)return Math.floor((Z+Y)/(G+Y))||1;var n=I[e];if(D)for(var i in D)t>=parseInt(i)&&e in D[i]&&(n=D[i][e]);return"slideBy"===e&&"page"===n&&(n=se("items")),n=B||"slideBy"!==e&&"items"!==e?n:Math.floor(n)}function Pn(e,t,n,i,o){var a,r="";return void 0!==e?(a=e,t&&(a-=t),r=V?"margin: 0 "+a+"px 0 "+e+"px;":"margin: "+e+"px 0 "+a+"px 0;"):t&&!n&&(e="-"+t+"px",r="margin: 0 "+(V?e+" 0 0":"0 "+e+" 0")+";"),!B&&o&&h&&i&&(r+=Rn(i)),r}function In(e,t,n){return e?(e+t)*ie+"px":v?v+"("+100*ie+"% / "+n+")":100*ie/n+"%"}function zn(e,t,n){return t="width:"+(t=e?e+t+"px":(B||(n=Math.floor(n)),e=B?ie:n,v?v+"(100% / "+e+")":100/e+"%")),"inner"!==fe?t+";":t+" !important;"}function Dn(e){return!1!==e?(V?"padding-":"margin-")+(V?"right":"bottom")+": "+e+"px;":""}function Bn(e,t){e=e.substring(0,e.length-t).toLowerCase();return e=e&&"-"+e+"-"}function Rn(e){return Bn(h,18)+"transition-duration:"+e/1e3+"s;"}function jn(e){return Bn(_,17)+"animation-duration:"+e/1e3+"s;"}function Fn(){var e;Ln("autoHeight")||X||!V?(io(e=W.querySelectorAll("img"),function(e){var t=e.src;ft||(t&&t.indexOf("data:image")<0?(e.src="",yo(e,Kt),ao(e,"loading"),e.src=t):ni(e))}),Gi(function(){ri(ho(e),function(){ge=!0})}),Ln("autoHeight")&&(e=oi(oe,Math.min(oe+K-1,ie-1))),ft?Hn():Gi(function(){ri(ho(e),Hn)})):(B&&wi(),Vn(),Wn())}function Hn(){var i;(X&&1<U?(i=J?oe:U-1,function e(){var t=q[i].getBoundingClientRect().left,n=q[i-1].getBoundingClientRect().right;Math.abs(t-n)<=1?Nn():setTimeout(function(){e()},16)}):Nn)()}function Nn(){V&&!X||(ui(),X?(mt=bi(),zt&&(Dt=Xn()),St=kt(),xn(Pt||Dt)):qi()),B&&wi(),Vn(),Wn()}function Vn(){var e,t;if(hi(),s.insertAdjacentHTML("afterbegin",'<div class="tns-liveregion tns-visually-hidden" aria-live="polite" aria-atomic="true">slide <span class="current">'+Jn()+"</span>  of "+U+"</div>"),ve=s.querySelector(".tns-liveregion .current"),Gt&&(e=ee?"stop":"start",N?co(N,{"data-action":e}):I.autoplayButtonOutput&&(s.insertAdjacentHTML(Mn(I.autoplayPosition),'<button type="button" data-action="'+e+'">'+De[0]+e+De[1]+ut[0]+"</button>"),N=s.querySelector("[data-action]")),N&&yo(N,{click:zi}),ee)&&(Pi(),ht&&yo(W,Ft),dt)&&yo(W,Ht),Ut){if(H)co(H,{"aria-label":"Carousel Pagination"}),io(Te=H.children,function(e,t){co(e,{"data-nav":t,tabindex:"-1","aria-label":Le+(t+1),"aria-controls":re})});else{for(var n="",i=Xt?"":'style="display:none"',o=0;o<U;o++)n+='<button type="button" data-nav="'+o+'" tabindex="-1" aria-controls="'+re+'" '+i+' aria-label="'+Le+(o+1)+'"></button>';s.insertAdjacentHTML(Mn(I.navPosition),n='<div class="tns-nav" aria-label="Carousel Pagination">'+n+"</div>"),H=s.querySelector(".tns-nav"),Te=H.children}Xi(),h&&(e=h.substring(0,h.length-18).toLowerCase(),t="transition: all "+tt/1e3+"s",to(te,"[aria-controls^="+re+"-item]",t=e?"-"+e+"-"+t:t,no(te))),co(Te[Oe],{"aria-label":Le+(Oe+1)+Pe}),uo(Te[Oe],"tabindex"),ao(Te[Oe],Ae),yo(H,jt)}qt&&(R||j&&F||(s.insertAdjacentHTML(Mn(I.controlsPosition),'<div class="tns-controls" aria-label="Carousel Navigation" tabindex="0"><button type="button" data-controls="prev" tabindex="-1" aria-controls="'+re+'">'+at[0]+'</button><button type="button" data-controls="next" tabindex="-1" aria-controls="'+re+'">'+at[1]+"</button></div>"),R=s.querySelector(".tns-controls")),j&&F||(j=R.children[0],F=R.children[1]),I.controlsContainer&&co(R,{"aria-label":"Carousel Navigation",tabindex:"0"}),(I.controlsContainer||I.prevButton&&I.nextButton)&&co([j,F],{"aria-controls":re,tabindex:"-1"}),(I.controlsContainer||I.prevButton&&I.nextButton)&&(co(j,{"data-controls":"prev"}),co(F,{"data-controls":"next"})),we=fi(j),ke=fi(F),vi(),R?yo(R,Rt):(yo(j,Rt),yo(F,Rt))),$n()}function Wn(){var e;B&&k&&((e={})[k]=Ci,yo(W,e)),st&&yo(W,Vt,I.preventScrollOnTouch),lt&&yo(W,Wt),et&&yo(z,Nt),"inner"===fe?ae.on("outerResized",function(){Un(),ae.emit("innerLoaded",le())}):(D||G||X||it||!V)&&yo(o,{resize:qn}),it&&("outer"===fe?ae.on("innerLoaded",ai):Pt||ai()),ti(),Pt?Qn():Dt&&Zn(),ae.on("indexChanged",si),"inner"===fe&&ae.emit("innerLoaded",le()),"function"==typeof At&&At(le()),Qe=!0}function qn(e){Gi(function(){Un(Bi(e))})}function Un(e){if(Qe){"outer"===fe&&ae.emit("outerResized",le(e)),Ze=On();var t,n=pe,i=!1;D&&(Gn(),t=n!==pe)&&ae.emit("newBreakpointStart",le(e));var o,a,r,s,l,c,u,h,n=K,d=Pt,f=Dt,p=et,g=ot,v=rt,m=st,y=lt,b=ee,_=ht,w=dt,k=oe;if(t&&(a=G,r=it,s=at,l=Q,c=ut,ce||(u=Y,h=$)),et=se("arrowKeys"),ot=se("controls"),rt=se("nav"),st=se("touch"),Q=se("center"),lt=se("mouseDrag"),ee=se("autoplay"),ht=se("autoplayHoverPause"),dt=se("autoplayResetOnVisibility"),t&&(Pt=se("disable"),G=se("fixedWidth"),tt=se("speed"),it=se("autoHeight"),at=se("controlsText"),ut=se("autoplayText"),ct=se("autoplayTimeout"),ce||($=se("edgePadding"),Y=se("gutter"))),xn(Pt),Z=An(),V&&!X||Pt||(ui(),V)||(qi(),i=!0),(G||X)&&(mt=bi(),St=kt()),(t||G)&&(K=se("items"),Ke=se("slideBy"),o=K!==n)&&(G||X||(St=kt()),wn()),t&&Pt!==d)if(Pt)Qn();else if(It){if(te.disabled=!1,W.className+=Lt,wi(),J)for(var x=ne;x--;)B&&po(q[x]),po(q[ie-x-1]);if(!B)for(var T=oe,S=oe+U;T<S;T++){var C=q[T],E=T<oe+K?ue:de;C.style.left=100*(T-oe)/K+"%",ao(C,E)}Yn(),It=!1}if(zt&&(t||G||X)&&(Dt=Xn())!==f)if(Dt)ki(_i(Sn(0))),Zn();else{if(Bt){if($&&ce&&(Ge.style.margin=""),ne)for(var O="tns-transparent",M=ne;M--;)B&&ro(q[M],O),ro(q[ie-M-1],O);Yn(),Bt=!1}i=!0}if(xn(Pt||Dt),ee||(ht=dt=!1),et!==p&&(et?yo:bo)(z,Nt),ot!==g&&(ot?R?po(R):(j&&po(j),F&&po(F)):R?fo(R):(j&&fo(j),F&&fo(F))),rt!==v&&(rt?(po(H),Xi()):fo(H)),st!==m&&(st?yo(W,Vt,I.preventScrollOnTouch):bo(W,Vt)),lt!==y&&(lt?yo:bo)(W,Wt),ee!==b&&(ee?(N&&po(N),Re||Fe||Pi()):(N&&fo(N),Re&&Ii())),ht!==_&&(ht?yo:bo)(W,Ft),dt!==w&&(dt?yo:bo)(z,Ht),t?(G===a&&Q===l||(i=!0),it===r||it||(Ge.style.height=""),ot&&at!==s&&(j.innerHTML=at[0],F.innerHTML=at[1]),N&&ut!==c&&(n=ee?1:0,f=(d=N.innerHTML).length-c[n].length,d.substring(f)===c[n])&&(N.innerHTML=d.substring(0,f)+ut[n])):Q&&(G||X)&&(i=!0),(o||G&&!X)&&(Se=Ui(),Xi()),(p=oe!==k)?(ae.emit("indexChanged",le()),i=!0):o?p||si():(G||X)&&(ti(),hi(),Kn()),o&&!B){for(var A=oe+Math.min(U,K),L=ie;L--;){var P=q[L];oe<=L&&L<A?(ao(P,"tns-moving"),P.style.left=100*(L-oe)/K+"%",ao(P,ue),ro(P,de)):P.style.left&&(P.style.left="",ao(P,de),ro(P,ue)),ro(P,he)}setTimeout(function(){io(q,function(e){ro(e,"tns-moving")})},300)}Pt||Dt||(t&&!ce&&($===h&&Y===u||(Ge.style.cssText=Pn($,Y,G,tt,it)),V)&&(B&&(W.style.width=In(G,Y,K)),g=zn(G,Y,K)+Dn(Y),m=no(v=te)-1,"deleteRule"in v?v.deleteRule(m):v.removeRule(m),to(te,"#"+re+" > .tns-item",g,no(te))),it&&ai(),i&&(wi(),xt=oe)),t&&ae.emit("newBreakpointEnd",le(e))}}function Xn(){var e,t;return G||X?(e=G?(G+Y)*U:r[U],t=$?Z+2*$:Z+Y,Q&&(t-=G?(Z-G)/2:(Z-(r[oe+1]-r[oe]-Y))/2),e<=t):U<=(Q?K-(K-1)/2:K)}function Gn(){for(var e in pe=0,D)(e=parseInt(e))<=Ze&&(pe=e)}function $n(){!ee&&N&&fo(N),!rt&&H&&fo(H),ot||(R?fo(R):(j&&fo(j),F&&fo(F)))}function Yn(){ee&&N&&po(N),rt&&H&&po(H),ot&&(R?po(R):(j&&po(j),F&&po(F)))}function Zn(){if(!Bt){if($&&(Ge.style.margin="0px"),ne)for(var e="tns-transparent",t=ne;t--;)B&&ao(q[t],e),ao(q[ie-t-1],e);$n(),Bt=!0}}function Qn(){if(!It){if(te.disabled=!0,W.className=W.className.replace(Lt.substring(1),""),uo(W,["style"]),J)for(var e=ne;e--;)B&&fo(q[e]),fo(q[ie-e-1]);if(V&&B||uo(Ge,["style"]),!B)for(var t=oe,n=oe+U;t<n;t++){var i=q[t];uo(i,["style"]),ro(i,ue),ro(i,de)}$n(),It=!0}}function Kn(){var e=Jn();ve.innerHTML!==e&&(ve.innerHTML=e)}function Jn(){var e=ei(),t=e[0]+1,e=e[1]+1;return t===e?t+"":t+" to "+e}function ei(e){null==e&&(e=_i());var n,i,o,a=oe;return Q||$?(X||G)&&(n=-(parseFloat(e)+$),i=n+Z+2*$):X&&(n=r[oe],i=n+Z),X?r.forEach(function(e,t){t<ie&&((Q||$)&&e<=n+.5&&(a=t),.5<=i-e)&&(o=t)}):(o=G?(e=G+Y,Q||$?(a=Math.floor(n/e),Math.ceil(i/e-1)):a+Math.ceil(Z/e)-1):Q||$?(e=K-1,o=Q?(a-=e/2,oe+e/2):oe+e,$&&(a-=e=$*K/Z,o+=e),a=Math.floor(a),Math.ceil(o)):a+K-1,a=Math.max(a,0),o=Math.min(o,ie-1)),[a,o]}function ti(){var e;ft&&!Pt&&((e=ei()).push(pt),oi.apply(null,e).forEach(function(e){var t;oo(e,Qt)||((t={})[k]=function(e){e.stopPropagation()},yo(e,t),yo(e,Kt),e.src=lo(e,"data-src"),(t=lo(e,"data-srcset"))&&(e.srcset=t),ao(e,"loading"))}))}function ni(e){ao(e,"loaded"),ii(e)}function ii(e){ao(e,Qt),ro(e,"loading"),bo(e,Kt)}function oi(e,t,n){var i=[];for(n=n||"img";e<=t;)io(q[e].querySelectorAll(n),function(e){i.push(e)}),e++;return i}function ai(){var e=oi.apply(null,ei());Gi(function(){ri(e,ci)})}function ri(n,e){return!ge&&(n.forEach(function(e,t){!ft&&e.complete&&ii(e),oo(e,Qt)&&n.splice(t,1)}),n.length)?void Gi(function(){ri(n,e)}):e()}function si(){var e,t;ti(),hi(),Kn(),vi(),rt&&(Oe=0<=Ee?Ee:En(),Ee=-1,Oe!==Me)&&(e=Te[Me],t=Te[Oe],co(e,{tabindex:"-1","aria-label":Le+(Me+1)}),ro(e,Ae),co(t,{"aria-label":Le+(Oe+1)+Pe}),uo(t,"tabindex"),ao(t,Ae),Me=Oe)}function li(e,t){for(var n=[],i=e,o=Math.min(e+t,ie);i<o;i++)n.push(q[i].offsetHeight);return Math.max.apply(null,n)}function ci(){var e=it?li(oe,K):li(ne,U),t=L||Ge;t.style.height!==e&&(t.style.height=e+"px")}function ui(){r=[0];var n=V?"left":"top",i=V?"right":"bottom",o=q[0].getBoundingClientRect()[n];io(q,function(e,t){t&&r.push(e.getBoundingClientRect()[n]-o),t===ie-1&&r.push(e.getBoundingClientRect()[i]-o)})}function hi(){var e=ei(),n=e[0],i=e[1];io(q,function(e,t){n<=t&&t<=i?so(e,"aria-hidden")&&(uo(e,["aria-hidden","tabindex"]),ao(e,Yt)):so(e,"aria-hidden")||(co(e,{"aria-hidden":"true",tabindex:"-1"}),ro(e,Yt))})}function di(e){return e.nodeName.toLowerCase()}function fi(e){return"button"===di(e)}function pi(e){return"true"===e.getAttribute("aria-disabled")}function gi(e,t,n){e?t.disabled=n:t.setAttribute("aria-disabled",n.toString())}function vi(){var e,t,n,i;!ot||nt||J||(e=we?j.disabled:pi(j),t=ke?F.disabled:pi(F),i=!nt&&St<=oe,(n=oe<=Tt)&&!e&&gi(we,j,!0),!n&&e&&gi(we,j,!1),i&&!t&&gi(ke,F,!0),!i&&t&&gi(ke,F,!1))}function mi(e,t){h&&(e.style[h]=t)}function yi(e){return null==e&&(e=oe),X?(Z-($?Y:0)-(r[e+1]-r[e]-Y))/2:G?(Z-G)/2:(K-1)/2}function bi(){var e=Z+($?Y:0)-(G?(G+Y)*ie:r[ie]);return e=0<(e=Q&&!J?G?-(G+Y)*(ie-1)-yi():yi(ie-1)-r[ie-1]:e)?0:e}function _i(e){var t,n;return null==e&&(e=oe),V&&!X?G?(t=-(G+Y)*e,Q&&(t+=yi())):(n=m?ie:K,Q&&(e-=yi()),t=100*-e/n):(t=-r[e],Q&&X&&(t+=yi())),vt&&(t=Math.max(t,mt)),t+=!V||X||G?"px":"%"}function wi(e){mi(W,"0s"),ki(e)}function ki(e){null==e&&(e=_i()),W.style[bt]=_t+e+wt}function xi(e,t,n,i){var o=e+K;J||(o=Math.min(o,ie));for(var a=e;a<o;a++){var r=q[a];i||(r.style.left=100*(a-oe)/K+"%"),E&&b&&(r.style[b]=r.style[w]=E*(a-e)/1e3+"s"),ro(r,t),ao(r,n),i&&gt.push(r)}}function Ti(e,t){yt&&wn(),oe===xt&&!t||(ae.emit("indexChanged",le()),ae.emit("transitionStart",le()),it&&ai(),Re&&e&&0<=["click","keydown"].indexOf(e.type)&&Ii(),Mt=!0,kn())}function Si(e){return e.toLowerCase().replace(/-/g,"")}function Ci(e){if(B||Mt){if(ae.emit("transitionEnd",le(e)),!B&&0<gt.length)for(var t=0;t<gt.length;t++){var n=gt[t];n.style.left="",w&&b&&(n.style[w]="",n.style[b]=""),ro(n,he),ao(n,de)}(!e||!B&&e.target.parentNode===W||e.target===W&&Si(e.propertyName)===Si(bt))&&(yt||(e=oe,wn(),oe!==e&&(ae.emit("indexChanged",le()),wi())),"inner"===fe&&ae.emit("innerLoaded",le()),Mt=!1,xt=oe)}}function Ei(e,t){if(!Dt)if("prev"===e)Oi(t,-1);else if("next"===e)Oi(t,1);else{if(Mt){if(Ct)return;Ci()}var n=Cn(),i=0;"first"===e?i=-n:"last"===e?i=B?U-K-n:U-1-n:("number"!=typeof e&&(e=parseInt(e)),isNaN(e)||(i=(e=t?e:Math.max(0,Math.min(U-1,e)))-n)),!B&&i&&Math.abs(i)<K&&(e=0<i?1:-1,i+=Tt<=oe+i-U?U*e:2*U*e*-1),oe+=i,B&&J&&(oe<Tt&&(oe+=U),St<oe)&&(oe-=U),Cn(oe)!==Cn(xt)&&Ti(t)}}function Oi(e,t){if(Mt){if(Ct)return;Ci()}var n;if(!t){for(var i=Ri(e=Bi(e));i!==R&&[j,F].indexOf(i)<0;)i=i.parentNode;var o=[j,F].indexOf(i);0<=o&&(n=!0,t=0===o?-1:1)}if(nt){if(oe===Tt&&-1===t)return void Ei("last",e);if(oe===St&&1===t)return void Ei("first",e)}t&&(oe+=Ke*t,X&&(oe=Math.floor(oe)),Ti(n||e&&"keydown"===e.type?e:null))}function Mi(){Be=setInterval(function(){Oi(null,Ie)},ct),Re=!0}function Ai(){clearInterval(Be),Re=!1}function Li(e,t){co(N,{"data-action":e}),N.innerHTML=De[0]+e+De[1]+t}function Pi(){Mi(),N&&Li("stop",ut[1])}function Ii(){Ai(),N&&Li("start",ut[0])}function zi(){Fe=Re?(Ii(),!0):(Pi(),!1)}function Di(e){e.focus()}function Bi(e){return ji(e=e||o.event)?e.changedTouches[0]:e}function Ri(e){return e.target||o.event.srcElement}function ji(e){return 0<=e.type.indexOf("touch")}function Fi(e){e.preventDefault?e.preventDefault():e.returnValue=!1}function Hi(){return t=Ve.y-Ne.y,n=Ve.x-Ne.x,t=Math.atan2(t,n)*(180/Math.PI),n=Et,e=!1,t=Math.abs(90-Math.abs(t)),90-n<=t?e="horizontal":t<=n&&(e="vertical"),e===I.axis;var e,t,n}function Ni(e){if(Mt){if(Ct)return;Ci()}ee&&Re&&Ai(),qe=!0,Ue&&($i(Ue),Ue=null);var t=Bi(e);ae.emit(ji(e)?"touchStart":"dragStart",le(e)),!ji(e)&&0<=["img","a"].indexOf(di(Ri(e)))&&Fi(e),Ve.x=Ne.x=t.clientX,Ve.y=Ne.y=t.clientY,B&&(We=parseFloat(W.style[bt].replace(_t,"")),mi(W,"0s"))}function Vi(e){var t;qe&&(t=Bi(e),Ve.x=t.clientX,Ve.y=t.clientY,B?Ue=Ue||Gi(function(){!function e(t){if(!Ot)return void(qe=!1);$i(Ue);qe&&(Ue=Gi(function(){e(t)}));"?"===Ot&&(Ot=Hi());if(Ot){!Jt&&ji(t)&&(Jt=!0);try{t.type&&ae.emit(ji(t)?"touchMove":"dragMove",le(t))}catch(e){}var n=We,i=Xe(Ve,Ne);n=!V||G||X?n+i+"px":n+(m?i*K*100/((Z+Y)*ie):100*i/(Z+Y))+"%",W.style[bt]=_t+n+wt}}(e)}):(Ot="?"===Ot?Hi():Ot)&&(Jt=!0),"boolean"!=typeof e.cancelable||e.cancelable)&&Jt&&e.preventDefault()}function Wi(i){var e,o,n;qe&&(Ue&&($i(Ue),Ue=null),B&&mi(W,""),qe=!1,e=Bi(i),Ve.x=e.clientX,Ve.y=e.clientY,o=Xe(Ve,Ne),Math.abs(o))&&(ji(i)||yo(n=Ri(i),{click:function e(t){Fi(t),bo(n,{click:e})}}),B?Ue=Gi(function(){if(V&&!X){var e=-o*K/(Z+Y),e=0<o?Math.floor(e):Math.ceil(e);oe+=e}else{var t=-(We+o);if(t<=0)oe=Tt;else if(t>=r[ie-1])oe=St;else for(var n=0;n<ie&&t>=r[n];)t>r[oe=n]&&o<0&&(oe+=1),n++}Ti(i,o),ae.emit(ji(i)?"touchEnd":"dragEnd",le(i))}):Ot&&Oi(i,0<o?-1:1)),"auto"===I.preventScrollOnTouch&&(Jt=!1),Et&&(Ot="?"),ee&&!Re&&Mi()}function qi(){(L||Ge).style.height=r[oe+K]-r[oe]+"px"}function Ui(){var e=G?(G+Y)*U/Z:U/K;return Math.min(Math.ceil(e),U)}function Xi(){if(rt&&!Xt&&Se!==Ce){var e=Ce,t=Se,n=po;for(Se<Ce&&(e=Se,t=Ce,n=fo);e<t;)n(Te[e]),e++;Ce=Se}}function le(e){return{container:W,slideItems:q,navContainer:H,navItems:Te,controlsContainer:R,hasControls:qt,prevButton:j,nextButton:F,items:K,slideBy:Ke,cloneCount:ne,slideCount:U,slideCountNew:ie,index:oe,indexCached:xt,displayIndex:Tn(),navCurrentIndex:Oe,navCurrentIndexCached:Me,pages:Se,pagesCached:Ce,sheet:te,isOn:Qe,event:e||{}}}T&&console.warn("No slides found in",I.container)}}());function adjustScrollPosition(e){var t,e=document.querySelector(e);e&&(t=document.getElementById("header").offsetHeight,t=parseInt(t),e=e.getBoundingClientRect().top+window.scrollY,window.scrollTo({top:e-t,behavior:"smooth"}))}function create_form_data(e){var t,n=new FormData,i=e.serializeObject(),o=e.find("input[type=file]");for(t in i)n.append(t,i[t]);for(var a=0;a<o.length;a++){n.append(o[a].name+"_qty",o[a].files.length);for(var r=0;r<o[a].files.length;r++){var s=o[a].files[r];n.append(o[a].name+"_"+r,s)}}return n}function toBool(e){return"string"==typeof e?"true"===e||"1"===e:Boolean(e)}function create_tns_slider(e){var t=toBool(null!=(t=e.dataset.showControls)&&t),n=null!=(n=e.dataset.navPosition)?n:"bottom",i=toBool(null!=(i=e.dataset.showNav)&&i),o=toBool(null!=(o=e.dataset.autoplay)&&o),a=null!=(a=e.dataset.autoplayTimeout)?a:5e3,r=null!=(r=e.dataset.speed)?r:450,s=toBool(null!=(s=e.dataset.autoHeight)&&s),l=null!=(l=e.dataset.mobile)?l:1,c=null!=(c=e.dataset.tablet)?c:2,u=null!=(u=e.dataset.laptop)?u:3,h=null!=(h=e.dataset.desktop)?h:4,d=null!=(d=e.dataset.axis)?d:"horizontal",f=null!=(f=e.dataset.mode)?f:"carousel",p=toBool(null!=(p=e.dataset.touch)&&p),g=null!=(g=e.dataset.mobileGutter)?g:0,v=null!=(v=e.dataset.tabletGutter)?v:0,m=null!=(m=e.dataset.laptopGutter)?m:0,y=null!=(y=e.dataset.desktopGutter)?y:0,f={mode:f,touch:p,container:e,autoplay:o,autoplayButton:!1,autoplayButtonOutput:!1,autoplayTimeout:parseInt(a),loop:!0,speed:parseInt(r),axis:d,controlsText:['<i class="fa fa-angle-left"></i>','<i class="fa fa-angle-right"></i>'],rewind:!0,autoHeight:s,mouseDrag:!0,swipeAngle:!1,controls:t,nav:i,navPosition:n,responsive:{1401:{items:parseInt(h),slideBy:parseInt(h),gutter:parseInt(y)},1025:{items:parseInt(u),slideBy:parseInt(u),gutter:parseInt(m)},601:{items:parseInt(c),slideBy:parseInt(c),gutter:parseInt(v)},100:{items:parseInt(l),slideBy:parseInt(l),gutter:parseInt(g)}}};return tns(f)}function do_get_implementation(){if(-1!==document.location.toString().indexOf("?"))for(var e=document.location.toString().replace(/^.*?\?/,"").replace(/#.*$/,"").split("&"),t=0,n=e.length;t<n;t++){var i=decodeURIComponent(e[t]).split("=");$_GET[i[0]]=i[1]}}function updateViewportDimensions(){var e=window,t=document,n=t.documentElement,t=t.getElementsByTagName("body")[0];return{width:e.innerWidth||n.clientWidth||t.clientWidth,height:e.innerHeight||n.clientHeight||t.clientHeight}}function hasClass(e,t){return-1<(" "+e.className+" ").indexOf(" "+t+" ")}function addClass(e,t){hasClass(e,t)||(e.className+=" "+t)}function removeClass(e,t){var n=" "+e.className.replace(/[\t\r\n]/g," ")+" ";if(hasClass(e,t)){for(;0<=n.indexOf(" "+t+" ");)n=n.replace(" "+t+" "," ");e.className=n.replace(/^\s+|\s+$/g,"")}}function toggleClass(e,t){var n=" "+e.className.replace(/[\t\r\n]/g," ")+" ";if(hasClass(e,t)){for(;0<=n.indexOf(" "+t+" ");)n=n.replace(" "+t+" "," ");e.className=n.replace(/^\s+|\s+$/g,"")}else e.className+=" "+t}function isNumber(e){return!isNaN(parseFloat(e))&&isFinite(e)}function removeElementsByClass(e){for(var t=document.getElementsByClassName(e);0<t.length;)t[0].parentNode.removeChild(t[0])}function wrapAll(e,t){for(var n=0;n<e.length;n++)t.append(e[0])}function idGenerator(){function e(){return(65536*(1+Math.random())|0).toString(16).substring(1)}return"v23_"+(e()+e())+"_"+e()+"_"+e()}function myscrollTo(n,e,i){var o=n.scrollTop,a=e-o,r=0;(function e(){r+=20;var t=Math.easeInOutQuad(r,o,a,i);n.scrollTop=t,r<i&&setTimeout(e,20)})()}function getCookie(e){for(var t=e+"=",n=decodeURIComponent(document.cookie).split(";"),i=0;i<n.length;i++){for(var o=n[i];" "==o.charAt(0);)o=o.substring(1);if(0==o.indexOf(t))return o.substring(t.length,o.length)}return""}function hexToRgba(e,t){3===(e=e.replace(/^#/,"")).length&&(e=e.split("").map(function(e){return e+e}).join(""));var e=parseInt(e,16),n=e>>8&255,i=255&e,t=t/100;return"rgba(".concat(e>>16&255,", ").concat(n,", ").concat(i,", ").concat(t,")")}function refreshScrollTriggerBreakpoints(){setTimeout(function(){void 0!==window.gsap&&window.gsap.ScrollTrigger?(DEBUG&&console.log("Refreshing ScrollTrigger"),window.gsap.ScrollTrigger.refresh()):void 0!==window.ScrollTrigger?(DEBUG&&console.log("Refreshing ScrollTrigger (global)"),window.ScrollTrigger.refresh()):DEBUG&&console.log("GSAP ScrollTrigger not available - gsap:",_typeof(window.gsap),"ScrollTrigger:",_typeof(window.ScrollTrigger))},100)}function remove_empty_paragraphs(){document.querySelectorAll("p").forEach(function(e){""!==e.innerHTML.trim()||e.hasAttributes()||e.remove()})}!function(e){"function"==typeof define&&define.amd?define(e):"undefined"!=typeof module&&void 0!==module.exports?module.exports=e():window.V23_ToggleBox=e()}(function(){var a=[],r={};function i(e,t){var n=this;if(e&&e.nodeType&&1===e.nodeType){if(this._createInstance(e)){for(var i in this.el=e,this.activeTemplate=null,this.initialUrl=window.location.href,this._handleOptions(t),this.options.previousBreakpoint=null,this)"_"===i.charAt(0)&&"function"==typeof this[i]&&(this[i]=this[i].bind(this));this.nav=this.el.getElementsByClassName("v23-togglebox__nav")[0],this.itemsBox=this.el.getElementsByClassName("v23-togglebox__items")[0],this.items=[],this._saveItems(),0<this.items.length&&setTimeout(function(){n._attach_click_events(),n._handle_template(),n._change_active_tab_if_hash_in_url(),n._attach_resize_events(),n._attach_hashchange_events(),s(n.el,"v23-togglebox-initialized")},this.options.delay)}}else console.log("V23 ToggleBox Error: `el` must be HTMLElement, and not "+{}.toString.call(e))}function n(e,t,n){e.addEventListener(t,n,!1)}function o(e,t){return-1<(" "+e.className+" ").indexOf(" "+t+" ")}function s(e,t){o(e,t)||(e.className+=" "+t)}function l(e,t){var n=" "+e.className.replace(/[\t\r\n]/g," ")+" ";if(o(e,t)){for(;0<=n.indexOf(" "+t+" ");)n=n.replace(" "+t+" "," ");e.className=n.replace(/^\s+|\s+$/g,"")}}function c(e,t){(o(e,t)?l:s)(e,t)}return i.prototype={_handleOptions:function(e){var t={},n=this.el.dataset.template,i=this.el.dataset.breakpoints,o=this.el.dataset.headerheight,a=this.el.dataset.scrolltop,r=this.el.dataset.scrollto,s=this.el.dataset.startIndex,l=this.el.dataset.delay;null!=n&&(t.initialTemplate=n),null!=i&&(t.breakpoints=this._handleDataBreakpoints(i)),null!=o&&(t.headerHeight=o),null!=a&&(t.scrolltop=a),null!=r&&(t.scrollto=r),null!=s&&(t.startIndex=parseInt(s)),this.el.hasAttribute("data-multistep")&&(t.multistep=1),null!=l&&(t.delay=parseInt(l)),this.options=e=function(e,t){if(e&&t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}(e,t);this.options=_objectSpread(_objectSpread(_objectSpread({},{initialTemplate:"tab",breakpoints:{desktop:{template:"tab",style:""},768:{template:"accordion",style:""}},headerHeight:0,scrolltop:0,scrollto:"btn",multistep:0,startIndex:0,delay:0}),e),t),"desktop"in this.options.breakpoints||(this.options.breakpoints.desktop={template:"tab",style:""})},_handleDataBreakpoints:function(e){var t={},e=e.split(",");return Array.isArray(e)&&e.map(function(e){""!=e&&(e=e.split("|"),Array.isArray(e))&&e.length&&e[0]&&(t[e[0]]={template:e[1],style:e[2]||""})}),t},_createInstance:function(e){for(var t=0;t<a.length;t++)if(a[t].el===e)return console.log("V23 ToggleBox Error: el elemento id:"+e.id+" | class:"+e.className+" solo puede ser instanciado una vez."),!1;return!0},_saveItems:function(){var e=this.nav.getElementsByClassName("v23-togglebox__btn");this.btns=e;for(var t=0;t<e.length;t++){var n=e[t].dataset.boxid;n&&(n=this.itemsBox.querySelector(n))&&n.nodeType&&1===n.nodeType&&this.items.push({btn:e[t],box:n})}},_attach_click_events:function(){for(var e=0;e<this.btns.length;e++)n(this.btns[e],"click",this._open_tab);for(var t=this.el.querySelectorAll(".go-to-step"),e=0;e<t.length;e++)n(t[e],"click",this._go_to_step)},_open_tab:function(e){e=o(e.target,"v23-togglebox__btn")?e.target:function(e,t){for(;(e=e.parentElement)&&!(e.matches||e.matchesSelector).call(e,t););return e}(e.target,".v23-togglebox__btn");e&&this._handle_active_class(e)},_handle_active_class:function(e){var t=this._get_current_breakpoint(),n=this.options.breakpoints[t].template;if(e)for(var i=0;i<this.items.length;i++){var o=this.el.querySelector(this.items[i].btn.dataset.boxid);if(this.items[i].btn.dataset.boxid===e.dataset.boxid){if(("accordion"===n?(c(e,"active"),c):(s(e,"active"),s))(o,"active"),this.options.scrolltop){var a=null;switch(this.options.scrollto){case"el":a=$(this.el);break;case"item":a=$(o);break;default:a=$(e)}a.length&&$("html, body").animate({scrollTop:a.offset().top-MV23_GLOBALS.headerHeight},{duration:800,queue:!1})}this._handle_hash_in_url(e.dataset.boxid)}else l(this.items[i].btn,"active"),l(o,"active")}else{for(i=0;i<this.items.length;i++)l(this.items[i].btn,"active"),l(this.items[i].box,"active");"tab"===n&&(t=this.options.startIndex,s(this.items[t].btn,"active"),s(this.items[t].box,"active"))}this.options.multistep&&this._add_multistep_mode_classes()},_add_multistep_mode_classes:function(){for(var e=!1,t=0;t<this.btns.length;t++){var n=this.btns[t];n.classList.remove("completed-step","pending-step"),n.classList.contains("active")?e=!0:e?n.classList.add("pending-step"):n.classList.add("completed-step")}},_go_to_step:function(e){var e=e.target.dataset.boxid;e&&(e=this.el.querySelector('.v23-togglebox__btn[data-boxid="'+e+'"]'))&&e.click()},_handle_hash_in_url:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",t=new URL(this.initialUrl),t=(t.search="",t.hash="",t.toString());history.pushState({},null,t+e)},_attach_hashchange_events:function(){var e=this;window.addEventListener("mv23ReplaceState",function(){e._change_active_tab_if_hash_in_url()},!0)},_change_active_tab_if_hash_in_url:function(){if(window.location.hash)for(var e=function(e){var t=e.indexOf("?");e=t<0?e:e.substr(0,t);return e}(window.location.hash.substring(1)),t=0;t<this.items.length;t++)this.items[t].box.id===e&&this.items[t].btn.click()},_handle_template:function(){var e,t,n=this._get_previous_breakpoint(),i=this._get_current_breakpoint(),o=this.options.breakpoints[i],a=o.template,o=o.style;if(i!=n){if(a!=this.options.breakpoints[n])for(var r=0;r<this.items.length;r++)"tab"==a&&this.nav.appendChild(this.items[r].btn),"accordion"==a&&(e=this.items[r].btn,(t=this.items[r].box).parentNode.insertBefore(e,t));this.el.dataset.template=a,this.el.dataset.style=o,this._handle_active_class(),this.options.previousBreakpoint=i}},_get_previous_breakpoint:function(){return this.options.previousBreakpoint},_get_current_breakpoint:function(){e=window,o=document,i=o.documentElement,o=o.getElementsByTagName("body")[0],t=e.innerWidth||i.clientWidth||o.clientWidth,e=e.innerHeight||i.clientHeight||o.clientHeight;var e,t,n=t,i=this.options.breakpoints,o=null;if(0<Object.keys(i).length){var a,r=[];for(a in i)"desktop"!=a&&n<=a&&r.push(a);r.length&&(o=Math.min.apply(Math,r))}return o||"desktop"},_attach_resize_events:function(){var i=this,o="v23ToggleBox"+a.length;window.addEventListener("resize",function(){var e=function(){i._handle_template()},t=100,n=o;r[n]&&clearTimeout(r[n]),r[n]=setTimeout(e,t)},!0)},addItem:function(e){if(e.silent)t=e.btn,n=e.box;else{if(void 0===e.id)return;var t,n,i=this._get_current_breakpoint(),i=this.options.breakpoints[i].template;(t=this.items[0].btn.cloneNode(!0)).innerHTML=e.btn&&e.btn.content?e.btn.content:"New Item",t.dataset.boxid="#"+e.id,(n=this.items[0].box.cloneNode(!0)).innerHTML=e.box&&e.box.content?e.box.content:"Lorem ipsum dolor sit amet consectetur...",n.id=e.id,"tab"==i&&this.nav.appendChild(t),"accordion"==i&&this.itemsBox.appendChild(t),this.itemsBox.appendChild(n)}this.items.push({btn:t,box:n}),e.setActive&&this._handle_active_class(t),"function"==typeof e.afterAddItem&&e.afterAddItem(t,n)},removeItem:function(e){var t,n=e.index;n<=this.items.length&&1<this.items.length&&0<=n&&(e.silent||(this.items[n].btn.remove(),this.items[n].box.remove()),n=this.items.splice(n,1),null!=e.setActive?0<=e.setActive&&e.setActive<=this.items.length&&this.items[e.setActive].btn.click():(t=this._get_current_breakpoint(),"tab"==this.options.breakpoints[t].template&&o(n[0].btn,"active")&&this.items[this.items.length-1].btn.click()),"function"==typeof e.afterRemoveItem)&&e.afterRemoveItem(n)}},Math.easeInOutQuad=function(e,t,n,i){return(e/=i/2)<1?n/2*e*e+t:-n/2*(--e*(e-2)-1)+t},i.create=function(e,t){e=new i(e,t=t||{});return e.el&&a.push(e),e},i.v=function(){console.log("9.0.0")},i.init=function(e){for(var t=document.getElementsByClassName("v23-togglebox"),n=0;n<t.length;n++)i.create(t[n],e);return a},i}),Math.easeInOutQuad=function(e,t,n,i){return(e/=i/2)<1?n/2*e*e+t:-n/2*(--e*(e-2)-1)+t},$.fn.serializeObject=function(){var e={},t=this.serializeArray();return $.each(t,function(){void 0!==e[this.name]?(e[this.name].push||(e[this.name]=[e[this.name]]),e[this.name].push(this.value||"")):e[this.name]=this.value||""}),e};var viewport=updateViewportDimensions(),$_GET={},is_inicio=jQuery("body").hasClass("home"),is_checkout=jQuery("body").hasClass("woocommerce-checkout"),DEBUG=MV23_GLOBALS.debug||!1;function targetBlank(){for(var e=location.host.replace("www.",""),e=new RegExp(e,"i"),t=document.getElementsByTagName("a"),n=0;n<t.length;n++){var i=t[n].host;e.test(i)||t[n].setAttribute("target","_blank")}}document.addEventListener("DOMContentLoaded",function(){void 0!==window.gsap&&MV23_GLOBALS.scrollAnimations?window.ScrollTrigger?DEBUG&&console.log("GSAP ScrollTrigger already available"):window.gsap.ScrollTrigger?(window.ScrollTrigger=window.gsap.ScrollTrigger,DEBUG&&console.log("GSAP ScrollTrigger registered successfully")):DEBUG&&console.warn("ScrollTrigger not found in GSAP"):DEBUG&&console.warn("GSAP not loaded or scroll animations disabled")}),do_get_implementation(),remove_empty_paragraphs(),document.addEventListener("DOMContentLoaded",function(){MV23_GLOBALS.adjustScrollPosition&&setTimeout(function(){var e=window.location.hash;e&&adjustScrollPosition(e)},400)}),window.Adaptive_Navbars=function(){var n=[];function i(e){var t,n=this;for(t in this.container=e,this.container.classList.add("adaptive-navbar"),this.primary=this.container.querySelector("ul"),this.primary.classList.add("-primary"),this.primaryItems=this.primary.querySelectorAll(":scope > li:not(.-more)"),this.container.classList.add("--jsfied"),this.primary.insertAdjacentHTML("beforeend",'\n            <li class="-more hidden-text">\n                <a href="#" type="button" aria-haspopup="true" aria-expanded="false">\n                    <span class="menu-item__icon">&darr;</span>\n                    <span class="menu-item__label">More</span>\n                </a>\n                <ul class="-secondary">\n                  '.concat(this.primary.innerHTML,"\n                </ul>\n            </li>\n        ")),this.secondary=this.container.querySelector(".-secondary"),this.secondaryItems=this.secondary.querySelectorAll(":scope > li"),this.allItems=this.container.querySelectorAll("li"),this.moreLi=this.primary.querySelector(".-more"),this.moreBtn=this.moreLi.querySelector("a[type=button]"),this.moreBtn.addEventListener("click",function(e){e.preventDefault(),n.container.classList.toggle("--show-secondary"),n.moreBtn.setAttribute("aria-expanded",n.container.classList.contains("--show-secondary"))}),this)"_"===t.charAt(0)&&"function"==typeof this[t]&&(this[t]=this[t].bind(this));this._doAdapt(),this._outsideclick(),window.addEventListener("resize",this._doAdapt)}return i.prototype={_doAdapt:function(){var e=this.allItems,t=this.moreBtn,n=this.primary,i=this.primaryItems,o=this.moreLi,a=this.container,r=this.secondaryItems,s=(e.forEach(function(e){e.classList.remove("--hidden")}),o.offsetWidth),l=[],c=n.offsetWidth;i.forEach(function(e,t){var n=e.offsetWidth;s+n<=c?s+=n:(e.classList.add("--hidden"),l.push(t))}),l.length?r.forEach(function(e,t){l.includes(t)||e.classList.add("--hidden")}):(o.classList.add("--hidden"),a.classList.remove("--show-secondary"),t.setAttribute("aria-expanded",!1))},_outsideclick:function(){var n=this.secondary,i=this.moreBtn,o=this.container;document.addEventListener("click",function(e){for(var t=e.target;t;){if(t===n||t===i)return;t=t.parentNode}o.classList.remove("--show-secondary"),i.setAttribute("aria-expanded",!1)})}},i.create=function(e){e=new i(e);return e.container&&n.push(e),e},i.init=function(){for(var e=document.querySelectorAll(".horizontal-nav"),t=0;t<e.length;t++)i.create(e[t]);return n},i.getInstances=function(){return n},i}(),jQuery,console.log,document.addEventListener("DOMContentLoaded",function(){Adaptive_Navbars.init()}),function(e){e(function(){window.onscroll=function(){1100<document.body.scrollTop||1100<document.documentElement.scrollTop?e(".subir-btn").attr("data-state",""):e(".subir-btn").attr("data-state","hidden")}})}(jQuery,console.log),function(a){document.addEventListener("DOMContentLoaded",function(){for(var e=a(".carousel__slider"),t=0;t<e.length;t++){var n=e[t],i=create_tns_slider(n),o=(o=a(n).data("slider-uid"))||Math.random().toString(36).substring(2,10);a(n).attr("data-slider-uid",o),MV23_GLOBALS.carousels[o]=i}a(".go-to-slide").on("click",function(e){e.preventDefault();var e=a(this).data("slide"),t=(void 0===e&&(e=0),a(this).data("slider-uid"));MV23_GLOBALS.carousels[t]?(DEBUG&&console.log("Going to slide "+e+" in carousel with UID "+t),MV23_GLOBALS.carousels[t].goTo(e)):DEBUG&&console.warn("Carousel with UID "+t+" not found.")})})}(jQuery,console.log),function(o){o(function(){var e=o("[data-setmargin]");if(0<e.length)for(var t=0;t<e.length;t++){var n=e[t],i=n.dataset.setmargin;"20"!=i&&o(n).find(".componente").css("margin",i+"px")}})}(jQuery,console.log),function(c){document.addEventListener("DOMContentLoaded",function(){for(var e=c(".content-slider"),n=MV23_GLOBALS.headerHeight,t=0;t<e.length;t++){var i=c(e[t]).find(".content-slider__slider"),o=c(i[0]).attr("data-nav-position"),a=c(i[0]).attr("data-controls-position"),r=c(i[0]).attr("data-show-title"),s=c(i[0]).attr("data-show-controls"),l=c(i[0]).attr("data-show-nav"),i={container:i[0],speed:450,autoplayButton:!1,autoplay:!1,autoplayButtonOutput:!1,autoHeight:!0,mouseDrag:!1,controls:"1"==s,nav:"1"==l,axis:"horizontal",controlsPosition:a,navPosition:o,loop:!1,rewind:!0,controlsText:['<i class="fa fa-caret-left"></i>','<i class="fa fa-caret-right"></i>'],onInit:function(n){"1"==r&&c(n.navItems).each(function(e,t){e=c(n.slideItems).eq(e).attr("data-title");c(this).html(e)})}},s=tns(i);"1"==c(e[t]).attr("data-extended-bgi")&&(c(e[t]).attr("style",c(e[t]).find(".tns-slide-active").attr("data-style")),s.events.on("transitionEnd",function(e,t){c(e.container).parents(".content-slider").attr("style",c(e.slideItems[e.navCurrentIndex]).attr("data-style"))})),"1"==c(e[t]).attr("data-scroll-to-top")&&s.events.on("transitionStart",function(e,t){c("html, body").animate({scrollTop:c(e.container).offset().top-n},{duration:800,queue:!1})})}})}(jQuery,console.log),function(e){e(function(){MV23_GLOBALS.scrollAnimations&&(gsap.registerPlugin(ScrollTrigger),document.querySelectorAll(".counter").forEach(function(e){var t=parseInt(e.getAttribute("data-start"),10),n=parseInt(e.getAttribute("data-number"),10),i=parseInt(e.getAttribute("data-duration"),10)/1e3;gsap.timeline({scrollTrigger:{trigger:e,start:"top bottom",toggleActions:"play none none reset"}}).fromTo(e,{innerText:t},{innerText:n,duration:i,delay:.5,snap:{innerText:1},ease:"power1.inOut"})}))})}(jQuery,console.log),function(l){document.addEventListener("DOMContentLoaded",function(){["right","left"].forEach(function(s){var e=l(".extend-bg-to-"+s);e.length&&l.each(e,function(e,t){var n,i,o,a,r;t=t,n=s,(o=l("<div/>")).attr({style:l(t).attr("style"),class:"extended-bg"}),a="left"==n?"right":"left",r="left"==n?l(t).offset().left:l(window).width()-(l(t).offset().left+l(t).width()),o.css((_defineProperty(i={},n,-1*r),_defineProperty(i,a,0),i)),o.appendTo(t)})})})}(jQuery,console.log),targetBlank(),function(e){e(function(){var e=["zoomIn","zoomOut","toggle1to1"];MV23_GLOBALS.isMobile||e.push("rotateCCW","rotateCW","flipX","flipY"),Fancybox.bind("[data-fancybox], .zoom",{Hash:!1,Carousel:{infinite:!1,transition:"classic"},Toolbar:{display:{left:["infobar"],middle:e,right:["fullscreen","slideshow","thumbs","close"]}}})})}(jQuery,console.log),function(e){e(function(){MV23_GLOBALS.masonry_is_active&&setTimeout(function(){e(".theme-gallery--masonry").masonry({itemSelector:".theme-gallery__item",columnWidth:".theme-gallery__item-sizer",percentPosition:!0})},1);var o="show-gallery--";e(document).on("click","a[class*="+o+"]",function(e){for(var t=e.target.classList,n=0;n<t.length;n++){var i=t[n];i.startsWith(o)&&(i=i.substring(o.length),Fancybox.fromSelector('[data-fancybox="'+i+'"]'))}})})}(jQuery,console.log),function(r){r(function(){var e=r(".header"),n=document.querySelector(":root");function t(e){setTimeout(function(){var e=document.getElementById("header"),t=e.classList.contains("header--static")?"static":"sticky",e=e.offsetHeight;n.style.setProperty("--"+t+"-header-height",e+"px")},0<arguments.length&&void 0!==e?e:800)}addEventListener("resize",function(e){t()}),t(0);var i=r(".header__logo__link img"),o=MV23_GLOBALS.stickyHeaderBreakpoint,a={isSticky:!1,element:".header",init:function(){var e=r(document).scrollTop();o<e&&!this.isSticky&&(this.isSticky=!0,a.show()),r(window).scroll(function(){var e=r(document).scrollTop();o<e&&!this.isSticky&&(this.isSticky=!0,a.show()),e<o&&this.isSticky&&(this.isSticky=!1,a.hide())})},show:function(){i.attr("src",STICKY_HEADER.logo),e.attr("class",STICKY_HEADER.classes.join(" ")),e.attr("style",STICKY_HEADER.styles.join(" ")),t()},hide:function(){i.attr("src",STATIC_HEADER.logo),e.attr("class",STATIC_HEADER.classes.join(" ")),e.attr("style",STATIC_HEADER.styles.join(" ")),t()}};a.init()})}(jQuery,console.log),function(h,d){var e=h(".component.listing"),t=MV23_GLOBALS.lang,i=MV23_GLOBALS.listing_loading_text[t];function r(a,r,s,e,t,l){var e=create_form_data(e),n=a.attr("data-listing-args"),t=t||1,c=JSON.parse(n).listing_template,u=JSON.parse(n).scrollTop;e.append("action","load_posts"),e.append("nonce",MV23_GLOBALS.nonce),e.append("lang",MV23_GLOBALS.lang),e.append("listing_args",n),e.append("paged",t),h.ajax({type:"POST",dataType:"json",url:MV23_GLOBALS.ajaxUrl,data:e,processData:!1,contentType:!1,beforeSend:function(){a.attr("data-status","loading"),s&&s.html('<p class="center">'+i+"</p>")},success:function(e){a.attr("data-status","loaded");var t,n,i="carrusel"===c?r.find(".carousel__slider"):r;switch("carrusel"===c&&(t=r.find(".carousel").attr("data-tns-uid"),n=MV23_GLOBALS.carousels[t]),e.status){case"success":var o=h(e.posts);"carrusel"===c&&(n.destroy(),i=r.find(".carousel__slider"),"replace"===l)&&i.html(""),"replace"===l&&i.html(o),"append"===l&&i.append(o),"carrusel"===c&&(MV23_GLOBALS.carousels[t]=create_tns_slider(i[0]),"append"===l)&&MV23_GLOBALS.carousels[t].goTo("next"),r.trigger("listingUpdated",{listing:r,items:o,action:l,response:e}),s&&s.html(e.pagination),u&&(o=MV23_GLOBALS.headerHeight,h("html, body").animate({scrollTop:a.offset().top-o},{duration:800,queue:!1}));break;case"error":"carrusel"===c&&(n.destroy(),(i=r.find(".carousel__slider")).html("")),i.html('<p class="center posts-filter-error-msg">'+e.message+"</p>"),"carrusel"===c&&(MV23_GLOBALS.carousels[t]=create_tns_slider(i[0])),s&&s.html("");break;default:d(e)}refreshScrollTriggerBreakpoints()}})}e.length&&e.each(function(e,t){var n=h(t),i=n.find(".posts-filter form"),o=n.find(".posts-listing"),a=n.find(".pagination");n.on("click","a.page-numbers",function(e){e.preventDefault();var e=e.target.getAttribute("href"),e=(e=e,e=new URL(e,window.location.origin),(e=new URLSearchParams(e.search).get("paged"))||1);r(n,o,a,i,e,"replace")}),n.on("click",".load_more_posts",function(e){e.preventDefault();e=h(this).attr("data-paged");r(n,o,null,i,e,"append")}),n.on("click",".posts-filter__submit",function(e){e.preventDefault();r(n,o,a,i,1,"replace")}),n.on("listingUpdated",function(e,t){e.preventDefault();var e=h(this).find(".load_more_posts"),n=e.attr("data-paged"),n=parseInt(n)+1;n>t.response.max_num_pages?e.parent().remove():e.attr("data-paged",n)})})}(jQuery,console.log);var styleArray=[{stylers:[{hue:"#19511B"},{saturation:0},{gamma:.7}]}];!function(d){document.addEventListener("DOMContentLoaded",function(){var e=document.getElementsByClassName("map__gmap");e.length&&d.each(e,function(e,t){var n,i,o,a,r,s,l,c,u,h;i=(t=t).id,o=parseFloat(t.dataset.lat),a=parseFloat(t.dataset.lng),r=parseFloat(t.dataset.zoom),s=t.dataset.icon,l=t.dataset.provider,c=[o,a],u=null,h=d(t).find(".infowindow").html(),"leaflet"==l&&(u=L.map(i).setView(c,r),L.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:"© OpenStreetMap contributors"}).addTo(u),n=L.marker(c).addTo(u),h)&&n.bindPopup(h).openPopup(),"google"==l&&(i={map:u=new google.maps.Map(t,{zoom:r,center:{lat:o,lng:a}}),position:{lat:o,lng:a}},s&&(i.icon=s),n=new google.maps.Marker(i),h)&&((c=new google.maps.InfoWindow({map:u})).setPosition(i.position),c.setContent(h)),t.mapObject=u})})}(jQuery,console.log),jQuery,console.log,document.addEventListener("DOMContentLoaded",function(){function s(e,t,n,i,o){for(var a=0;i()<2*o()&&(n.forEach(function(e){e=e.cloneNode(!0);t.appendChild(e),a++}),!(100<a)););}MV23_GLOBALS.scrollAnimations&&document.querySelectorAll(".marquee").forEach(function(e){function t(){return i.scrollWidth}function n(){return window.innerWidth}var i=e.querySelector(".marquee-track"),o=_toConsumableArray(i.children),a=e.dataset.speed||18,r=(s(0,i,o,t,n),gsap.timeline({repeat:-1}));r.to(i,{x:function(){return"-".concat(t()/2,"px")},duration:a,ease:"none"}),window.addEventListener("resize",function(){r.kill(),i.innerHTML="",o.forEach(function(e){return i.appendChild(e.cloneNode(!0))}),s(0,i,o,t,n),r.clear(),r.to(i,{x:function(){return"-".concat(t()/2,"px")},duration:a,ease:"none"})}),e.addEventListener("mouseenter",function(){r.timeScale(0)}),e.addEventListener("mouseleave",function(){r.timeScale(1)})})}),function(a){a(function(){a(".has-megamenu").removeClass("menu-item-has-children"),a(".header li.menu-item-has-children").hover(function(){t()},function(){}),a(".header li.menu-item:not(.is-active)").hover(function(){t()},function(){}),a(".megamenu").appendTo("#megamenus");var i=a("body"),o=a(".header"),e=null;function t(){i.css({overflow:"",width:""}),o.css({width:""}),a(".has-megamenu").removeClass("is-active"),a(".megamenu").removeClass("is-active"),a(".megamenu-overlay").remove()}a(".header .has-megamenu").hover(function(){clearTimeout(e);var n=a(this);e=setTimeout(function(){var e=n.find("a").eq(0).attr("data-activates"),t=i.innerWidth();i.width(t),o.width(t),a(".megamenu").removeClass("is-active"),n.addClass("is-active"),a("#"+e).addClass("is-active"),a(".megamenu-overlay").length<1&&i.append('<div class="megamenu-overlay"></div>')},250)},function(){clearTimeout(e)}),a(document).on("click",".megamenu-overlay",function(){t()}),a(".megamenu-close, .megamenu a").click(function(){t()})})}(jQuery,console.log),function(o){o(function(){for(var e=document.getElementsByClassName("theme-modal"),t=0;t<e.length;t++){var n=e[t],i=n.dataset.closeOnClick;o(n).modal({dismissible:!0,opacity:.6,inDuration:300,outDuration:MV23_GLOBALS.modal.outDuration,startingTop:"2%",endingTop:"5%",onOpenStart:function(e,t){o(t).css("z-index","initial")},onCloseEnd:function(e,t){o(e).hasClass("empty-on-close")&&o(e).find(".modal-content").empty()}}),i&&o(n).find("a").click(function(){o(n).modal("close")})}o(".modal-trigger").modal(),o(".modal-trigger").css("z-index",25)})}(jQuery,console.log),window.OffCanvas_Elements=function(){var t=[];function i(e){for(var t in this.offcanvas_element_id=e.id,this.offcanvas_element=document.querySelector("#"+this.offcanvas_element_id),this.type=e.type,this.content_type=e.content_type,this.trigger_events=e.trigger_events||[],this.async_settings=e.async_settings,this.oce_settings=e.oce_settings,this)"_"===t.charAt(0)&&"function"==typeof this[t]&&(this[t]=this[t].bind(this));this.M_instance=null,this.M_instance_options=[],this._handle_async_settings(),this._create_the_M_instance(),"object"===_typeof(this.M_instance)&&(this._handle_styles(),this._handle_trigger_events(),this._handle_close_on_click_setting())}return i.prototype={_handle_async_settings:function(){var n=this;if("async"==this.content_type&&"object"==_typeof(this.async_settings)){var i=[],o=[],a=this.async_settings.content_source;switch(a){case"page":var e=this.async_settings.page_source;e&&(e=e.replace("post_",""),i=["".concat(MV23_GLOBALS.homeUrl,"/wp-json/wp/v2/pages/").concat(e),"".concat(MV23_GLOBALS.homeUrl,"/wp-json/wp/v2/posts/").concat(e)],o=["No se encontró como página, intentando como post...","No se encontró el contenido ni como página ni como post."]);break;case"url":e=this.async_settings.url_source;""!=e&&(i=[e],o=["No se encontró la url"])}this.M_instance_options.onOpenStart=function(){var t=n.M_instance.el,e=t.querySelector(".modal-content");n.async_settings.clear_on_close&&(e.innerHTML=""),n._check_async_attributes("beforeSend",t),"link"===a&&""!=(e="object"==_typeof(e=n.M_instance._openingTrigger)&&"A"==e.tagName?e.getAttribute("href"):"")&&(i=[e],o=["No se encontró la url del link"]),0<i.length?fetch(i[0]).then(function(e){return n._handle_async_response(e)}).then(function(e){return n._handle_async_data(e,t)}).catch(function(e){return n._handle_async_error(e,o[0],t,!0),fetch(i[1]).then(function(e){return n._handle_async_response(e)}).then(function(e){return n._handle_async_data(e,t)}).catch(function(e){return n._handle_async_error(e,o[1],t,!0)})}):(n._check_async_attributes("error",t),t.querySelector(".modal-content").innerHTML='<p class="center-align">Some setting in '.concat(n.offcanvas_element_id," is wrong.<p>"))}}},_check_async_attributes:function(t,n){var i=this,e=this.async_settings;e.attributes.length&&e.attributes.forEach(function(e){e.status==t&&i._assign_attribute(n,e.attribute,e.value)})},_assign_attribute:function(e,t,n){if(!e||"string"!=typeof t||"string"!=typeof n)throw new Error("Invalid arguments. Expecting a DOM object, a string selector and a string value.");if("id"==t)e.id=n;else if("class"==t)n.startsWith("-")?e.classList.remove(n.substring(1)):e.classList.add(n);else{if(!t.startsWith("data-"))throw new Error('Selector must be id, class or "data-xxx" ');e.setAttribute(t,n)}},_handle_async_response:function(e){var t=this.async_settings;if(e.ok)return"page"==t.content_source?e.json():e.text();throw new Error("Network response was not ok")},_handle_async_data:function(e,t){var n,i,o,a=this.async_settings,r="",s=(this._check_async_attributes("success",t),a.content_source);a.load_on_iframe?(n="page"==s?e.link:a.url_source,(o=document.createElement("div")).className="async-iframe-wrapper",(i=document.createElement("iframe")).setAttribute("src",n),o.appendChild(i),r=o.outerHTML):(r="page"==s?e.content.rendered:e,n=a.cherry_pick_sections,i=a.cherry_picked_sections,n&&""!=i&&((o=document.createElement("div")).innerHTML=r,r="",o.querySelectorAll(i).forEach(function(e){r+=e.outerHTML}))),t.querySelector(".modal-content").innerHTML=r},_handle_async_error:function(e,t,n,i){this._check_async_attributes("error",n),i&&console.log(t,e)},_handle_callback_settings:function(){var e;"string"==typeof this.oce_settings.on_open&&""!==this.oce_settings.on_open.trim()&&"function"==typeof(e=new Function("return "+this.oce_settings.on_open)())&&this.oce_settings.on_open&&(M_instance_options.onOpenStart=e)},_create_the_M_instance:function(){var e=this.oce_settings,t=this.type,n=this.M_instance_options,i=this.offcanvas_element;"modal"!==t&&"bottom_sheet"!==t||(n.dismissible=e.dismissible,this.M_instance=M.Modal.init(i,n)),"sidenav"===t&&(n.edge=e.position,n.draggable=!1,this.M_instance=M.Sidenav.init(i,n))},_handle_styles:function(){var e=this.oce_settings,t=this.offcanvas_element,n=this.M_instance,i=this.type,t=(e.max_width&&(t.style.maxWidth=e.max_width+"px"),e.max_height&&(t.style.maxHeight=e.max_height+"px"),"sidenav"===i?n._overlay:n.$overlay[0]);e.overlay_color.use&&(t.style.backgroundColor=this._format_color(e.overlay_color.color,e.overlay_color.alpha))},_stringIsNumeric:function(e){return/^[0-9]+$/.test(e)},_format_padding_value:function(e){return this._stringIsNumeric(e)?e+"px":e},_format_color:function(e,t){var n=e;return n=100!=t?hexToRgba(e,t):n},_handle_trigger_events:function(){var i=this,o=this.offcanvas_element_id;this.trigger_events.forEach(function(e){switch(e.__type){case"click":i._handle_click_event(e);break;case"custom_event":i._handle_custom_event(e);break;case"scroll":var t=e.custom_cookie?e.cookie_name:o+"-shown",n="session"===(e.custom_cookie?e.storage_type:"session")?sessionStorage:localStorage;"basic"==e.settings_type&&i._handle_basic_scroll_event(e,n,t),"gsap"==e.settings_type&&MV23_GLOBALS.scrollAnimations&&i._handle_gsap_event(e,n,t);break;default:console.log("No trigger events assigned to offcanvas element with ID:"+o)}})},_handle_click_event:function(t){var n,i=this.type,o=this.offcanvas_element_id,a=this.M_instance,e=document.querySelectorAll(t.selector);e.length&&(n="bottom_sheet"!=i?i+"-trigger":"modal-trigger",e.forEach(function(e){e.classList.add(n),e.dataset.target=o,"sidenav"===i&&(a._openingTrigger=e)})),t.delegate_to_body&&document.body.addEventListener("click",function(e){e.target.closest(t.selector)&&(e.preventDefault(),a._openingTrigger=e.target,a.open($(e.target)))})},_handle_custom_event:function(e){var t=this.M_instance,n=e.event_source,e="custom"==n?e.event_name:e[n+"_event"];e&&$(document.body).on(e,function(){t.open()})},_handle_basic_scroll_event:function(e,t,n){var i=this.M_instance;e.custom_cookie||t.removeItem(n),$(window).scroll(function(){$(document).scrollTop()>e.scroll_top&&!t.getItem(n)&&(i.open(),t.setItem(n,"true"),e.cookie_expiration)&&setTimeout(function(){t.removeItem(n)},e.expiration_time)})},_handle_gsap_event:function(e,t,n){var i=this.M_instance,o=(e.custom_cookie||(n="_"+n),e.gsap_settings),a=document.querySelectorAll(o.trigger_element);if(a.length){gsap.registerPlugin(ScrollTrigger);for(var r="custom"!=o.start_at.hook?o.start_at.hook:o.start_at.custom_hook,s=o.add_indicators,l=0;l<a.length;l++){var c={trigger:a[l],start:r,onEnter:function(){e.custom_cookie&&t.getItem(n)||(i.open(),e.custom_cookie&&(t.setItem(n,"true"),e.cookie_expiration)&&setTimeout(function(){t.removeItem(n)},e.expiration_time))}};s&&(c.markers=!0),ScrollTrigger.create(c)}}},_handle_close_on_click_setting:function(){var t,e=this.oce_settings,n=this.offcanvas_element,i=this.type;!e.close_on_click&&1||(t="sidenav"===i?"sidenav-close":"modal-close",n.querySelectorAll("a").forEach(function(e){e.classList.add(t)}))}},i.create=function(e){e=new i(e);if("object"===_typeof(e.M_instance))return t.push(e),e},i.init=function(e){return e.forEach(function(e){i.create(e)}),t},i.getInstances=function(){return t},i.getElementById=function(t){var n=null;return t&&i.getInstances().forEach(function(e){e.offcanvas_element_id=="offcanvas-element-"+t&&(n=e)}),n},i}(),jQuery,console.log,document.addEventListener("DOMContentLoaded",function(){var n=this;OffCanvas_Elements.init(OFFCANVAS_ELEMENTS),document.querySelectorAll("[data-offcanvas-element]").forEach(function(e){var t=OffCanvas_Elements.getElementById(e.dataset.offcanvasElement);t&&e.addEventListener("click",function(e){e.preventDefault(),t.M_instance.open(n)})})}),function(s){var l=s("#post-modal"),c=l.find(".modal-content"),u=MV23_GLOBALS.headerHeight,h=MV23_GLOBALS.expanderHeight,d=MV23_GLOBALS.expanderResponseHeight,f=MV23_GLOBALS.expanderScrollDuration;s(document).on("click",".trigger-post-action",function(e){var t,n,i=s(this).parents(".postcard"),o=s(this).parents(".posts-listing"),a=this.getAttribute("href"),r=i.attr("data-action");"none"==r?e.preventDefault():("show-popup"==r&&(e.preventDefault(),s.ajax({url:a,beforeSend:function(){l.modal("open").attr("data-status","loading")},success:function(e){var t,n;l.attr("data-status",""),e&&(e=s(".main",e),t=s(e).find(".woocommerce-product-gallery").length,n=document.createElement("div"),t&&(n.className="woocommerce woocommerce-page woocommerce-js"),n.innerHTML=e.html(),c.html(n),t)&&(c.find(".woocommerce-product-gallery").css("opacity",1),c.find(".woocommerce-product-gallery").find("img").attr("class","zoom"))}})),"show-expander"==r&&(e.preventDefault(),t=i.attr("data-scroll-to"),n=o.hasClass("posts-listing--carrusel")?o:i,r=o.find(".postcard"),o.find(".expander").remove(),r.removeClass("active"),r.attr("style",""),s.ajax({url:a,beforeSend:function(){var e;i.addClass("active"),n.css("paddingBottom",h),n.append('<div class="expander"><div class="expander-inner"><div class="expander-response"></div><div class="expander-close"></div></div></div>'),n.find(".expander-response").css("height",d),n.find(".expander").append('<div class="expander-loading"></div>'),"postcard"!=t&&"expander"!=t||(e="postcard"==t?i:n.find(".expander"),s("html, body").animate({scrollTop:e.offset().top-u},{duration:f,queue:!1}))},success:function(e){var t=s(".main",e);e&&(n.find(".expander-loading").remove(),n.find(".expander-response").html(t.html()))}})))}),s(document).on("click",".expander-close",function(){var e=s(this).parents(".posts-listing"),t=(e.find(".expander").remove(),e.find(".postcard"));t.removeClass("active"),(e.hasClass("posts-listing--carrusel")?e:t).attr("style","")})}(jQuery,console.log),function(t){t(function(){function e(){var e=t(".content-layout.layout-grid");e.parent().width()<240?e.css("gap","10px"):e.css("gap","20px")}t(window).load(function(e){setTimeout(function(){t(".grecaptcha-badge").appendTo(".grecaptcha-badge-wrapper")},3500)}),t(".main-nav li a").each(function(){t(this).is('[href*="#"')&&t(this).parent().removeClass("current-menu-item current-menu-ancestor")}),t(".cover-all").parent().css("position","relative"),e(),t(window).resize(function(){e()})})}(jQuery,console.log),function(h){document.addEventListener("DOMContentLoaded",function(){var e=h("[data-scroll-animations]");if(MV23_GLOBALS.scrollAnimations&&0<e.length){gsap.registerPlugin(ScrollTrigger);for(var t=0;t<e.length;t++){var i=e[t],n=JSON.parse(i.dataset.scrollAnimations);0<n.length&&n.forEach(function(e){var n="this"!=e.trigger_element?h(i).find(e.trigger_element):i;if(e.initial_rules&&e.initial_rules.length&&e.initial_rules.forEach(function(e){var t=s(n,e[0]);(t.length||t instanceof Element)&&gsap.set(t,e[1])}),n.length)for(var t=0;t<n.length;t++)o(n[t],e);else o(n,e)}),i.removeAttribute("data-scroll-animations")}}function o(u,e){var t,n,i,o={trigger:u,start:e.start,toggleActions:e.toggle_actions,scrub:!1},a=(e.end&&(o.end=e.end),"+=0"!=e.end&&""!=e.end&&(o.scrub=!0),"1"==e.add_indicators&&(o.markers=!0),e.toggle_class&&(o.toggleClass=e.toggle_class),e.set_pin&&(i=(t=null)==(i=(n=e.pin_settings).push_followers)||i,"trigger_el"===n.pinned_el&&(t=u),t="selector"===n.pinned_el?n.selector:t)&&(o.pin=t,o.pinSpacing=i),e.trigger_carrusel&&(o.onUpdate=function(e){var t=u,n=e.progress,i=h(t).find(".carousel__slider");if(i.length)for(var o=0;o<i.length;o++){var a=h(i[o]).attr("data-tns-uid"),r=MV23_GLOBALS.carousels[a];if(r)for(var s,l=r.getInfo().slideCount,c=1;c<=l;c++)1/l*(c-1)<=n&&n<=1/l*c&&(s=c-1,r.goTo(s))}}),gsap.timeline({scrollTrigger:o}));e.timeline.length&&e.timeline.forEach(function(e){var t,n,i=s(u,e[0]);(i.length||i instanceof Element)&&(t=r(e[1]),n=r(e[2]),e=""!=e[3]?e[3]:"+=0",0<Object.keys(n).length&&0<Object.keys(t).length?a.fromTo(i,t,n,e):(0<Object.keys(t).length&&a.from(i,t,e),0<Object.keys(n).length&&a.to(i,n,e)))})}function r(e){var t;return e.hasOwnProperty("duration")&&(e.duration=parseFloat(e.duration)),e.hasOwnProperty("delay")&&(e.delay=parseFloat(e.delay)),e.hasOwnProperty("repeat")&&(e.repeat=parseInt(e.repeat)),e.hasOwnProperty("stagger")&&(t=e.stagger.split("|").reduce(function(e,t){var t=_slicedToArray(t.split(":"),2),n=t[0],t=t[1];return e[n]=isNaN(t)?t:Number(t),e},{}),e.stagger=t),e}function s(e,t){var n=null;switch(t.el){case"selector":n=h(e).find(t.selector);break;case"outer_selector":n=h(t.selector)[0];break;default:n=e}return n}})}(jQuery,console.log),function(t){t(function(){var e=parseInt(MV23_GLOBALS.headerHeight);t(".scrollspy").scrollSpy({activeClass:"is-inview",throttle:e})})}(jQuery,console.log),function(s){s(function(){for(var e=window.location.href.split("#")[0],t=s('a[href*="#"]'),n=0;n<t.length;n++){var i=s(t[n]).attr("href"),o=i.split("#")[1];i.split("#")[0]==e&&s(t[n]).attr("href","#"+o)}s('a[href^="#"]').click(function(e){e.preventDefault();var t,n,i,o,a,r,e=s(this).attr("href");"#!"!=e&&0<s(e).length&&(history.pushState({},null,e),t=new Event("mv23ReplaceState"),window.dispatchEvent(t),t=s(e).offset().top,i=0,n=window.getComputedStyle(document.body),"#content"!=e?(a=n.getPropertyValue("--sticky-header-height"),i=t-parseInt(a),a=0,r=s(e=e).parents(".v23-togglebox"),a=0<r.length&&(o=MV23_GLOBALS.maybeFixScrollPositionStyles,r=r.data("style"),o.includes(r))?s(e).closest(".v23-togglebox").find('.v23-togglebox__btn[data-boxid="'+e+'"]').outerHeight():a,i-=a):(o=n.getPropertyValue("--static-header-height"),i=t-parseInt(o)),s("html, body").animate({scrollTop:i},{duration:800,queue:!1}))})})}(jQuery,console.log),function(i){document.addEventListener("DOMContentLoaded",function(){var t=i("#testimonial-modal"),n=t.find(".modal-content");i(document).on("click",".testimonial__open",function(e){e.preventDefault();e=i(this).attr("data-id"),e=document.getElementById(e).cloneNode(!0);n.html(e),t.modal("open")})})}(jQuery,console.log),window.Theme_Navbars=function(){var n=[],i=MV23_GLOBALS.menu_breakpoint;function o(e){for(var t in this.el=e,this)"_"===t.charAt(0)&&"function"==typeof this[t]&&(this[t]=this[t].bind(this));this._handle_toggle_submenu_button(),e.classList.contains("horizontal-nav")&&this._handle_menu_item_with_children_mouseover()}return o.prototype={_handle_toggle_submenu_button:function(){for(var i=this,e=this.el.querySelectorAll("li.menu-item-has-children"),o=0;o<e.length;o++)!function(){var t=e[o],n=t.querySelector(":scope > .toggle-submenu");n.addEventListener("click",function(e){"true"===n.getAttribute("aria-expanded")||!1?(n.setAttribute("aria-expanded",!1),i._hide_submenu(t)):(n.setAttribute("aria-expanded",!0),i._show_submenu(t))})}()},_handle_menu_item_with_children_mouseover:function(){for(var n=this,e=this.el.querySelectorAll("li.menu-item-has-children"),i=0;i<e.length;i++)!function(){var t=e[i];t.addEventListener("mouseover",function(e){n._handle_mouse_event(e,t,n._show_submenu)}),t.addEventListener("mouseleave",function(e){n._handle_mouse_event(e,t,n._hide_submenu)})}()},_show_submenu:function(e){var t=e.getBoundingClientRect(),t=document.body.clientWidth-(t.x+180)<180?"open-from-right":"open-from-left",e=e.querySelector(":scope > .sub-menu");e.classList.add(t),e.style.display="block"},_hide_submenu:function(e){for(var t=e.querySelectorAll(".sub-menu"),n=0;n<t.length;n++){var i=t[n];i.classList.remove("open-from-right"),i.classList.remove("open-from-left"),i.style.display="none"}for(var o=e.querySelectorAll(".toggle-submenu"),a=0;a<t.length;a++)o[a].setAttribute("aria-expanded",!1)},_handle_mouse_event:function(e,t,n){(viewport=updateViewportDimensions()).width<i?(e.stopPropagation(),e.preventDefault()):n.call(this,t)}},o.create=function(e){e=new o(e);return e.el&&n.push(e),e},o.init=function(){for(var e=document.getElementsByClassName("menu-comp"),t=0;t<e.length;t++)o.create(e[t]);return n},o.getInstances=function(){return n},o}(),jQuery,console.log,document.addEventListener("DOMContentLoaded",function(){Theme_Navbars.init()}),function(r){document.addEventListener("DOMContentLoaded",function(){for(var e=document.querySelectorAll(".toggle-box"),a=MV23_GLOBALS.headerHeight,t=0;t<e.length;t++){var n=e[t].dataset.selector;if(n)for(var i=document.querySelectorAll(n),o=0;o<i.length;o++)i[o].style.display="none"}r("body").on("click",".toggle-box",function(e){var t=this.dataset.selector,n=this.dataset.scrollToBox;if(t){e.preventDefault();for(var i=document.querySelectorAll(t),o=0;o<i.length;o++)"none"===i[o].style.display||""===i[o].style.display?(r(this).parent().addClass("active"),r(i[o]).slideDown(function(){r(this).css("display","block")}),0!=n&&r("html, body").animate({scrollTop:r(i[o]).offset().top-a},{duration:800,queue:!1})):(r(this).parent().removeClass("active"),r(i[o]).slideUp())}})})}(jQuery,console.log),function(e){e(function(){for(var e=document.getElementsByClassName("v23-togglebox"),t=0;t<e.length;t++){var n=e[t],i={headerHeight:MV23_GLOBALS.headerHeight};V23_ToggleBox.create(n,i)}refreshScrollTriggerBreakpoints()})}(jQuery,console.log),function(t){t(function(){function e(){t(".cart-items-qty").remove(),t.ajax({url:MV23_GLOBALS.ajaxUrl,type:"POST",data:{action:"get_cart_quantity"},success:function(e){""!=e&&0!=e&&t(".show-cart-items-qty").append(' <span class="cart-items-qty">'+e+"</span>")}})}MV23_GLOBALS.woocommerce_is_active&&(t(".widget_product_categories .children").hide(),t('<button class="toggle-submenu"></button>').insertBefore(t(".widget_product_categories .children")),t(".widget_product_categories").on("click",".toggle-submenu",function(){t(this).parent().children(".children").slideToggle()}),e(),t(document.body).on("added_to_cart wc_fragments_refreshed wc_fragments_loaded",function(){e()}),MV23_GLOBALS.open_minicart_on_add_to_cart)&&t(document.body).on("added_to_cart",function(e,t,n,i){e=new Event("theme_open_minicart_on_product_added");document.body.dispatchEvent(e)})})}(jQuery,console.log),document.addEventListener("DOMContentLoaded",function(){var e=new CustomEvent("theme_document_ready");setTimeout(function(){document.body.dispatchEvent(e)},1)});