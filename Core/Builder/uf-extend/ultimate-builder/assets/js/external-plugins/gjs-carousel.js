/*! gjs-carousel - 1.0.8 */
!function(e,t){'object'==typeof exports&&'object'==typeof module?module.exports=t():'function'==typeof define&&define.amd?define([],t):'object'==typeof exports?exports["gjs-carousel"]=t():e["gjs-carousel"]=t()}('undefined'!=typeof globalThis?globalThis:'undefined'!=typeof window?window:this,()=>(()=>{"use strict";var e={d:(t,o)=>{for(var n in o)e.o(o,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:o[n]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{'undefined'!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:'Module'}),Object.defineProperty(e,'__esModule',{value:!0})}},t={};function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function n(e){var t=function(e,t){if("object"!=o(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var s=n.call(e,t||"default");if("object"!=o(s))return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==o(t)?t:t+""}function s(e,t,o){return(t=n(t))in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}e.r(t),e.d(t,{default:()=>g});const r=e=>{const t=e.DomComponents,o='carousel-wrapper';let n=e.getConfig();n.canvasCss=n.canvasCss||'',n.canvasCss+="\n        .carousel-item:empty{ flex-basis:150px }\n        .add-carousel-item{ display: block; margin: 10px auto; padding:5px 10px; font-size:11px; cursor:pointer; background:#ddd; border:1px solid #ccc; border-radius:3px; } \n        .add-carousel-item:hover{ background:#eee; }\n    ",e.canvasCss=n.canvasCss,t.addType(o,{isComponent:e=>e.classList&&e.classList.contains(o),model:{defaults:{name:'Carousel',tagName:'div',draggable:!0,droppable:!1,removable:!0,copyable:!0,selectable:!0,hoverable:!0,classes:[o,'component'],components:[{type:'carousel'}],contextMenu:function(e){let t=[],o=[];return o.push({type:'button',command:'add-item',label:'Add Item'}),t.push({type:'options',gap:30,options:[{type:'options',class:'column',options:o}]}),t}},onAddItem(){const e=this.findType('carousel')[0].components();2===e.length&&e.models.map(e=>{e.set({removable:!0})})}},view:{init(e){let{model:t}=e},onRender(t){let{el:o,model:n}=t;if(null!=window.wp){const t=e.getComponentDatastore(n);if(t){const e=o.querySelector('.carousel');e.classList.add('has-columns'),['desktop','laptop','tablet','mobile'].map(o=>{const n=t.get('items'),s=t.get('gutter'),r=o.charAt(0);e.style.setProperty("--".concat(r,"-columns"),n[o]),e.style.setProperty("--".concat(r,"-gap"),s[o]+'px')})}}const s=document.createElement("button");s.appendChild(document.createTextNode("Add Carousel Item")),s.classList='add-carousel-item',o.append(s)},events:{'click .add-carousel-item':"add_carousel_item"},add_carousel_item:function(){e.runCommand('add-item',{component:this.model})}}})},a=e=>{e.DomComponents.addType('carousel',{isComponent:e=>e.classList&&e.classList.contains('carousel'),model:{defaults:{name:'Carousel',tagName:'div',draggable:!1,droppable:!1,removable:!1,copyable:!1,selectable:!1,hoverable:!1,attributes:{class:'carousel'},components:[{type:'carousel-item'}]}},view:{onRender(e){let{el:t,model:o}=e;t.style.display='flex',t.style.flexWrap='nowrap',t.style.overflowX='auto'}}})},l=e=>{e.DomComponents.addType('carousel-item',{isComponent:e=>e.classList&&e.classList.contains('carousel-item'),model:{defaults:{name:'Carousel Item',tagName:'div',draggable:'.carousel',droppable:!0,removable:!1,copyable:!0,selectable:!0,hoverable:!0,attributes:{class:'carousel-item'},contextMenu:function(e){let t=[],o=[];return e.parent().components().length>1&&o.push({type:'button',command:'remove-item',label:'Delete Item',class:"danger"}),t.push({type:'options',gap:30,options:[{type:'options',class:'column',options:o}]}),t}}},view:{onRender(e){let{el:t,model:o}=e;void 0===window.wp?(t.style.minHeight='50px',t.style.padding='20px',t.style.margin='5px'):t.style.flexShrink='0'}}})},i=['.carousel-item','.carousel','.carousel-wrapper'],c=e=>{e.on('selector:add',e=>i.indexOf(e.getFullName())>=0&&e.set('private',1))},p=e=>{e.on('component:remove',e=>{if(e.is('carousel-item')){const t=e.parent().components();1==t.length&&t.models[0].set({removable:!1})}})},d=e=>{e.on('component:mount',e=>{if(e.is('carousel-item')){e.parent().components().models.map(e=>{e.set({removable:!0})})}if(e.is('carousel')){const t=e.components();1===t.length&&t.models[0].set({removable:!1})}})},m=e=>{e.add('add-item',function(e,t){let o=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).component,n='carousel-wrapper'==o.attributes.type?o:null;if(n){n.findType('carousel')[0].append({type:'carousel-item'}),n.onAddItem()}})},u=e=>{e.add('remove-item',function(e,t){let o=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).component,n=!0,s=o.components();1!=o.parent().components().length&&(s.length>0&&(n=confirm('Are you sure you want to remove this item? There are components inside')),n&&o.remove())})},b={'gjs-flip-box':{}};function y(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),o.push.apply(o,n)}return o}function f(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?y(Object(o),!0).forEach(function(t){s(e,t,o[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):y(Object(o)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))})}return e}const g=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const o=f(f({},{i18n:{}}),t);!function(e){[l,a,r].map(t=>t(e))}(e),function(e){e.on('load',(t,o)=>{e.BlockManager.add('Carousel',{media:null!=window.wp?'<i class="dashicons dashicons-slides"></i>':"<svg viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\" height=\"40\" width=\"40\">\n        <path d=\"M22 9.3c0-.8-.5-1.3-1.3-1.3H3.4C2.5 8 2 8.5 2 9.3v7.4c0 .8.5 1.3 1.3 1.3h17.4c.8 0 1.3-.5 1.3-1.3V9.3zM21 17H3V9h18v8z\" fill-rule=\"nonzero\"/><rect x=\"3\" y=\"5\" width=\"4\" height=\"2\" rx=\".5\"/><rect x=\"8\" y=\"5\" width=\"4\" height=\"2\" rx=\".5\"/><rect x=\"13\" y=\"5\" width=\"4\" height=\"2\" rx=\".5\"/>\n      </svg>",label:'Carousel',category:'Basic',content:{type:'carousel-wrapper'}})})}(e),(e=>{[c,p,d].map(t=>t(e))})(e),(e=>{const t=e.Commands;[m,u].map(e=>e(t))})(e),e.I18n&&e.I18n.addMessages(f({en:b},o.i18n))};return t})());
//# sourceMappingURL=index.js.map