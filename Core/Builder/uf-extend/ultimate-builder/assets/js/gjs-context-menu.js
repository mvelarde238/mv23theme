/*! gjs-context-menu - 1.0.122 */
!function(t,e){'object'==typeof exports&&'object'==typeof module?module.exports=e():'function'==typeof define&&define.amd?define([],e):'object'==typeof exports?exports["gjs-context-menu"]=e():t["gjs-context-menu"]=e()}('undefined'!=typeof globalThis?globalThis:'undefined'!=typeof window?window:this,(()=>(()=>{var t={316:(t,e,n)=>{var i,r;!function(o){var s='object'==typeof self&&self.self===self&&self||'object'==typeof n.g&&n.g.global===n.g&&n.g;if(1)i=[n(50),n(553),e],r=function(t,e,n){s.Backbone=function(t,e,n,i){var r=t.Backbone,o=Array.prototype.slice;e.VERSION='1.4.1',e.$=i,e.noConflict=function(){return t.Backbone=r,this},e.emulateHTTP=!1,e.emulateJSON=!1;var s,a=e.Events={},c=/\s+/,l=function(t,e,i,r,o){var s,a=0;if(i&&'object'==typeof i){void 0!==r&&'context'in o&&void 0===o.context&&(o.context=r);for(s=n.keys(i);a<s.length;a++)e=l(t,e,s[a],i[s[a]],o)}else if(i&&c.test(i))for(s=i.split(c);a<s.length;a++)e=t(e,s[a],r,o);else e=t(e,i,r,o);return e};a.on=function(t,e,n){(this._events=l(u,this._events||{},t,e,{context:n,ctx:this,listening:s}),s)&&((this._listeners||(this._listeners={}))[s.id]=s,s.interop=!1);return this},a.listenTo=function(t,e,i){if(!t)return this;var r=t._listenId||(t._listenId=n.uniqueId('l')),o=this._listeningTo||(this._listeningTo={}),a=s=o[r];a||(this._listenId||(this._listenId=n.uniqueId('l')),a=s=o[r]=new g(this,t));var c=h(t,e,i,this);if(s=void 0,c)throw c;return a.interop&&a.on(e,i),this};var u=function(t,e,n,i){if(n){var r=t[e]||(t[e]=[]),o=i.context,s=i.ctx,a=i.listening;a&&a.count++,r.push({callback:n,context:o,ctx:o||s,listening:a})}return t},h=function(t,e,n,i){try{t.on(e,n,i)}catch(t){return t}};a.off=function(t,e,n){return this._events?(this._events=l(f,this._events,t,e,{context:n,listeners:this._listeners}),this):this},a.stopListening=function(t,e,i){var r=this._listeningTo;if(!r)return this;for(var o=t?[t._listenId]:n.keys(r),s=0;s<o.length;s++){var a=r[o[s]];if(!a)break;a.obj.off(e,i,this),a.interop&&a.off(e,i)}return n.isEmpty(r)&&(this._listeningTo=void 0),this};var f=function(t,e,i,r){if(t){var o,s=r.context,a=r.listeners,c=0;if(e||s||i){for(o=e?[e]:n.keys(t);c<o.length;c++){var l=t[e=o[c]];if(!l)break;for(var u=[],h=0;h<l.length;h++){var f=l[h];if(i&&i!==f.callback&&i!==f.callback._callback||s&&s!==f.context)u.push(f);else{var d=f.listening;d&&d.off(e,i)}}u.length?t[e]=u:delete t[e]}return t}for(o=n.keys(a);c<o.length;c++)a[o[c]].cleanup()}};a.once=function(t,e,n){var i=l(d,{},t,e,this.off.bind(this));return'string'==typeof t&&null==n&&(e=void 0),this.on(i,e,n)},a.listenToOnce=function(t,e,n){var i=l(d,{},e,n,this.stopListening.bind(this,t));return this.listenTo(t,i)};var d=function(t,e,i,r){if(i){var o=t[e]=n.once((function(){r(e,o),i.apply(this,arguments)}));o._callback=i}return t};a.trigger=function(t){if(!this._events)return this;for(var e=Math.max(0,arguments.length-1),n=Array(e),i=0;i<e;i++)n[i]=arguments[i+1];return l(p,this._events,t,void 0,n),this};var p=function(t,e,n,i){if(t){var r=t[e],o=t.all;r&&o&&(o=o.slice()),r&&m(r,i),o&&m(o,[e].concat(i))}return t},m=function(t,e){var n,i=-1,r=t.length,o=e[0],s=e[1],a=e[2];switch(e.length){case 0:for(;++i<r;)(n=t[i]).callback.call(n.ctx);return;case 1:for(;++i<r;)(n=t[i]).callback.call(n.ctx,o);return;case 2:for(;++i<r;)(n=t[i]).callback.call(n.ctx,o,s);return;case 3:for(;++i<r;)(n=t[i]).callback.call(n.ctx,o,s,a);return;default:for(;++i<r;)(n=t[i]).callback.apply(n.ctx,e);return}},g=function(t,e){this.id=t._listenId,this.listener=t,this.obj=e,this.interop=!0,this.count=0,this._events=void 0};g.prototype.on=a.on,g.prototype.off=function(t,e){var n;this.interop?(this._events=l(f,this._events,t,e,{context:void 0,listeners:void 0}),n=!this._events):(this.count--,n=0===this.count),n&&this.cleanup()},g.prototype.cleanup=function(){delete this.listener._listeningTo[this.obj._listenId],this.interop||delete this.obj._listeners[this.id]},a.bind=a.on,a.unbind=a.off,n.extend(e,a);var v=e.Model=function(t,e){var i=t||{};e||(e={}),this.preinitialize.apply(this,arguments),this.cid=n.uniqueId(this.cidPrefix),this.attributes={},e.collection&&(this.collection=e.collection),e.parse&&(i=this.parse(i,e)||{});var r=n.result(this,'defaults');i=n.defaults(n.extend({},r,i),r),this.set(i,e),this.changed={},this.initialize.apply(this,arguments)};n.extend(v.prototype,a,{changed:null,validationError:null,idAttribute:'id',cidPrefix:'c',preinitialize:function(){},initialize:function(){},toJSON:function(t){return n.clone(this.attributes)},sync:function(){return e.sync.apply(this,arguments)},get:function(t){return this.attributes[t]},escape:function(t){return n.escape(this.get(t))},has:function(t){return null!=this.get(t)},matches:function(t){return!!n.iteratee(t,this)(this.attributes)},set:function(t,e,i){if(null==t)return this;var r;if('object'==typeof t?(r=t,i=e):(r={})[t]=e,i||(i={}),!this._validate(r,i))return!1;var o=i.unset,s=i.silent,a=[],c=this._changing;this._changing=!0,c||(this._previousAttributes=n.clone(this.attributes),this.changed={});var l=this.attributes,u=this.changed,h=this._previousAttributes;for(var f in r)e=r[f],n.isEqual(l[f],e)||a.push(f),n.isEqual(h[f],e)?delete u[f]:u[f]=e,o?delete l[f]:l[f]=e;if(this.idAttribute in r){var d=this.id;this.id=this.get(this.idAttribute),this.trigger('changeId',this,d,i)}if(!s){a.length&&(this._pending=i);for(var p=0;p<a.length;p++)this.trigger('change:'+a[p],this,l[a[p]],i)}if(c)return this;if(!s)for(;this._pending;)i=this._pending,this._pending=!1,this.trigger('change',this,i);return this._pending=!1,this._changing=!1,this},unset:function(t,e){return this.set(t,void 0,n.extend({},e,{unset:!0}))},clear:function(t){var e={};for(var i in this.attributes)e[i]=void 0;return this.set(e,n.extend({},t,{unset:!0}))},hasChanged:function(t){return null==t?!n.isEmpty(this.changed):n.has(this.changed,t)},changedAttributes:function(t){if(!t)return!!this.hasChanged()&&n.clone(this.changed);var e,i=this._changing?this._previousAttributes:this.attributes,r={};for(var o in t){var s=t[o];n.isEqual(i[o],s)||(r[o]=s,e=!0)}return!!e&&r},previous:function(t){return null!=t&&this._previousAttributes?this._previousAttributes[t]:null},previousAttributes:function(){return n.clone(this._previousAttributes)},fetch:function(t){t=n.extend({parse:!0},t);var e=this,i=t.success;return t.success=function(n){var r=t.parse?e.parse(n,t):n;if(!e.set(r,t))return!1;i&&i.call(t.context,e,n,t),e.trigger('sync',e,n,t)},X(this,t),this.sync('read',this,t)},save:function(t,e,i){var r;null==t||'object'==typeof t?(r=t,i=e):(r={})[t]=e;var o=(i=n.extend({validate:!0,parse:!0},i)).wait;if(r&&!o){if(!this.set(r,i))return!1}else if(!this._validate(r,i))return!1;var s=this,a=i.success,c=this.attributes;i.success=function(t){s.attributes=c;var e=i.parse?s.parse(t,i):t;if(o&&(e=n.extend({},r,e)),e&&!s.set(e,i))return!1;a&&a.call(i.context,s,t,i),s.trigger('sync',s,t,i)},X(this,i),r&&o&&(this.attributes=n.extend({},c,r));var l=this.isNew()?'create':i.patch?'patch':'update';'patch'!==l||i.attrs||(i.attrs=r);var u=this.sync(l,this,i);return this.attributes=c,u},destroy:function(t){t=t?n.clone(t):{};var e=this,i=t.success,r=t.wait,o=function(){e.stopListening(),e.trigger('destroy',e,e.collection,t)};t.success=function(n){r&&o(),i&&i.call(t.context,e,n,t),e.isNew()||e.trigger('sync',e,n,t)};var s=!1;return this.isNew()?n.defer(t.success):(X(this,t),s=this.sync('delete',this,t)),r||o(),s},url:function(){var t=n.result(this,'urlRoot')||n.result(this.collection,'url')||q();if(this.isNew())return t;var e=this.get(this.idAttribute);return t.replace(/[^\/]$/,'$&/')+encodeURIComponent(e)},parse:function(t,e){return t},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(t){return this._validate({},n.extend({},t,{validate:!0}))},_validate:function(t,e){if(!e.validate||!this.validate)return!0;t=n.extend({},this.attributes,t);var i=this.validationError=this.validate(t,e)||null;return!i||(this.trigger('invalid',this,i,n.extend(e,{validationError:i})),!1)}});var y=e.Collection=function(t,e){e||(e={}),this.preinitialize.apply(this,arguments),e.model&&(this.model=e.model),void 0!==e.comparator&&(this.comparator=e.comparator),this._reset(),this.initialize.apply(this,arguments),t&&this.reset(t,n.extend({silent:!0},e))},b={add:!0,remove:!0,merge:!0},x={add:!0,remove:!1},_=function(t,e,n){n=Math.min(Math.max(n,0),t.length);var i,r=Array(t.length-n),o=e.length;for(i=0;i<r.length;i++)r[i]=t[i+n];for(i=0;i<o;i++)t[i+n]=e[i];for(i=0;i<r.length;i++)t[i+o+n]=r[i]};n.extend(y.prototype,a,{model:v,preinitialize:function(){},initialize:function(){},toJSON:function(t){return this.map((function(e){return e.toJSON(t)}))},sync:function(){return e.sync.apply(this,arguments)},add:function(t,e){return this.set(t,n.extend({merge:!1},e,x))},remove:function(t,e){e=n.extend({},e);var i=!n.isArray(t);t=i?[t]:t.slice();var r=this._removeModels(t,e);return!e.silent&&r.length&&(e.changes={added:[],merged:[],removed:r},this.trigger('update',this,e)),i?r[0]:r},set:function(t,e){if(null!=t){(e=n.extend({},b,e)).parse&&!this._isModel(t)&&(t=this.parse(t,e)||[]);var i=!n.isArray(t);t=i?[t]:t.slice();var r=e.at;null!=r&&(r=+r),r>this.length&&(r=this.length),r<0&&(r+=this.length+1);var o,s,a=[],c=[],l=[],u=[],h={},f=e.add,d=e.merge,p=e.remove,m=!1,g=this.comparator&&null==r&&!1!==e.sort,v=n.isString(this.comparator)?this.comparator:null;for(s=0;s<t.length;s++){o=t[s];var y=this.get(o);if(y){if(d&&o!==y){var x=this._isModel(o)?o.attributes:o;e.parse&&(x=y.parse(x,e)),y.set(x,e),l.push(y),g&&!m&&(m=y.hasChanged(v))}h[y.cid]||(h[y.cid]=!0,a.push(y)),t[s]=y}else f&&(o=t[s]=this._prepareModel(o,e))&&(c.push(o),this._addReference(o,e),h[o.cid]=!0,a.push(o))}if(p){for(s=0;s<this.length;s++)h[(o=this.models[s]).cid]||u.push(o);u.length&&this._removeModels(u,e)}var w=!1,E=!g&&f&&p;if(a.length&&E?(w=this.length!==a.length||n.some(this.models,(function(t,e){return t!==a[e]})),this.models.length=0,_(this.models,a,0),this.length=this.models.length):c.length&&(g&&(m=!0),_(this.models,c,null==r?this.length:r),this.length=this.models.length),m&&this.sort({silent:!0}),!e.silent){for(s=0;s<c.length;s++)null!=r&&(e.index=r+s),(o=c[s]).trigger('add',o,this,e);(m||w)&&this.trigger('sort',this,e),(c.length||u.length||l.length)&&(e.changes={added:c,removed:u,merged:l},this.trigger('update',this,e))}return i?t[0]:t}},reset:function(t,e){e=e?n.clone(e):{};for(var i=0;i<this.models.length;i++)this._removeReference(this.models[i],e);return e.previousModels=this.models,this._reset(),t=this.add(t,n.extend({silent:!0},e)),e.silent||this.trigger('reset',this,e),t},push:function(t,e){return this.add(t,n.extend({at:this.length},e))},pop:function(t){var e=this.at(this.length-1);return this.remove(e,t)},unshift:function(t,e){return this.add(t,n.extend({at:0},e))},shift:function(t){var e=this.at(0);return this.remove(e,t)},slice:function(){return o.apply(this.models,arguments)},get:function(t){if(null!=t)return this._byId[t]||this._byId[this.modelId(this._isModel(t)?t.attributes:t,t.idAttribute)]||t.cid&&this._byId[t.cid]},has:function(t){return null!=this.get(t)},at:function(t){return t<0&&(t+=this.length),this.models[t]},where:function(t,e){return this[e?'find':'filter'](t)},findWhere:function(t){return this.where(t,!0)},sort:function(t){var e=this.comparator;if(!e)throw new Error('Cannot sort a set without a comparator');t||(t={});var i=e.length;return n.isFunction(e)&&(e=e.bind(this)),1===i||n.isString(e)?this.models=this.sortBy(e):this.models.sort(e),t.silent||this.trigger('sort',this,t),this},pluck:function(t){return this.map(t+'')},fetch:function(t){var e=(t=n.extend({parse:!0},t)).success,i=this;return t.success=function(n){var r=t.reset?'reset':'set';i[r](n,t),e&&e.call(t.context,i,n,t),i.trigger('sync',i,n,t)},X(this,t),this.sync('read',this,t)},create:function(t,e){var i=(e=e?n.clone(e):{}).wait;if(!(t=this._prepareModel(t,e)))return!1;i||this.add(t,e);var r=this,o=e.success;return e.success=function(t,e,n){i&&r.add(t,n),o&&o.call(n.context,t,e,n)},t.save(null,e),t},parse:function(t,e){return t},clone:function(){return new this.constructor(this.models,{model:this.model,comparator:this.comparator})},modelId:function(t,e){return t[e||this.model.prototype.idAttribute||'id']},values:function(){return new E(this,S)},keys:function(){return new E(this,C)},entries:function(){return new E(this,P)},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(t,e){return this._isModel(t)?(t.collection||(t.collection=this),t):((e=e?n.clone(e):{}).collection=this,(i=this.model.prototype?new this.model(t,e):this.model(t,e)).validationError?(this.trigger('invalid',this,i.validationError,e),!1):i);var i},_removeModels:function(t,e){for(var n=[],i=0;i<t.length;i++){var r=this.get(t[i]);if(r){var o=this.indexOf(r);this.models.splice(o,1),this.length--,delete this._byId[r.cid];var s=this.modelId(r.attributes,r.idAttribute);null!=s&&delete this._byId[s],e.silent||(e.index=o,r.trigger('remove',r,this,e)),n.push(r),this._removeReference(r,e)}}return n},_isModel:function(t){return t instanceof v},_addReference:function(t,e){this._byId[t.cid]=t;var n=this.modelId(t.attributes,t.idAttribute);null!=n&&(this._byId[n]=t),t.on('all',this._onModelEvent,this)},_removeReference:function(t,e){delete this._byId[t.cid];var n=this.modelId(t.attributes,t.idAttribute);null!=n&&delete this._byId[n],this===t.collection&&delete t.collection,t.off('all',this._onModelEvent,this)},_onModelEvent:function(t,e,n,i){if(e){if(('add'===t||'remove'===t)&&n!==this)return;if('destroy'===t&&this.remove(e,i),'changeId'===t){var r=this.modelId(e.previousAttributes(),e.idAttribute),o=this.modelId(e.attributes,e.idAttribute);null!=r&&delete this._byId[r],null!=o&&(this._byId[o]=e)}}this.trigger.apply(this,arguments)}});var w='function'==typeof Symbol&&Symbol.iterator;w&&(y.prototype[w]=y.prototype.values);var E=function(t,e){this._collection=t,this._kind=e,this._index=0},S=1,C=2,P=3;w&&(E.prototype[w]=function(){return this});E.prototype.next=function(){if(this._collection){if(this._index<this._collection.length){var t,e=this._collection.at(this._index);if(this._index++,this._kind===S)t=e;else{var n=this._collection.modelId(e.attributes,e.idAttribute);t=this._kind===C?n:[n,e]}return{value:t,done:!1}}this._collection=void 0}return{value:void 0,done:!0}};var M=e.View=function(t){this.cid=n.uniqueId('view'),this.preinitialize.apply(this,arguments),n.extend(this,n.pick(t,A)),this._ensureElement(),this.initialize.apply(this,arguments)},O=/^(\S+)\s*(.*)$/,A=['model','collection','el','id','attributes','className','tagName','events'];n.extend(M.prototype,a,{tagName:'div',$:function(t){return this.$el.find(t)},preinitialize:function(){},initialize:function(){},render:function(){return this},remove:function(){return this._removeElement(),this.stopListening(),this},_removeElement:function(){this.$el.remove()},setElement:function(t){return this.undelegateEvents(),this._setElement(t),this.delegateEvents(),this},_setElement:function(t){this.$el=t instanceof e.$?t:e.$(t),this.el=this.$el[0]},delegateEvents:function(t){if(t||(t=n.result(this,'events')),!t)return this;for(var e in this.undelegateEvents(),t){var i=t[e];if(n.isFunction(i)||(i=this[i]),i){var r=e.match(O);this.delegate(r[1],r[2],i.bind(this))}}return this},delegate:function(t,e,n){return this.$el.on(t+'.delegateEvents'+this.cid,e,n),this},undelegateEvents:function(){return this.$el&&this.$el.off('.delegateEvents'+this.cid),this},undelegate:function(t,e,n){return this.$el.off(t+'.delegateEvents'+this.cid,e,n),this},_createElement:function(t){return document.createElement(t)},_ensureElement:function(){if(this.el)this.setElement(n.result(this,'el'));else{var t=n.extend({},n.result(this,'attributes'));this.id&&(t.id=n.result(this,'id')),this.className&&(t['class']=n.result(this,'className')),this.setElement(this._createElement(n.result(this,'tagName'))),this._setAttributes(t)}},_setAttributes:function(t){this.$el.attr(t)}});var k=function(t,e,n,i){switch(e){case 1:return function(){return t[n](this[i])};case 2:return function(e){return t[n](this[i],e)};case 3:return function(e,r){return t[n](this[i],T(e,this),r)};case 4:return function(e,r,o){return t[n](this[i],T(e,this),r,o)};default:return function(){var e=o.call(arguments);return e.unshift(this[i]),t[n].apply(t,e)}}},N=function(t,e,i,r){n.each(i,(function(n,i){e[i]&&(t.prototype[i]=k(e,n,i,r))}))},T=function(t,e){return n.isFunction(t)?t:n.isObject(t)&&!e._isModel(t)?j(t):n.isString(t)?function(e){return e.get(t)}:t},j=function(t){var e=n.matches(t);return function(t){return e(t.attributes)}},I={forEach:3,each:3,map:3,collect:3,reduce:0,foldl:0,inject:0,reduceRight:0,foldr:0,find:3,detect:3,filter:3,select:3,reject:3,every:3,all:3,some:3,any:3,include:3,includes:3,contains:3,invoke:0,max:3,min:3,toArray:1,size:1,first:3,head:3,take:3,initial:3,rest:3,tail:3,drop:3,last:3,without:0,difference:0,indexOf:3,shuffle:1,lastIndexOf:3,isEmpty:1,chain:1,sample:3,partition:3,groupBy:3,countBy:3,sortBy:3,indexBy:3,findIndex:3,findLastIndex:3},D={keys:1,values:1,pairs:1,invert:1,pick:0,omit:0,chain:1,isEmpty:1};n.each([[y,I,'models'],[v,D,'attributes']],(function(t){var e=t[0],i=t[1],r=t[2];e.mixin=function(t){var i=n.reduce(n.functions(t),(function(t,e){return t[e]=0,t}),{});N(e,t,i,r)},N(e,n,i,r)})),e.sync=function(t,i,r){var o=L[t];n.defaults(r||(r={}),{emulateHTTP:e.emulateHTTP,emulateJSON:e.emulateJSON});var s={type:o,dataType:'json'};if(r.url||(s.url=n.result(i,'url')||q()),null!=r.data||!i||'create'!==t&&'update'!==t&&'patch'!==t||(s.contentType='application/json',s.data=JSON.stringify(r.attrs||i.toJSON(r))),r.emulateJSON&&(s.contentType='application/x-www-form-urlencoded',s.data=s.data?{model:s.data}:{}),r.emulateHTTP&&('PUT'===o||'DELETE'===o||'PATCH'===o)){s.type='POST',r.emulateJSON&&(s.data._method=o);var a=r.beforeSend;r.beforeSend=function(t){if(t.setRequestHeader('X-HTTP-Method-Override',o),a)return a.apply(this,arguments)}}'GET'===s.type||r.emulateJSON||(s.processData=!1);var c=r.error;r.error=function(t,e,n){r.textStatus=e,r.errorThrown=n,c&&c.call(r.context,t,e,n)};var l=r.xhr=e.ajax(n.extend(s,r));return i.trigger('request',i,l,r),l};var L={create:'POST',update:'PUT',patch:'PATCH',delete:'DELETE',read:'GET'};e.ajax=function(){return e.$.ajax.apply(e.$,arguments)};var R=e.Router=function(t){t||(t={}),this.preinitialize.apply(this,arguments),t.routes&&(this.routes=t.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},B=/\((.*?)\)/g,H=/(\(\?)?:\w+/g,$=/\*\w+/g,z=/[\-{}\[\]+?.,\\\^$|#\s]/g;n.extend(R.prototype,a,{preinitialize:function(){},initialize:function(){},route:function(t,i,r){n.isRegExp(t)||(t=this._routeToRegExp(t)),n.isFunction(i)&&(r=i,i=''),r||(r=this[i]);var o=this;return e.history.route(t,(function(n){var s=o._extractParameters(t,n);!1!==o.execute(r,s,i)&&(o.trigger.apply(o,['route:'+i].concat(s)),o.trigger('route',i,s),e.history.trigger('route',o,i,s))})),this},execute:function(t,e,n){t&&t.apply(this,e)},navigate:function(t,n){return e.history.navigate(t,n),this},_bindRoutes:function(){if(this.routes){this.routes=n.result(this,'routes');for(var t,e=n.keys(this.routes);null!=(t=e.pop());)this.route(t,this.routes[t])}},_routeToRegExp:function(t){return t=t.replace(z,'\\$&').replace(B,'(?:$1)?').replace(H,(function(t,e){return e?t:'([^/?]+)'})).replace($,'([^?]*?)'),new RegExp('^'+t+'(?:\\?([\\s\\S]*))?$')},_extractParameters:function(t,e){var i=t.exec(e).slice(1);return n.map(i,(function(t,e){return e===i.length-1?t||null:t?decodeURIComponent(t):null}))}});var W=e.History=function(){this.handlers=[],this.checkUrl=this.checkUrl.bind(this),'undefined'!=typeof window&&(this.location=window.location,this.history=window.history)},U=/^[#\/]|\s+$/g,F=/^\/+|\/+$/g,J=/#.*$/;W.started=!1,n.extend(W.prototype,a,{interval:50,atRoot:function(){return this.location.pathname.replace(/[^\/]$/,'$&/')===this.root&&!this.getSearch()},matchRoot:function(){return this.decodeFragment(this.location.pathname).slice(0,this.root.length-1)+'/'===this.root},decodeFragment:function(t){return decodeURI(t.replace(/%25/g,'%2525'))},getSearch:function(){var t=this.location.href.replace(/#.*/,'').match(/\?.+/);return t?t[0]:''},getHash:function(t){var e=(t||this).location.href.match(/#(.*)$/);return e?e[1]:''},getPath:function(){var t=this.decodeFragment(this.location.pathname+this.getSearch()).slice(this.root.length-1);return'/'===t.charAt(0)?t.slice(1):t},getFragment:function(t){return null==t&&(t=this._usePushState||!this._wantsHashChange?this.getPath():this.getHash()),t.replace(U,'')},start:function(t){if(W.started)throw new Error('Backbone.history has already been started');if(W.started=!0,this.options=n.extend({root:'/'},this.options,t),this.root=this.options.root,this._wantsHashChange=!1!==this.options.hashChange,this._hasHashChange='onhashchange'in window&&(void 0===document.documentMode||document.documentMode>7),this._useHashChange=this._wantsHashChange&&this._hasHashChange,this._wantsPushState=!!this.options.pushState,this._hasPushState=!(!this.history||!this.history.pushState),this._usePushState=this._wantsPushState&&this._hasPushState,this.fragment=this.getFragment(),this.root=('/'+this.root+'/').replace(F,'/'),this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot()){var e=this.root.slice(0,-1)||'/';return this.location.replace(e+'#'+this.getPath()),!0}this._hasPushState&&this.atRoot()&&this.navigate(this.getHash(),{replace:!0})}if(!this._hasHashChange&&this._wantsHashChange&&!this._usePushState){this.iframe=document.createElement('iframe'),this.iframe.src='javascript:0',this.iframe.style.display='none',this.iframe.tabIndex=-1;var i=document.body,r=i.insertBefore(this.iframe,i.firstChild).contentWindow;r.document.open(),r.document.close(),r.location.hash='#'+this.fragment}var o=window.addEventListener||function(t,e){return attachEvent('on'+t,e)};if(this._usePushState?o('popstate',this.checkUrl,!1):this._useHashChange&&!this.iframe?o('hashchange',this.checkUrl,!1):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),!this.options.silent)return this.loadUrl()},stop:function(){var t=window.removeEventListener||function(t,e){return detachEvent('on'+t,e)};this._usePushState?t('popstate',this.checkUrl,!1):this._useHashChange&&!this.iframe&&t('hashchange',this.checkUrl,!1),this.iframe&&(document.body.removeChild(this.iframe),this.iframe=null),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),W.started=!1},route:function(t,e){this.handlers.unshift({route:t,callback:e})},checkUrl:function(t){var e=this.getFragment();if(e===this.fragment&&this.iframe&&(e=this.getHash(this.iframe.contentWindow)),e===this.fragment)return!1;this.iframe&&this.navigate(e),this.loadUrl()},loadUrl:function(t){return!!this.matchRoot()&&(t=this.fragment=this.getFragment(t),n.some(this.handlers,(function(e){if(e.route.test(t))return e.callback(t),!0})))},navigate:function(t,e){if(!W.started)return!1;e&&!0!==e||(e={trigger:!!e}),t=this.getFragment(t||'');var n=this.root;''!==t&&'?'!==t.charAt(0)||(n=n.slice(0,-1)||'/');var i=n+t;t=t.replace(J,'');var r=this.decodeFragment(t);if(this.fragment!==r){if(this.fragment=r,this._usePushState)this.history[e.replace?'replaceState':'pushState']({},document.title,i);else{if(!this._wantsHashChange)return this.location.assign(i);if(this._updateHash(this.location,t,e.replace),this.iframe&&t!==this.getHash(this.iframe.contentWindow)){var o=this.iframe.contentWindow;e.replace||(o.document.open(),o.document.close()),this._updateHash(o.location,t,e.replace)}}return e.trigger?this.loadUrl(t):void 0}},_updateHash:function(t,e,n){if(n){var i=t.href.replace(/(javascript:|#).*$/,'');t.replace(i+'#'+e)}else t.hash='#'+e}}),e.history=new W;var V=function(t,e){var i,r=this;return i=t&&n.has(t,'constructor')?t.constructor:function(){return r.apply(this,arguments)},n.extend(i,r,e),i.prototype=n.create(r.prototype,t),i.prototype.constructor=i,i.__super__=r.prototype,i};v.extend=y.extend=R.extend=M.extend=W.extend=V;var q=function(){throw new Error('A "url" property or function must be specified')},X=function(t,e){var n=e.error;e.error=function(i){n&&n.call(e.context,t,i,e),t.trigger('error',t,i,e)}};return e}(s,n,t,e)}.apply(e,i),void 0===r||(t.exports=r);else;}()},553:t=>{!function(){"use strict";var e={class:'className',contenteditable:'contentEditable',for:'htmlFor',readonly:'readOnly',maxlength:'maxLength',tabindex:'tabIndex',colspan:'colSpan',rowspan:'rowSpan',usemap:'useMap'};function n(t,e){try{return t(e)}catch(t){return e}}var i=document,r=window,o=i.documentElement,s=i.createElement.bind(i),a=s('div'),c=s('table'),l=s('tbody'),u=s('tr'),h=Array.isArray,f=Array.prototype,d=f.concat,p=f.filter,m=f.indexOf,g=f.map,v=f.push,y=f.slice,b=f.some,x=f.splice,_=/^#(?:[\w-]|\\.|[^\x00-\xa0])*$/,w=/^\.(?:[\w-]|\\.|[^\x00-\xa0])*$/,E=/<.+>/,S=/^\w+$/;function C(t,e){var n,i=!!(n=e)&&11===n.nodeType;return t&&(i||I(e)||D(e))?!i&&w.test(t)?e.getElementsByClassName(t.slice(1)):!i&&S.test(t)?e.getElementsByTagName(t):e.querySelectorAll(t):[]}var P=function(){function t(t,e){if(t){if(T(t))return t;var n=t;if(R(t)){var o=(T(e)?e[0]:e)||i;if(!(n=_.test(t)&&'getElementById'in o?o.getElementById(t.slice(1)):E.test(t)?kt(t):C(t,o)))return}else if(L(t))return this.ready(t);(n.nodeType||n===r)&&(n=[n]),this.length=n.length;for(var s=0,a=this.length;s<a;s++)this[s]=n[s]}}return t.prototype.init=function(e,n){return new t(e,n)},t}(),M=P.prototype,O=M.init;O.fn=O.prototype=M,M.length=0,M.splice=x,'function'==typeof Symbol&&(M[Symbol['iterator']]=f[Symbol['iterator']]),M.map=function(t){return O(d.apply([],g.call(this,(function(e,n){return t.call(e,n,e)}))))},M.slice=function(t,e){return O(y.call(this,t,e))};var A=/-([a-z])/g;function k(t){return t.replace(A,(function(t,e){return e.toUpperCase()}))}function N(t,e){var n=t&&(t['matches']||t['webkitMatchesSelector']||t['msMatchesSelector']);return!!n&&!!e&&n.call(t,e)}function T(t){return t instanceof P}function j(t){return!!t&&t===t.window}function I(t){return!!t&&9===t.nodeType}function D(t){return!!t&&1===t.nodeType}function L(t){return'function'==typeof t}function R(t){return'string'==typeof t}function B(t){return void 0===t}function H(t){return null===t}function $(t){return!isNaN(parseFloat(t))&&isFinite(t)}function z(t){if('object'!=typeof t||null===t)return!1;var e=Object.getPrototypeOf(t);return null===e||e===Object.prototype}function W(t,e,n){if(n){for(var i=t.length;i--;)if(!1===e.call(t[i],i,t[i]))return t}else if(z(t))for(var r=Object.keys(t),o=(i=0,r.length);i<o;i++){var s=r[i];if(!1===e.call(t[s],s,t[s]))return t}else for(i=0,o=t.length;i<o;i++)if(!1===e.call(t[i],i,t[i]))return t;return t}function U(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n='boolean'==typeof t[0]&&t.shift(),i=t.shift(),r=t.length;if(!i)return{};if(!r)return U(n,O,i);for(var o=0;o<r;o++){var s=t[o];for(var a in s)n&&(h(s[a])||z(s[a]))?(i[a]&&i[a].constructor===s[a].constructor||(i[a]=new s[a].constructor),U(n,i[a],s[a])):i[a]=s[a]}return i}function F(t){return R(t)?function(e,n){return N(n,t)}:L(t)?t:T(t)?function(e,n){return t.is(n)}:t?function(e,n){return n===t}:function(){return!1}}function J(t,e){return e?t.filter(e):t}O.guid=1,O.isWindow=j,O.isFunction=L,O.isArray=h,O.isNumeric=$,O.isPlainObject=z,M.get=function(t){return B(t)?y.call(this):this[(t=Number(t))<0?t+this.length:t]},M.eq=function(t){return O(this.get(t))},M.first=function(){return this.eq(0)},M.last=function(){return this.eq(-1)},O.each=W,M.each=function(t){return W(this,t)},M.prop=function(t,n){if(t){if(R(t))return t=e[t]||t,arguments.length<2?this[0]&&this[0][t]:this.each((function(e,i){i[t]=n}));for(var i in t)this.prop(i,t[i]);return this}},M.removeProp=function(t){return this.each((function(n,i){delete i[e[t]||t]}))},O.extend=U,M.extend=function(t){return U(M,t)},M.filter=function(t){var e=F(t);return O(p.call(this,(function(t,n){return e.call(t,n,t)})))};var V=/\S+/g;function q(t){return R(t)&&t.match(V)||[]}function X(t,e,n,i){for(var r=[],o=L(e),s=i&&F(i),a=0,c=t.length;a<c;a++)if(o){var l=e(t[a]);l.length&&v.apply(r,l)}else for(var u=t[a][e];!(null==u||i&&s(-1,u));)r.push(u),u=n?u[e]:null;return r}function G(t){return t.length>1?p.call(t,(function(t,e,n){return m.call(n,t)===e})):t}function Y(t,e,n){if(D(t)){var i=r.getComputedStyle(t,null);return n?i.getPropertyValue(e)||void 0:i[e]||t.style[e]}}function K(t,e){return parseInt(Y(t,e),10)||0}M.hasClass=function(t){return!!t&&b.call(this,(function(e){return D(e)&&e.classList.contains(t)}))},M.removeAttr=function(t){var e=q(t);return this.each((function(t,n){D(n)&&W(e,(function(t,e){n.removeAttribute(e)}))}))},M.attr=function(t,e){if(t){if(R(t)){if(arguments.length<2){if(!this[0]||!D(this[0]))return;var n=this[0].getAttribute(t);return H(n)?void 0:n}return B(e)?this:H(e)?this.removeAttr(t):this.each((function(n,i){D(i)&&i.setAttribute(t,e)}))}for(var i in t)this.attr(i,t[i]);return this}},M.toggleClass=function(t,e){var n=q(t),i=!B(e);return this.each((function(t,r){D(r)&&W(n,(function(t,n){i?e?r.classList.add(n):r.classList.remove(n):r.classList.toggle(n)}))}))},M.addClass=function(t){return this.toggleClass(t,!0)},M.removeClass=function(t){return arguments.length?this.toggleClass(t,!1):this.attr('class','')},O.unique=G,M.add=function(t,e){return O(G(this.get().concat(O(t,e).get())))};var Q=/^--/;function Z(t){return Q.test(t)}var tt={},et=a.style,nt=['webkit','moz','ms'];var it={animationIterationCount:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0};function rt(t,e,n){return void 0===n&&(n=Z(t)),n||it[t]||!$(e)?e:e+"px"}M.css=function(t,e){if(R(t)){var n=Z(t);return t=function(t,e){if(void 0===e&&(e=Z(t)),e)return t;if(!tt[t]){var n=k(t),i=""+n[0].toUpperCase()+n.slice(1);W((n+" "+nt.join(i+" ")+i).split(' '),(function(e,n){if(n in et)return tt[t]=n,!1}))}return tt[t]}(t,n),arguments.length<2?this[0]&&Y(this[0],t,n):t?(e=rt(t,e,n),this.each((function(i,r){D(r)&&(n?r.style.setProperty(t,e):r.style[t]=e)}))):this}for(var i in t)this.css(i,t[i]);return this};var ot=/^\s+|\s+$/;function st(t,e){var i=t.dataset[e]||t.dataset[k(e)];return ot.test(i)?i:n(JSON.parse,i)}function at(t,e){var n=t.documentElement;return Math.max(t.body["scroll"+e],n["scroll"+e],t.body["offset"+e],n["offset"+e],n["client"+e])}function ct(t,e){return K(t,"border"+(e?'Left':'Top')+"Width")+K(t,"padding"+(e?'Left':'Top'))+K(t,"padding"+(e?'Right':'Bottom'))+K(t,"border"+(e?'Right':'Bottom')+"Width")}M.data=function(t,e){if(!t){if(!this[0])return;var i={};for(var r in this[0].dataset)i[r]=st(this[0],r);return i}if(R(t))return arguments.length<2?this[0]&&st(this[0],t):B(e)?this:this.each((function(i,r){!function(t,e,i){i=n(JSON.stringify,i),t.dataset[k(e)]=i}(r,t,e)}));for(var r in t)this.data(r,t[r]);return this},W([!0,!1],(function(t,e){W(['Width','Height'],(function(t,n){M[(e?'outer':'inner')+n]=function(i){if(this[0])return j(this[0])?e?this[0]["inner"+n]:this[0].document.documentElement["client"+n]:I(this[0])?at(this[0],n):this[0][(e?'offset':'client')+n]+(i&&e?K(this[0],"margin"+(t?'Top':'Left'))+K(this[0],"margin"+(t?'Bottom':'Right')):0)}}))})),W(['Width','Height'],(function(t,e){var n=e.toLowerCase();M[n]=function(i){if(!this[0])return B(i)?void 0:this;if(!arguments.length)return j(this[0])?this[0].document.documentElement["client"+e]:I(this[0])?at(this[0],e):this[0].getBoundingClientRect()[n]-ct(this[0],!t);var r=parseInt(i,10);return this.each((function(e,i){if(D(i)){var o=Y(i,'boxSizing');i.style[n]=rt(n,r+('border-box'===o?ct(i,!t):0))}}))}}));var lt={};function ut(t){return'none'===Y(t,'display')}var ht='___cd';function ft(t,e){return!e||!b.call(e,(function(e){return t.indexOf(e)<0}))}M.toggle=function(t){return this.each((function(e,n){D(n)&&((B(t)?ut(n):t)?(n.style.display=n[ht]||'',ut(n)&&(n.style.display=function(t){if(lt[t])return lt[t];var e=s(t);i.body.insertBefore(e,null);var n=Y(e,'display');return i.body.removeChild(e),lt[t]='none'!==n?n:'block'}(n.tagName))):(n[ht]=Y(n,'display'),n.style.display='none'))}))},M.hide=function(){return this.toggle(!1)},M.show=function(){return this.toggle(!0)};var dt='___ce',pt='.',mt={focus:'focusin',blur:'focusout'},gt={mouseenter:'mouseover',mouseleave:'mouseout'},vt=/^(mouse|pointer|contextmenu|drag|drop|click|dblclick)/i;function yt(t){return gt[t]||mt[t]||t}function bt(t){return t[dt]=t[dt]||{}}function xt(t){var e=t.split(pt);return[e[0],e.slice(1).sort()]}function _t(t,e,n,i,r){var o=bt(t);if(e)o[e]&&(o[e]=o[e].filter((function(o){var s=o[0],a=o[1],c=o[2];if(r&&c.guid!==r.guid||!ft(s,n)||i&&i!==a)return!0;t.removeEventListener(e,c)})));else for(e in o)_t(t,e,n,i,r)}function wt(t){return t.multiple&&t.options?X(p.call(t.options,(function(t){return t.selected&&!t.disabled&&!t.parentNode.disabled})),'value'):t.value||''}M.off=function(t,e,n){var i=this;if(B(t))this.each((function(t,e){(D(e)||I(e)||j(e))&&_t(e)}));else if(R(t))L(e)&&(n=e,e=''),W(q(t),(function(t,r){var o=xt(r),s=o[0],a=o[1],c=yt(s);i.each((function(t,i){(D(i)||I(i)||j(i))&&_t(i,c,a,e,n)}))}));else for(var r in t)this.off(r,t[r]);return this},M.on=function(t,e,n,i,r){var o=this;if(!R(t)){for(var s in t)this.on(s,e,n,t[s],r);return this}return R(e)||(B(e)||H(e)?e='':B(n)?(n=e,e=''):(i=n,n=e,e='')),L(i)||(i=n,n=void 0),i?(W(q(t),(function(t,s){var a=xt(s),c=a[0],l=a[1],u=yt(c),h=c in gt,f=c in mt;u&&o.each((function(t,o){if(D(o)||I(o)||j(o)){var s=function t(s){if(s.target["___i"+s.type])return s.stopImmediatePropagation();if((!s.namespace||ft(l,s.namespace.split(pt)))&&(e||!(f&&(s.target!==o||s.___ot===u)||h&&s.relatedTarget&&o.contains(s.relatedTarget)))){var a=o;if(e){for(var c=s.target;!N(c,e);){if(c===o)return;if(!(c=c.parentNode))return}a=c}Object.defineProperty(s,'currentTarget',{configurable:!0,get:function(){return a}}),Object.defineProperty(s,'delegateTarget',{configurable:!0,get:function(){return o}}),Object.defineProperty(s,'data',{configurable:!0,get:function(){return n}});var d=i.call(a,s,s.___td);r&&_t(o,u,l,e,t),!1===d&&(s.preventDefault(),s.stopPropagation())}};s.guid=i.guid=i.guid||O.guid++,function(t,e,n,i,r){var o=bt(t);o[e]=o[e]||[],o[e].push([n,i,r]),t.addEventListener(e,r)}(o,u,l,e,s)}}))})),this):this},M.one=function(t,e,n,i){return this.on(t,e,n,i,!0)},M.ready=function(t){var e=function(){return setTimeout(t,0,O)};return'loading'!==i.readyState?e():i.addEventListener('DOMContentLoaded',e),this},M.trigger=function(t,e){if(R(t)){var n=xt(t),r=n[0],o=n[1],s=yt(r);if(!s)return this;var a=vt.test(s)?'MouseEvents':'HTMLEvents';(t=i.createEvent(a)).initEvent(s,!0,!0),t.namespace=o.join(pt),t.___ot=r}t.___td=e;var c=t.___ot in mt;return this.each((function(e,n){c&&L(n[t.___ot])&&(n["___i"+t.type]=!0,n[t.___ot](),n["___i"+t.type]=!1),n.dispatchEvent(t)}))};var Et=/%20/g,St=/\r?\n/g;var Ct=/file|reset|submit|button|image/i,Pt=/radio|checkbox/i;M.serialize=function(){var t='';return this.each((function(e,n){W(n.elements||[n],(function(e,n){if(!(n.disabled||!n.name||'FIELDSET'===n.tagName||Ct.test(n.type)||Pt.test(n.type)&&!n.checked)){var i=wt(n);if(!B(i))W(h(i)?i:[i],(function(e,i){t+=function(t,e){return"&"+encodeURIComponent(t)+"="+encodeURIComponent(e.replace(St,'\r\n')).replace(Et,'+')}(n.name,i)}))}}))})),t.slice(1)},M.val=function(t){return arguments.length?this.each((function(e,n){var i=n.multiple&&n.options;if(i||Pt.test(n.type)){var r=h(t)?g.call(t,String):H(t)?[]:[String(t)];i?W(n.options,(function(t,e){e.selected=r.indexOf(e.value)>=0}),!0):n.checked=r.indexOf(n.value)>=0}else n.value=B(t)||H(t)?'':t})):this[0]&&wt(this[0])},M.clone=function(){return this.map((function(t,e){return e.cloneNode(!0)}))},M.detach=function(t){return J(this,t).each((function(t,e){e.parentNode&&e.parentNode.removeChild(e)})),this};var Mt=/^\s*<(\w+)[^>]*>/,Ot=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,At={'*':a,tr:l,td:u,th:u,thead:c,tbody:c,tfoot:c};function kt(t){if(!R(t))return[];if(Ot.test(t))return[s(RegExp.$1)];var e=Mt.test(t)&&RegExp.$1,n=At[e]||At['*'];return n.innerHTML=t,O(n.childNodes).detach().get()}O.parseHTML=kt,M.empty=function(){return this.each((function(t,e){for(;e.firstChild;)e.removeChild(e.firstChild)}))},M.html=function(t){return arguments.length?B(t)?this:this.each((function(e,n){D(n)&&(n.innerHTML=t)})):this[0]&&this[0].innerHTML},M.remove=function(t){return J(this,t).detach().off(),this},M.text=function(t){return B(t)?this[0]?this[0].textContent:'':this.each((function(e,n){D(n)&&(n.textContent=t)}))},M.unwrap=function(){return this.parent().each((function(t,e){if('BODY'!==e.tagName){var n=O(e);n.replaceWith(n.children())}})),this},M.offset=function(){var t=this[0];if(t){var e=t.getBoundingClientRect();return{top:e.top+r.pageYOffset,left:e.left+r.pageXOffset}}},M.offsetParent=function(){return this.map((function(t,e){for(var n=e.offsetParent;n&&'static'===Y(n,'position');)n=n.offsetParent;return n||o}))},M.position=function(){var t=this[0];if(t){var e='fixed'===Y(t,'position'),n=e?t.getBoundingClientRect():this.offset();if(!e){for(var i=t.ownerDocument,r=t.offsetParent||i.documentElement;(r===i.body||r===i.documentElement)&&'static'===Y(r,'position');)r=r.parentNode;if(r!==t&&D(r)){var o=O(r).offset();n.top-=o.top+K(r,'borderTopWidth'),n.left-=o.left+K(r,'borderLeftWidth')}}return{top:n.top-K(t,'marginTop'),left:n.left-K(t,'marginLeft')}}},M.children=function(t){return J(O(G(X(this,(function(t){return t.children})))),t)},M.contents=function(){return O(G(X(this,(function(t){return'IFRAME'===t.tagName?[t.contentDocument]:'TEMPLATE'===t.tagName?t.content.childNodes:t.childNodes}))))},M.find=function(t){return O(G(X(this,(function(e){return C(t,e)}))))};var Nt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Tt=/^$|^module$|\/(java|ecma)script/i,jt=['type','src','nonce','noModule'];function It(t,e,n,i,r){i?t.insertBefore(e,n?t.firstChild:null):'HTML'===t.nodeName?t.parentNode.replaceChild(e,t):t.parentNode.insertBefore(e,n?t:t.nextSibling),r&&function(t,e){var n=O(t);n.filter('script').add(n.find('script')).each((function(t,n){if(Tt.test(n.type)&&o.contains(n)){var i=s('script');i.text=n.textContent.replace(Nt,''),W(jt,(function(t,e){n[e]&&(i[e]=n[e])})),e.head.insertBefore(i,null),e.head.removeChild(i)}}))}(e,t.ownerDocument)}function Dt(t,e,n,i,r,o,s,a){return W(t,(function(t,o){W(O(o),(function(t,o){W(O(e),(function(e,s){var a=n?s:o,c=n?t:e;It(n?o:s,c?a.cloneNode(!0):a,i,r,!c)}),a)}),s)}),o),e}M.after=function(){return Dt(arguments,this,!1,!1,!1,!0,!0)},M.append=function(){return Dt(arguments,this,!1,!1,!0)},M.appendTo=function(t){return Dt(arguments,this,!0,!1,!0)},M.before=function(){return Dt(arguments,this,!1,!0)},M.insertAfter=function(t){return Dt(arguments,this,!0,!1,!1,!1,!1,!0)},M.insertBefore=function(t){return Dt(arguments,this,!0,!0)},M.prepend=function(){return Dt(arguments,this,!1,!0,!0,!0,!0)},M.prependTo=function(t){return Dt(arguments,this,!0,!0,!0,!1,!1,!0)},M.replaceWith=function(t){return this.before(t).remove()},M.replaceAll=function(t){return O(t).replaceWith(this),this},M.wrapAll=function(t){for(var e=O(t),n=e[0];n.children.length;)n=n.firstElementChild;return this.first().before(e),this.appendTo(n)},M.wrap=function(t){return this.each((function(e,n){var i=O(t)[0];O(n).wrapAll(e?i.cloneNode(!0):i)}))},M.wrapInner=function(t){return this.each((function(e,n){var i=O(n),r=i.contents();r.length?r.wrapAll(t):i.append(t)}))},M.has=function(t){var e=R(t)?function(e,n){return C(t,n).length}:function(e,n){return n.contains(t)};return this.filter(e)},M.is=function(t){var e=F(t);return b.call(this,(function(t,n){return e.call(t,n,t)}))},M.next=function(t,e,n){return J(O(G(X(this,'nextElementSibling',e,n))),t)},M.nextAll=function(t){return this.next(t,!0)},M.nextUntil=function(t,e){return this.next(e,!0,t)},M.not=function(t){var e=F(t);return this.filter((function(n,i){return(!R(t)||D(i))&&!e.call(i,n,i)}))},M.parent=function(t){return J(O(G(X(this,'parentNode'))),t)},M.index=function(t){var e=t?O(t)[0]:this[0],n=t?this:O(e).parent().children();return m.call(n,e)},M.closest=function(t){var e=this.filter(t);if(e.length)return e;var n=this.parent();return n.length?n.closest(t):e},M.parents=function(t,e){return J(O(G(X(this,'parentElement',!0,e))),t)},M.parentsUntil=function(t,e){return this.parents(e,t)},M.prev=function(t,e,n){return J(O(G(X(this,'previousElementSibling',e,n))),t)},M.prevAll=function(t){return this.prev(t,!0)},M.prevUntil=function(t,e){return this.prev(e,!0,t)},M.siblings=function(t){return J(O(G(X(this,(function(t){return O(t).parent().children().not(t)})))),t)},1&&(t.exports=O)}()},384:function(t,e,n){!function(e,i){1&&t.exports?t.exports=i(e,n(131),n(842)):e.Draggabilly=i(e,e.getSize,e.Unidragger)}('undefined'!=typeof window?window:this,(function(t,e,n){let i=t.jQuery;function r(t,e){this.element='string'==typeof t?document.querySelector(t):t,i&&(this.$element=i(this.element)),this.options={},this.option(e),this._create()}let o=r.prototype=Object.create(n.prototype);o.option=function(t){this.options={...this.options,...t}};const s=['relative','absolute','fixed'];o._create=function(){this.position={},this._getPosition(),this.startPoint={x:0,y:0},this.dragPoint={x:0,y:0},this.startPosition={...this.position};let t=getComputedStyle(this.element);s.includes(t.position)||(this.element.style.position='relative'),this.on('pointerDown',this.handlePointerDown),this.on('pointerUp',this.handlePointerUp),this.on('dragStart',this.handleDragStart),this.on('dragMove',this.handleDragMove),this.on('dragEnd',this.handleDragEnd),this.setHandles(),this.enable()},o.setHandles=function(){let{handle:t}=this.options;'string'==typeof t?this.handles=this.element.querySelectorAll(t):'object'==typeof t&&t.length?this.handles=t:t instanceof HTMLElement?this.handles=[t]:this.handles=[this.element]};const a=['dragStart','dragMove','dragEnd'];let c=o.emitEvent;function l(t,e,n){return e?(n=n||'round',Math[n](t/e)*e):t}o.emitEvent=function(e,n){if(!this.isEnabled&&a.includes(e))return;c.call(this,e,n);let i,r=t.jQuery;if(!r||!this.$element)return;let o=n;n&&n[0]instanceof Event&&([i,...o]=n);let s=r.Event(i);s.type=e,this.$element.trigger(s,o)},o._getPosition=function(){let t=getComputedStyle(this.element),e=this._getPositionCoord(t.left,'width'),n=this._getPositionCoord(t.top,'height');this.position.x=isNaN(e)?0:e,this.position.y=isNaN(n)?0:n,this._addTransformPosition(t)},o._getPositionCoord=function(t,n){if(t.includes('%')){let i=e(this.element.parentNode);return i?parseFloat(t)/100*i[n]:0}return parseInt(t,10)},o._addTransformPosition=function(t){let e=t.transform;if(!e.startsWith('matrix'))return;let n=e.split(','),i=e.startsWith('matrix3d')?12:4,r=parseInt(n[i],10),o=parseInt(n[i+1],10);this.position.x+=r,this.position.y+=o},o.handlePointerDown=function(t,e){this.isEnabled&&(this.pointerDownPointer={pageX:e.pageX,pageY:e.pageY},t.preventDefault(),document.activeElement.blur(),this.bindActivePointerEvents(t),this.element.classList.add('is-pointer-down'))},o.handleDragStart=function(){this.isEnabled&&(this._getPosition(),this.measureContainment(),this.startPosition.x=this.position.x,this.startPosition.y=this.position.y,this.setLeftTop(),this.dragPoint.x=0,this.dragPoint.y=0,this.element.classList.add('is-dragging'),this.animate())},o.measureContainment=function(){let t=this.getContainer();if(!t)return;let n=e(this.element),i=e(t),{borderLeftWidth:r,borderRightWidth:o,borderTopWidth:s,borderBottomWidth:a}=i,c=this.element.getBoundingClientRect(),l=t.getBoundingClientRect(),u=r+o,h=s+a,f=this.relativeStartPosition={x:c.left-(l.left+r),y:c.top-(l.top+s)};this.containSize={width:i.width-u-f.x-n.width,height:i.height-h-f.y-n.height}},o.getContainer=function(){let t=this.options.containment;if(t)return t instanceof HTMLElement?t:'string'==typeof t?document.querySelector(t):this.element.parentNode},o.handleDragMove=function(t,e,n){if(!this.isEnabled)return;let i=n.x,r=n.y,o=this.options.grid,s=o&&o[0],a=o&&o[1];i=l(i,s),r=l(r,a),i=this.containDrag('x',i,s),r=this.containDrag('y',r,a),i='y'==this.options.axis?0:i,r='x'==this.options.axis?0:r,this.position.x=this.startPosition.x+i,this.position.y=this.startPosition.y+r,this.dragPoint.x=i,this.dragPoint.y=r},o.containDrag=function(t,e,n){if(!this.options.containment)return e;let i='x'==t?'width':'height',r=l(-this.relativeStartPosition[t],n,'ceil'),o=this.containSize[i];return o=l(o,n,'floor'),Math.max(r,Math.min(o,e))},o.handlePointerUp=function(){this.element.classList.remove('is-pointer-down')},o.handleDragEnd=function(){this.isEnabled&&(this.element.style.transform='',this.setLeftTop(),this.element.classList.remove('is-dragging'))},o.animate=function(){this.isDragging&&(this.positionDrag(),requestAnimationFrame((()=>this.animate())))},o.setLeftTop=function(){let{x:t,y:e}=this.position;this.element.style.left=`${t}px`,this.element.style.top=`${e}px`},o.positionDrag=function(){let{x:t,y:e}=this.dragPoint;this.element.style.transform=`translate3d(${t}px, ${e}px, 0)`},o.setPosition=function(t,e){this.position.x=t,this.position.y=e,this.setLeftTop()},o.enable=function(){this.isEnabled||(this.isEnabled=!0,this.bindHandles())},o.disable=function(){this.isEnabled&&(this.isEnabled=!1,this.isDragging&&this.dragEnd(),this.unbindHandles())};const u=['transform','left','top','position'];return o.destroy=function(){this.disable(),u.forEach((t=>{this.element.style[t]=''})),this.unbindHandles(),this.$element&&this.$element.removeData('draggabilly')},o._init=function(){},i&&i.bridget&&i.bridget('draggabilly',r),r}))},158:function(t){!function(e,n){1&&t.exports?t.exports=n():e.EvEmitter=n()}('undefined'!=typeof window?window:this,(function(){function t(){}let e=t.prototype;return e.on=function(t,e){if(!t||!e)return this;let n=this._events=this._events||{},i=n[t]=n[t]||[];return i.includes(e)||i.push(e),this},e.once=function(t,e){if(!t||!e)return this;this.on(t,e);let n=this._onceEvents=this._onceEvents||{};return(n[t]=n[t]||{})[e]=!0,this},e.off=function(t,e){let n=this._events&&this._events[t];if(!n||!n.length)return this;let i=n.indexOf(e);return-1!=i&&n.splice(i,1),this},e.emitEvent=function(t,e){let n=this._events&&this._events[t];if(!n||!n.length)return this;n=n.slice(0),e=e||[];let i=this._onceEvents&&this._onceEvents[t];for(let r of n){i&&i[r]&&(this.off(t,r),delete i[r]),r.apply(this,e)}return this},e.allOff=function(){return delete this._events,delete this._onceEvents,this},t}))},131:t=>{!function(e,n){1&&t.exports?t.exports=n():e.getSize=n()}(window,(function(){function t(t){let e=parseFloat(t);return-1==t.indexOf('%')&&!isNaN(e)&&e}let e=['paddingLeft','paddingRight','paddingTop','paddingBottom','marginLeft','marginRight','marginTop','marginBottom','borderLeftWidth','borderRightWidth','borderTopWidth','borderBottomWidth'];e.length;return function(n){if('string'==typeof n&&(n=document.querySelector(n)),!(n&&'object'==typeof n&&n.nodeType))return;let i=getComputedStyle(n);if('none'==i.display)return function(){let t={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0};return e.forEach((e=>{t[e]=0})),t}();let r={};r.width=n.offsetWidth,r.height=n.offsetHeight;let o=r.isBorderBox='border-box'==i.boxSizing;e.forEach((t=>{let e=i[t],n=parseFloat(e);r[t]=isNaN(n)?0:n}));let s=r.paddingLeft+r.paddingRight,a=r.paddingTop+r.paddingBottom,c=r.marginLeft+r.marginRight,l=r.marginTop+r.marginBottom,u=r.borderLeftWidth+r.borderRightWidth,h=r.borderTopWidth+r.borderBottomWidth,f=t(i.width);!1!==f&&(r.width=f+(o?0:s+u));let d=t(i.height);return!1!==d&&(r.height=d+(o?0:a+h)),r.innerWidth=r.width-(s+u),r.innerHeight=r.height-(a+h),r.outerWidth=r.width+c,r.outerHeight=r.height+l,r}}))},842:function(t,e,n){!function(e,i){1&&t.exports?t.exports=i(e,n(158)):e.Unidragger=i(e,e.EvEmitter)}('undefined'!=typeof window?window:this,(function(t,e){function n(){}let i,r,o=n.prototype=Object.create(e.prototype);o.handleEvent=function(t){let e='on'+t.type;this[e]&&this[e](t)},'ontouchstart'in t?(i='touchstart',r=['touchmove','touchend','touchcancel']):t.PointerEvent?(i='pointerdown',r=['pointermove','pointerup','pointercancel']):(i='mousedown',r=['mousemove','mouseup']),o.touchActionValue='none',o.bindHandles=function(){this._bindHandles('addEventListener',this.touchActionValue)},o.unbindHandles=function(){this._bindHandles('removeEventListener','')},o._bindHandles=function(e,n){this.handles.forEach((r=>{r[e](i,this),r[e]('click',this),t.PointerEvent&&(r.style.touchAction=n)}))},o.bindActivePointerEvents=function(){r.forEach((e=>{t.addEventListener(e,this)}))},o.unbindActivePointerEvents=function(){r.forEach((e=>{t.removeEventListener(e,this)}))},o.withPointer=function(t,e){e.pointerId===this.pointerIdentifier&&this[t](e,e)},o.withTouch=function(t,e){let n;for(let t of e.changedTouches)t.identifier===this.pointerIdentifier&&(n=t);n&&this[t](e,n)},o.onmousedown=function(t){this.pointerDown(t,t)},o.ontouchstart=function(t){this.pointerDown(t,t.changedTouches[0])},o.onpointerdown=function(t){this.pointerDown(t,t)};const s=['TEXTAREA','INPUT','SELECT','OPTION'],a=['radio','checkbox','button','submit','image','file'];return o.pointerDown=function(t,e){let n=s.includes(t.target.nodeName),i=a.includes(t.target.type),r=!n||i;!this.isPointerDown&&!t.button&&r&&(this.isPointerDown=!0,this.pointerIdentifier=void 0!==e.pointerId?e.pointerId:e.identifier,this.pointerDownPointer={pageX:e.pageX,pageY:e.pageY},this.bindActivePointerEvents(),this.emitEvent('pointerDown',[t,e]))},o.onmousemove=function(t){this.pointerMove(t,t)},o.onpointermove=function(t){this.withPointer('pointerMove',t)},o.ontouchmove=function(t){this.withTouch('pointerMove',t)},o.pointerMove=function(t,e){let n={x:e.pageX-this.pointerDownPointer.pageX,y:e.pageY-this.pointerDownPointer.pageY};this.emitEvent('pointerMove',[t,e,n]),!this.isDragging&&this.hasDragStarted(n)&&this.dragStart(t,e),this.isDragging&&this.dragMove(t,e,n)},o.hasDragStarted=function(t){return Math.abs(t.x)>3||Math.abs(t.y)>3},o.dragStart=function(t,e){this.isDragging=!0,this.isPreventingClicks=!0,this.emitEvent('dragStart',[t,e])},o.dragMove=function(t,e,n){this.emitEvent('dragMove',[t,e,n])},o.onmouseup=function(t){this.pointerUp(t,t)},o.onpointerup=function(t){this.withPointer('pointerUp',t)},o.ontouchend=function(t){this.withTouch('pointerUp',t)},o.pointerUp=function(t,e){this.pointerDone(),this.emitEvent('pointerUp',[t,e]),this.isDragging?this.dragEnd(t,e):this.staticClick(t,e)},o.dragEnd=function(t,e){this.isDragging=!1,setTimeout((()=>delete this.isPreventingClicks)),this.emitEvent('dragEnd',[t,e])},o.pointerDone=function(){this.isPointerDown=!1,delete this.pointerIdentifier,this.unbindActivePointerEvents(),this.emitEvent('pointerDone')},o.onpointercancel=function(t){this.withPointer('pointerCancel',t)},o.ontouchcancel=function(t){this.withTouch('pointerCancel',t)},o.pointerCancel=function(t,e){this.pointerDone(),this.emitEvent('pointerCancel',[t,e])},o.onclick=function(t){this.isPreventingClicks&&t.preventDefault()},o.staticClick=function(t,e){let n='mouseup'===t.type;n&&this.isIgnoringMouseUp||(this.emitEvent('staticClick',[t,e]),n&&(this.isIgnoringMouseUp=!0,setTimeout((()=>{delete this.isIgnoringMouseUp}),400)))},n}))},50:(t,e,n)=>{"use strict";n.r(e),n.d(e,{VERSION:()=>r,after:()=>De,all:()=>en,allKeys:()=>gt,any:()=>nn,assign:()=>Dt,before:()=>Le,bind:()=>Ee,bindAll:()=>Pe,chain:()=>be,chunk:()=>Hn,clone:()=>Ht,collect:()=>Ge,compact:()=>On,compose:()=>Ie,constant:()=>Q,contains:()=>rn,countBy:()=>yn,create:()=>Bt,debounce:()=>Ne,default:()=>Fn,defaults:()=>Lt,defer:()=>Ae,delay:()=>Oe,detect:()=>Ve,difference:()=>kn,drop:()=>Pn,each:()=>Xe,escape:()=>ae,every:()=>en,extend:()=>It,extendOwn:()=>Dt,filter:()=>Ze,find:()=>Ve,findIndex:()=>$e,findKey:()=>Be,findLastIndex:()=>ze,findWhere:()=>qe,first:()=>Cn,flatten:()=>An,foldl:()=>Ke,foldr:()=>Qe,forEach:()=>Xe,functions:()=>Tt,get:()=>Ft,groupBy:()=>gn,has:()=>Jt,head:()=>Cn,identity:()=>Vt,include:()=>rn,includes:()=>rn,indexBy:()=>vn,indexOf:()=>Fe,initial:()=>Sn,inject:()=>Ke,intersection:()=>In,invert:()=>Nt,invoke:()=>on,isArguments:()=>G,isArray:()=>V,isArrayBuffer:()=>R,isBoolean:()=>O,isDataView:()=>J,isDate:()=>j,isElement:()=>A,isEmpty:()=>ct,isEqual:()=>mt,isError:()=>D,isFinite:()=>Y,isFunction:()=>$,isMap:()=>Ct,isMatch:()=>lt,isNaN:()=>K,isNull:()=>P,isNumber:()=>T,isObject:()=>C,isRegExp:()=>I,isSet:()=>Mt,isString:()=>N,isSymbol:()=>L,isTypedArray:()=>rt,isUndefined:()=>M,isWeakMap:()=>Pt,isWeakSet:()=>Ot,iteratee:()=>Kt,keys:()=>at,last:()=>Mn,lastIndexOf:()=>Je,map:()=>Ge,mapObject:()=>Zt,matcher:()=>qt,matches:()=>qt,max:()=>cn,memoize:()=>Me,methods:()=>Tt,min:()=>ln,mixin:()=>zn,negate:()=>je,noop:()=>te,now:()=>re,object:()=>Rn,omit:()=>En,once:()=>Re,pairs:()=>kt,partial:()=>we,partition:()=>bn,pick:()=>wn,pluck:()=>sn,property:()=>Xt,propertyOf:()=>ee,random:()=>ie,range:()=>Bn,reduce:()=>Ke,reduceRight:()=>Qe,reject:()=>tn,rest:()=>Pn,restArguments:()=>S,result:()=>ge,sample:()=>fn,select:()=>Ze,shuffle:()=>dn,size:()=>xn,some:()=>nn,sortBy:()=>pn,sortedIndex:()=>We,tail:()=>Pn,take:()=>Cn,tap:()=>$t,template:()=>me,templateSettings:()=>le,throttle:()=>ke,times:()=>ne,toArray:()=>hn,toPath:()=>zt,transpose:()=>Dn,unescape:()=>ce,union:()=>jn,uniq:()=>Tn,unique:()=>Tn,uniqueId:()=>ye,unzip:()=>Dn,values:()=>At,where:()=>an,without:()=>Nn,wrap:()=>Te,zip:()=>Ln});var i={};n.r(i),n.d(i,{VERSION:()=>r,after:()=>De,all:()=>en,allKeys:()=>gt,any:()=>nn,assign:()=>Dt,before:()=>Le,bind:()=>Ee,bindAll:()=>Pe,chain:()=>be,chunk:()=>Hn,clone:()=>Ht,collect:()=>Ge,compact:()=>On,compose:()=>Ie,constant:()=>Q,contains:()=>rn,countBy:()=>yn,create:()=>Bt,debounce:()=>Ne,default:()=>Wn,defaults:()=>Lt,defer:()=>Ae,delay:()=>Oe,detect:()=>Ve,difference:()=>kn,drop:()=>Pn,each:()=>Xe,escape:()=>ae,every:()=>en,extend:()=>It,extendOwn:()=>Dt,filter:()=>Ze,find:()=>Ve,findIndex:()=>$e,findKey:()=>Be,findLastIndex:()=>ze,findWhere:()=>qe,first:()=>Cn,flatten:()=>An,foldl:()=>Ke,foldr:()=>Qe,forEach:()=>Xe,functions:()=>Tt,get:()=>Ft,groupBy:()=>gn,has:()=>Jt,head:()=>Cn,identity:()=>Vt,include:()=>rn,includes:()=>rn,indexBy:()=>vn,indexOf:()=>Fe,initial:()=>Sn,inject:()=>Ke,intersection:()=>In,invert:()=>Nt,invoke:()=>on,isArguments:()=>G,isArray:()=>V,isArrayBuffer:()=>R,isBoolean:()=>O,isDataView:()=>J,isDate:()=>j,isElement:()=>A,isEmpty:()=>ct,isEqual:()=>mt,isError:()=>D,isFinite:()=>Y,isFunction:()=>$,isMap:()=>Ct,isMatch:()=>lt,isNaN:()=>K,isNull:()=>P,isNumber:()=>T,isObject:()=>C,isRegExp:()=>I,isSet:()=>Mt,isString:()=>N,isSymbol:()=>L,isTypedArray:()=>rt,isUndefined:()=>M,isWeakMap:()=>Pt,isWeakSet:()=>Ot,iteratee:()=>Kt,keys:()=>at,last:()=>Mn,lastIndexOf:()=>Je,map:()=>Ge,mapObject:()=>Zt,matcher:()=>qt,matches:()=>qt,max:()=>cn,memoize:()=>Me,methods:()=>Tt,min:()=>ln,mixin:()=>zn,negate:()=>je,noop:()=>te,now:()=>re,object:()=>Rn,omit:()=>En,once:()=>Re,pairs:()=>kt,partial:()=>we,partition:()=>bn,pick:()=>wn,pluck:()=>sn,property:()=>Xt,propertyOf:()=>ee,random:()=>ie,range:()=>Bn,reduce:()=>Ke,reduceRight:()=>Qe,reject:()=>tn,rest:()=>Pn,restArguments:()=>S,result:()=>ge,sample:()=>fn,select:()=>Ze,shuffle:()=>dn,size:()=>xn,some:()=>nn,sortBy:()=>pn,sortedIndex:()=>We,tail:()=>Pn,take:()=>Cn,tap:()=>$t,template:()=>me,templateSettings:()=>le,throttle:()=>ke,times:()=>ne,toArray:()=>hn,toPath:()=>zt,transpose:()=>Dn,unescape:()=>ce,union:()=>jn,uniq:()=>Tn,unique:()=>Tn,uniqueId:()=>ye,unzip:()=>Dn,values:()=>At,where:()=>an,without:()=>Nn,wrap:()=>Te,zip:()=>Ln});var r='1.13.6',o='object'==typeof self&&self.self===self&&self||'object'==typeof global&&global.global===global&&global||Function('return this')()||{},s=Array.prototype,a=Object.prototype,c='undefined'!=typeof Symbol?Symbol.prototype:null,l=s.push,u=s.slice,h=a.toString,f=a.hasOwnProperty,d='undefined'!=typeof ArrayBuffer,p='undefined'!=typeof DataView,m=Array.isArray,g=Object.keys,v=Object.create,y=d&&ArrayBuffer.isView,b=isNaN,x=isFinite,_=!{toString:null}.propertyIsEnumerable('toString'),w=['valueOf','isPrototypeOf','toString','propertyIsEnumerable','hasOwnProperty','toLocaleString'],E=Math.pow(2,53)-1;function S(t,e){return e=null==e?t.length-1:+e,function(){for(var n=Math.max(arguments.length-e,0),i=Array(n),r=0;r<n;r++)i[r]=arguments[r+e];switch(e){case 0:return t.call(this,i);case 1:return t.call(this,arguments[0],i);case 2:return t.call(this,arguments[0],arguments[1],i)}var o=Array(e+1);for(r=0;r<e;r++)o[r]=arguments[r];return o[e]=i,t.apply(this,o)}}function C(t){var e=typeof t;return'function'===e||'object'===e&&!!t}function P(t){return null===t}function M(t){return void 0===t}function O(t){return!0===t||!1===t||'[object Boolean]'===h.call(t)}function A(t){return!(!t||1!==t.nodeType)}function k(t){var e='[object '+t+']';return function(t){return h.call(t)===e}}const N=k('String'),T=k('Number'),j=k('Date'),I=k('RegExp'),D=k('Error'),L=k('Symbol'),R=k('ArrayBuffer');var B=k('Function'),H=o.document&&o.document.childNodes;1&&'object'!=typeof Int8Array&&'function'!=typeof H&&(B=function(t){return'function'==typeof t||!1});const $=B,z=k('Object');var W=p&&z(new DataView(new ArrayBuffer(8))),U='undefined'!=typeof Map&&z(new Map),F=k('DataView');const J=W?function(t){return null!=t&&$(t.getInt8)&&R(t.buffer)}:F,V=m||k('Array');function q(t,e){return null!=t&&f.call(t,e)}var X=k('Arguments');!function(){X(arguments)||(X=function(t){return q(t,'callee')})}();const G=X;function Y(t){return!L(t)&&x(t)&&!isNaN(parseFloat(t))}function K(t){return T(t)&&b(t)}function Q(t){return function(){return t}}function Z(t){return function(e){var n=t(e);return'number'==typeof n&&n>=0&&n<=E}}function tt(t){return function(e){return null==e?void 0:e[t]}}const et=tt('byteLength'),nt=Z(et);var it=/\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\]/;const rt=d?function(t){return y?y(t)&&!J(t):nt(t)&&it.test(h.call(t))}:Q(!1),ot=tt('length');function st(t,e){e=function(t){for(var e={},n=t.length,i=0;i<n;++i)e[t[i]]=!0;return{contains:function(t){return!0===e[t]},push:function(n){return e[n]=!0,t.push(n)}}}(e);var n=w.length,i=t.constructor,r=$(i)&&i.prototype||a,o='constructor';for(q(t,o)&&!e.contains(o)&&e.push(o);n--;)(o=w[n])in t&&t[o]!==r[o]&&!e.contains(o)&&e.push(o)}function at(t){if(!C(t))return[];if(g)return g(t);var e=[];for(var n in t)q(t,n)&&e.push(n);return _&&st(t,e),e}function ct(t){if(null==t)return!0;var e=ot(t);return'number'==typeof e&&(V(t)||N(t)||G(t))?0===e:0===ot(at(t))}function lt(t,e){var n=at(e),i=n.length;if(null==t)return!i;for(var r=Object(t),o=0;o<i;o++){var s=n[o];if(e[s]!==r[s]||!(s in r))return!1}return!0}function ut(t){return t instanceof ut?t:this instanceof ut?void(this._wrapped=t):new ut(t)}function ht(t){return new Uint8Array(t.buffer||t,t.byteOffset||0,et(t))}ut.VERSION=r,ut.prototype.value=function(){return this._wrapped},ut.prototype.valueOf=ut.prototype.toJSON=ut.prototype.value,ut.prototype.toString=function(){return String(this._wrapped)};var ft='[object DataView]';function dt(t,e,n,i){if(t===e)return 0!==t||1/t==1/e;if(null==t||null==e)return!1;if(t!=t)return e!=e;var r=typeof t;return('function'===r||'object'===r||'object'==typeof e)&&pt(t,e,n,i)}function pt(t,e,n,i){t instanceof ut&&(t=t._wrapped),e instanceof ut&&(e=e._wrapped);var r=h.call(t);if(r!==h.call(e))return!1;if(W&&'[object Object]'==r&&J(t)){if(!J(e))return!1;r=ft}switch(r){case'[object RegExp]':case'[object String]':return''+t==''+e;case'[object Number]':return+t!=+t?+e!=+e:0==+t?1/+t==1/e:+t==+e;case'[object Date]':case'[object Boolean]':return+t==+e;case'[object Symbol]':return c.valueOf.call(t)===c.valueOf.call(e);case'[object ArrayBuffer]':case ft:return pt(ht(t),ht(e),n,i)}var o='[object Array]'===r;if(!o&&rt(t)){if(et(t)!==et(e))return!1;if(t.buffer===e.buffer&&t.byteOffset===e.byteOffset)return!0;o=!0}if(!o){if('object'!=typeof t||'object'!=typeof e)return!1;var s=t.constructor,a=e.constructor;if(s!==a&&!($(s)&&s instanceof s&&$(a)&&a instanceof a)&&'constructor'in t&&'constructor'in e)return!1}i=i||[];for(var l=(n=n||[]).length;l--;)if(n[l]===t)return i[l]===e;if(n.push(t),i.push(e),o){if((l=t.length)!==e.length)return!1;for(;l--;)if(!dt(t[l],e[l],n,i))return!1}else{var u,f=at(t);if(l=f.length,at(e).length!==l)return!1;for(;l--;)if(!q(e,u=f[l])||!dt(t[u],e[u],n,i))return!1}return n.pop(),i.pop(),!0}function mt(t,e){return dt(t,e)}function gt(t){if(!C(t))return[];var e=[];for(var n in t)e.push(n);return _&&st(t,e),e}function vt(t){var e=ot(t);return function(n){if(null==n)return!1;var i=gt(n);if(ot(i))return!1;for(var r=0;r<e;r++)if(!$(n[t[r]]))return!1;return t!==Et||!$(n[yt])}}var yt='forEach',bt='has',xt=['clear','delete'],_t=['get',bt,'set'],wt=xt.concat(yt,_t),Et=xt.concat(_t),St=['add'].concat(xt,yt,bt);const Ct=U?vt(wt):k('Map'),Pt=U?vt(Et):k('WeakMap'),Mt=U?vt(St):k('Set'),Ot=k('WeakSet');function At(t){for(var e=at(t),n=e.length,i=Array(n),r=0;r<n;r++)i[r]=t[e[r]];return i}function kt(t){for(var e=at(t),n=e.length,i=Array(n),r=0;r<n;r++)i[r]=[e[r],t[e[r]]];return i}function Nt(t){for(var e={},n=at(t),i=0,r=n.length;i<r;i++)e[t[n[i]]]=n[i];return e}function Tt(t){var e=[];for(var n in t)$(t[n])&&e.push(n);return e.sort()}function jt(t,e){return function(n){var i=arguments.length;if(e&&(n=Object(n)),i<2||null==n)return n;for(var r=1;r<i;r++)for(var o=arguments[r],s=t(o),a=s.length,c=0;c<a;c++){var l=s[c];e&&void 0!==n[l]||(n[l]=o[l])}return n}}const It=jt(gt),Dt=jt(at),Lt=jt(gt,!0);function Rt(t){if(!C(t))return{};if(v)return v(t);var e=function(){};e.prototype=t;var n=new e;return e.prototype=null,n}function Bt(t,e){var n=Rt(t);return e&&Dt(n,e),n}function Ht(t){return C(t)?V(t)?t.slice():It({},t):t}function $t(t,e){return e(t),t}function zt(t){return V(t)?t:[t]}function Wt(t){return ut.toPath(t)}function Ut(t,e){for(var n=e.length,i=0;i<n;i++){if(null==t)return;t=t[e[i]]}return n?t:void 0}function Ft(t,e,n){var i=Ut(t,Wt(e));return M(i)?n:i}function Jt(t,e){for(var n=(e=Wt(e)).length,i=0;i<n;i++){var r=e[i];if(!q(t,r))return!1;t=t[r]}return!!n}function Vt(t){return t}function qt(t){return t=Dt({},t),function(e){return lt(e,t)}}function Xt(t){return t=Wt(t),function(e){return Ut(e,t)}}function Gt(t,e,n){if(void 0===e)return t;switch(null==n?3:n){case 1:return function(n){return t.call(e,n)};case 3:return function(n,i,r){return t.call(e,n,i,r)};case 4:return function(n,i,r,o){return t.call(e,n,i,r,o)}}return function(){return t.apply(e,arguments)}}function Yt(t,e,n){return null==t?Vt:$(t)?Gt(t,e,n):C(t)&&!V(t)?qt(t):Xt(t)}function Kt(t,e){return Yt(t,e,1/0)}function Qt(t,e,n){return ut.iteratee!==Kt?ut.iteratee(t,e):Yt(t,e,n)}function Zt(t,e,n){e=Qt(e,n);for(var i=at(t),r=i.length,o={},s=0;s<r;s++){var a=i[s];o[a]=e(t[a],a,t)}return o}function te(){}function ee(t){return null==t?te:function(e){return Ft(t,e)}}function ne(t,e,n){var i=Array(Math.max(0,t));e=Gt(e,n,1);for(var r=0;r<t;r++)i[r]=e(r);return i}function ie(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))}ut.toPath=zt,ut.iteratee=Kt;const re=Date.now||function(){return(new Date).getTime()};function oe(t){var e=function(e){return t[e]},n='(?:'+at(t).join('|')+')',i=RegExp(n),r=RegExp(n,'g');return function(t){return t=null==t?'':''+t,i.test(t)?t.replace(r,e):t}}const se={'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#x27;','`':'&#x60;'},ae=oe(se),ce=oe(Nt(se)),le=ut.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var ue=/(.)^/,he={"'":"'",'\\':'\\','\r':'r','\n':'n','\u2028':'u2028','\u2029':'u2029'},fe=/\\|'|\r|\n|\u2028|\u2029/g;function de(t){return'\\'+he[t]}var pe=/^\s*(\w|\$)+\s*$/;function me(t,e,n){!e&&n&&(e=n),e=Lt({},e,ut.templateSettings);var i=RegExp([(e.escape||ue).source,(e.interpolate||ue).source,(e.evaluate||ue).source].join('|')+'|$','g'),r=0,o="__p+='";t.replace(i,(function(e,n,i,s,a){return o+=t.slice(r,a).replace(fe,de),r=a+e.length,n?o+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":i?o+="'+\n((__t=("+i+"))==null?'':__t)+\n'":s&&(o+="';\n"+s+"\n__p+='"),e})),o+="';\n";var s,a=e.variable;if(a){if(!pe.test(a))throw new Error('variable is not a bare identifier: '+a)}else o='with(obj||{}){\n'+o+'}\n',a='obj';o="var __t,__p='',__j=Array.prototype.join,"+"print=function(){__p+=__j.call(arguments,'');};\n"+o+'return __p;\n';try{s=new Function(a,'_',o)}catch(t){throw t.source=o,t}var c=function(t){return s.call(this,t,ut)};return c.source='function('+a+'){\n'+o+'}',c}function ge(t,e,n){var i=(e=Wt(e)).length;if(!i)return $(n)?n.call(t):n;for(var r=0;r<i;r++){var o=null==t?void 0:t[e[r]];void 0===o&&(o=n,r=i),t=$(o)?o.call(t):o}return t}var ve=0;function ye(t){var e=++ve+'';return t?t+e:e}function be(t){var e=ut(t);return e._chain=!0,e}function xe(t,e,n,i,r){if(!(i instanceof e))return t.apply(n,r);var o=Rt(t.prototype),s=t.apply(o,r);return C(s)?s:o}var _e=S((function(t,e){var n=_e.placeholder,i=function(){for(var r=0,o=e.length,s=Array(o),a=0;a<o;a++)s[a]=e[a]===n?arguments[r++]:e[a];for(;r<arguments.length;)s.push(arguments[r++]);return xe(t,i,this,this,s)};return i}));_e.placeholder=ut;const we=_e,Ee=S((function(t,e,n){if(!$(t))throw new TypeError('Bind must be called on a function');var i=S((function(r){return xe(t,i,e,this,n.concat(r))}));return i})),Se=Z(ot);function Ce(t,e,n,i){if(i=i||[],e||0===e){if(e<=0)return i.concat(t)}else e=1/0;for(var r=i.length,o=0,s=ot(t);o<s;o++){var a=t[o];if(Se(a)&&(V(a)||G(a)))if(e>1)Ce(a,e-1,n,i),r=i.length;else for(var c=0,l=a.length;c<l;)i[r++]=a[c++];else n||(i[r++]=a)}return i}const Pe=S((function(t,e){var n=(e=Ce(e,!1,!1)).length;if(n<1)throw new Error('bindAll must be passed function names');for(;n--;){var i=e[n];t[i]=Ee(t[i],t)}return t}));function Me(t,e){var n=function(i){var r=n.cache,o=''+(e?e.apply(this,arguments):i);return q(r,o)||(r[o]=t.apply(this,arguments)),r[o]};return n.cache={},n}const Oe=S((function(t,e,n){return setTimeout((function(){return t.apply(null,n)}),e)})),Ae=we(Oe,ut,1);function ke(t,e,n){var i,r,o,s,a=0;n||(n={});var c=function(){a=!1===n.leading?0:re(),i=null,s=t.apply(r,o),i||(r=o=null)},l=function(){var l=re();a||!1!==n.leading||(a=l);var u=e-(l-a);return r=this,o=arguments,u<=0||u>e?(i&&(clearTimeout(i),i=null),a=l,s=t.apply(r,o),i||(r=o=null)):i||!1===n.trailing||(i=setTimeout(c,u)),s};return l.cancel=function(){clearTimeout(i),a=0,i=r=o=null},l}function Ne(t,e,n){var i,r,o,s,a,c=function(){var l=re()-r;e>l?i=setTimeout(c,e-l):(i=null,n||(s=t.apply(a,o)),i||(o=a=null))},l=S((function(l){return a=this,o=l,r=re(),i||(i=setTimeout(c,e),n&&(s=t.apply(a,o))),s}));return l.cancel=function(){clearTimeout(i),i=o=a=null},l}function Te(t,e){return we(e,t)}function je(t){return function(){return!t.apply(this,arguments)}}function Ie(){var t=arguments,e=t.length-1;return function(){for(var n=e,i=t[e].apply(this,arguments);n--;)i=t[n].call(this,i);return i}}function De(t,e){return function(){if(--t<1)return e.apply(this,arguments)}}function Le(t,e){var n;return function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=null),n}}const Re=we(Le,2);function Be(t,e,n){e=Qt(e,n);for(var i,r=at(t),o=0,s=r.length;o<s;o++)if(e(t[i=r[o]],i,t))return i}function He(t){return function(e,n,i){n=Qt(n,i);for(var r=ot(e),o=t>0?0:r-1;o>=0&&o<r;o+=t)if(n(e[o],o,e))return o;return-1}}const $e=He(1),ze=He(-1);function We(t,e,n,i){for(var r=(n=Qt(n,i,1))(e),o=0,s=ot(t);o<s;){var a=Math.floor((o+s)/2);n(t[a])<r?o=a+1:s=a}return o}function Ue(t,e,n){return function(i,r,o){var s=0,a=ot(i);if('number'==typeof o)t>0?s=o>=0?o:Math.max(o+a,s):a=o>=0?Math.min(o+1,a):o+a+1;else if(n&&o&&a)return i[o=n(i,r)]===r?o:-1;if(r!=r)return(o=e(u.call(i,s,a),K))>=0?o+s:-1;for(o=t>0?s:a-1;o>=0&&o<a;o+=t)if(i[o]===r)return o;return-1}}const Fe=Ue(1,$e,We),Je=Ue(-1,ze);function Ve(t,e,n){var i=(Se(t)?$e:Be)(t,e,n);if(void 0!==i&&-1!==i)return t[i]}function qe(t,e){return Ve(t,qt(e))}function Xe(t,e,n){var i,r;if(e=Gt(e,n),Se(t))for(i=0,r=t.length;i<r;i++)e(t[i],i,t);else{var o=at(t);for(i=0,r=o.length;i<r;i++)e(t[o[i]],o[i],t)}return t}function Ge(t,e,n){e=Qt(e,n);for(var i=!Se(t)&&at(t),r=(i||t).length,o=Array(r),s=0;s<r;s++){var a=i?i[s]:s;o[s]=e(t[a],a,t)}return o}function Ye(t){return function(e,n,i,r){var o=arguments.length>=3;return function(e,n,i,r){var o=!Se(e)&&at(e),s=(o||e).length,a=t>0?0:s-1;for(r||(i=e[o?o[a]:a],a+=t);a>=0&&a<s;a+=t){var c=o?o[a]:a;i=n(i,e[c],c,e)}return i}(e,Gt(n,r,4),i,o)}}const Ke=Ye(1),Qe=Ye(-1);function Ze(t,e,n){var i=[];return e=Qt(e,n),Xe(t,(function(t,n,r){e(t,n,r)&&i.push(t)})),i}function tn(t,e,n){return Ze(t,je(Qt(e)),n)}function en(t,e,n){e=Qt(e,n);for(var i=!Se(t)&&at(t),r=(i||t).length,o=0;o<r;o++){var s=i?i[o]:o;if(!e(t[s],s,t))return!1}return!0}function nn(t,e,n){e=Qt(e,n);for(var i=!Se(t)&&at(t),r=(i||t).length,o=0;o<r;o++){var s=i?i[o]:o;if(e(t[s],s,t))return!0}return!1}function rn(t,e,n,i){return Se(t)||(t=At(t)),('number'!=typeof n||i)&&(n=0),Fe(t,e,n)>=0}const on=S((function(t,e,n){var i,r;return $(e)?r=e:(e=Wt(e),i=e.slice(0,-1),e=e[e.length-1]),Ge(t,(function(t){var o=r;if(!o){if(i&&i.length&&(t=Ut(t,i)),null==t)return;o=t[e]}return null==o?o:o.apply(t,n)}))}));function sn(t,e){return Ge(t,Xt(e))}function an(t,e){return Ze(t,qt(e))}function cn(t,e,n){var i,r,o=-1/0,s=-1/0;if(null==e||'number'==typeof e&&'object'!=typeof t[0]&&null!=t)for(var a=0,c=(t=Se(t)?t:At(t)).length;a<c;a++)null!=(i=t[a])&&i>o&&(o=i);else e=Qt(e,n),Xe(t,(function(t,n,i){((r=e(t,n,i))>s||r===-1/0&&o===-1/0)&&(o=t,s=r)}));return o}function ln(t,e,n){var i,r,o=1/0,s=1/0;if(null==e||'number'==typeof e&&'object'!=typeof t[0]&&null!=t)for(var a=0,c=(t=Se(t)?t:At(t)).length;a<c;a++)null!=(i=t[a])&&i<o&&(o=i);else e=Qt(e,n),Xe(t,(function(t,n,i){((r=e(t,n,i))<s||r===1/0&&o===1/0)&&(o=t,s=r)}));return o}var un=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;function hn(t){return t?V(t)?u.call(t):N(t)?t.match(un):Se(t)?Ge(t,Vt):At(t):[]}function fn(t,e,n){if(null==e||n)return Se(t)||(t=At(t)),t[ie(t.length-1)];var i=hn(t),r=ot(i);e=Math.max(Math.min(e,r),0);for(var o=r-1,s=0;s<e;s++){var a=ie(s,o),c=i[s];i[s]=i[a],i[a]=c}return i.slice(0,e)}function dn(t){return fn(t,1/0)}function pn(t,e,n){var i=0;return e=Qt(e,n),sn(Ge(t,(function(t,n,r){return{value:t,index:i++,criteria:e(t,n,r)}})).sort((function(t,e){var n=t.criteria,i=e.criteria;if(n!==i){if(n>i||void 0===n)return 1;if(n<i||void 0===i)return-1}return t.index-e.index})),'value')}function mn(t,e){return function(n,i,r){var o=e?[[],[]]:{};return i=Qt(i,r),Xe(n,(function(e,r){var s=i(e,r,n);t(o,e,s)})),o}}const gn=mn((function(t,e,n){q(t,n)?t[n].push(e):t[n]=[e]})),vn=mn((function(t,e,n){t[n]=e})),yn=mn((function(t,e,n){q(t,n)?t[n]++:t[n]=1})),bn=mn((function(t,e,n){t[n?0:1].push(e)}),!0);function xn(t){return null==t?0:Se(t)?t.length:at(t).length}function _n(t,e,n){return e in n}const wn=S((function(t,e){var n={},i=e[0];if(null==t)return n;$(i)?(e.length>1&&(i=Gt(i,e[1])),e=gt(t)):(i=_n,e=Ce(e,!1,!1),t=Object(t));for(var r=0,o=e.length;r<o;r++){var s=e[r],a=t[s];i(a,s,t)&&(n[s]=a)}return n})),En=S((function(t,e){var n,i=e[0];return $(i)?(i=je(i),e.length>1&&(n=e[1])):(e=Ge(Ce(e,!1,!1),String),i=function(t,n){return!rn(e,n)}),wn(t,i,n)}));function Sn(t,e,n){return u.call(t,0,Math.max(0,t.length-(null==e||n?1:e)))}function Cn(t,e,n){return null==t||t.length<1?null==e||n?void 0:[]:null==e||n?t[0]:Sn(t,t.length-e)}function Pn(t,e,n){return u.call(t,null==e||n?1:e)}function Mn(t,e,n){return null==t||t.length<1?null==e||n?void 0:[]:null==e||n?t[t.length-1]:Pn(t,Math.max(0,t.length-e))}function On(t){return Ze(t,Boolean)}function An(t,e){return Ce(t,e,!1)}const kn=S((function(t,e){return e=Ce(e,!0,!0),Ze(t,(function(t){return!rn(e,t)}))})),Nn=S((function(t,e){return kn(t,e)}));function Tn(t,e,n,i){O(e)||(i=n,n=e,e=!1),null!=n&&(n=Qt(n,i));for(var r=[],o=[],s=0,a=ot(t);s<a;s++){var c=t[s],l=n?n(c,s,t):c;e&&!n?(s&&o===l||r.push(c),o=l):n?rn(o,l)||(o.push(l),r.push(c)):rn(r,c)||r.push(c)}return r}const jn=S((function(t){return Tn(Ce(t,!0,!0))}));function In(t){for(var e=[],n=arguments.length,i=0,r=ot(t);i<r;i++){var o=t[i];if(!rn(e,o)){var s;for(s=1;s<n&&rn(arguments[s],o);s++);s===n&&e.push(o)}}return e}function Dn(t){for(var e=t&&cn(t,ot).length||0,n=Array(e),i=0;i<e;i++)n[i]=sn(t,i);return n}const Ln=S(Dn);function Rn(t,e){for(var n={},i=0,r=ot(t);i<r;i++)e?n[t[i]]=e[i]:n[t[i][0]]=t[i][1];return n}function Bn(t,e,n){null==e&&(e=t||0,t=0),n||(n=e<t?-1:1);for(var i=Math.max(Math.ceil((e-t)/n),0),r=Array(i),o=0;o<i;o++,t+=n)r[o]=t;return r}function Hn(t,e){if(null==e||e<1)return[];for(var n=[],i=0,r=t.length;i<r;)n.push(u.call(t,i,i+=e));return n}function $n(t,e){return t._chain?ut(e).chain():e}function zn(t){return Xe(Tt(t),(function(e){var n=ut[e]=t[e];ut.prototype[e]=function(){var t=[this._wrapped];return l.apply(t,arguments),$n(this,n.apply(ut,t))}})),ut}Xe(['pop','push','reverse','shift','sort','splice','unshift'],(function(t){var e=s[t];ut.prototype[t]=function(){var n=this._wrapped;return null!=n&&(e.apply(n,arguments),'shift'!==t&&'splice'!==t||0!==n.length||delete n[0]),$n(this,n)}})),Xe(['concat','join','slice'],(function(t){var e=s[t];ut.prototype[t]=function(){var t=this._wrapped;return null!=t&&(t=e.apply(t,arguments)),$n(this,t)}}));const Wn=ut;var Un=zn(i);Un._=Un;const Fn=Un}},e={};function n(i){var r=e[i];if(void 0!==r)return r.exports;var o=e[i]={exports:{}};return t[i].call(o.exports,o,o.exports,n),o.exports}n.n=t=>{var e=t&&t.__esModule?()=>t['default']:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var i in e)n.o(e,i)&&!n.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},n.g=function(){if('object'==typeof globalThis)return globalThis;try{return this||new Function('return this')()}catch(t){if('object'==typeof window)return window}}(),n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{'undefined'!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:'Module'}),Object.defineProperty(t,'__esModule',{value:!0})};var i={};return(()=>{"use strict";function t(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}n.r(i),n.d(i,{default:()=>E});var e=n(316),r=n(50);const o=function(t){var e=!1;do{e=e?e.parent():t.parent()}while(e&&!e.get('selectable'));return e},s=function(t){var e=!1;do{e=e?e.getChildAt(0):t.getChildAt(0)}while(e&&!e.get('selectable'));return e};function a(t){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}const c=e.View.extend({template:r["default"].template("\n        <% \n        actionClass = ( typeof model.class === 'function' ) ? model.class() : model.class \n        actionValue = ( typeof model.value === 'function' ) ? model.value() : model.value\n        actionLabel = ( typeof model.label === 'function' ) ? model.label() : model.label\n        %>\n        <% if(model.type == 'button'){ %>\n            <button class=\"gcm-item gcm-item-button <%= actionClass %>\"><%= actionLabel %></button>\n        <% } %>\n        <% if(model.type == 'range'){ %>\n            <span class=\"gcm-range-output\"><%= actionValue %></div>\n        <% } %>\n        <% if(model.type == 'color'){ %>\n            <button class=\"gcm-item gcm-item-color <%= actionClass %>\">\n                <span style=\"background-color:<%= actionValue %>\"></span>\n            </button>\n        <% } %>\n        <% if(model.type == 'message'){ %>\n            <div class=\"gcm-item <%= actionClass %>\"><%= actionLabel %></div>\n        <% } %>\n        <% if(model.type == 'custom'){ %>\n            <% print( model.content ) %>\n        <% } %>\n        <% if(model.type == 'toggle'){ \n            actionClass += ( model.isOpen) ? ' active' : ''\n            %>\n            <button class=\"gcm-item gcm-item-toggle <%= actionClass %>\"><i class=\"material-symbols-outlined\">arrow_downward</i></button>\n        <% } %>\n        <% if(model.type == 'input'){ %>\n            <input class=\"gcm-item gcm-item-input <%= actionClass %>\" type=\"<%= model.inputType %>\" value=\"<%= actionValue %>\" min=\"<%= model.min %>\" max=\"<%= model.max %>\" />\n        <% } %>\n    "),initialize:function(){this.render()},render:function(){var t=this.model.toJSON();return this.$el.html(this.template({model:t})),this}});var l=e.View.extend({template:r["default"].template("\n        <% \n        actionClass = ( typeof model.class === 'function' ) ? model.class() : model.class \n        actionValue = ( typeof model.value === 'function' ) ? model.value() : model.value\n        actionTitle = ( model.title && typeof model.title === 'object' ) ? model.title.label : model.title\n        %>\n        <% if(actionTitle){ %>\n            <% if(typeof model.title === 'object' && 'position' in model.title) print('<div class=\"title-'+ model.title.position +'\">') %>\n                <h5><span><%= actionTitle %></span></h5>\n        <% } %>\n\n        <% if(model.type == 'range'){ %>\n            <div class=\"gcm-item gcm-range-wrapper <%= actionClass %>\">\n                <input type=\"range\" min=\"<%= model.min %>\" max=\"<%= model.max %>\" value=\"<%= actionValue %>\">\n                <div class=\"form-element\"></div>\n            </div>\n        <% } else { %>\n            <div class=\"form-element\"></div>\n        <% } %>\n        \n        <% if(actionTitle && typeof model.title === 'object' && 'position' in model.title) print('</div>') %>\n    "),initialize:function(){this.render()},render:function(){var t=this.model.toJSON();this.$el.html(this.template({model:t,cid:this.model.cid})),this.renderFormElement(),t.title&&'object'===a(t.title)&&'position'in t.title&&this.el.classList.add("title-"+t.title.position),'function'==typeof t.onOpen&&t.onOpen(this.el)},renderFormElement:function(){var t=this.model.toJSON(),e=new c({model:this.model});this.el.querySelector('.form-element').replaceChildren(e.el),this.el.style.display=1==t.active?'block':'none'},update:function(){this.renderFormElement()},events:{'click .gcm-item-button':'handleButtonClick','click .gcm-item-color':'handleColorClick','click .gcm-item-toggle':'handleToggleClick','input input[type="range"]':'handleRangeDrag','change input[type="range"]':'handleRangeDragEnd','change input[type="number"]':'handleInputNumber','change input[type="text"]':'handleInput'},handleButtonClick:function(t){t.preventDefault();var e=this.model.toJSON(),n=e.command,i=e.args,r=e.editor;r.contextMenu.colorPicker.hide(),n&&(i.component=r.contextMenu.model.get('selected'),r.runCommand(n,i),this.checkRerender())},handleColorClick:function(t){var e=this;t.preventDefault();var n=this.model.toJSON(),i=n.command,r=n.args,o=n.value,s=n.editor;if(i){s.contextMenu.colorPicker.getView().handleVisibility(o,(function(t){r.value=t,r.component=s.contextMenu.model.get('selected'),e.model.set('value',t),s.runCommand(i,r)}),t.target,r)}},handleRangeDrag:function(t){t.preventDefault();var e=this.model.toJSON(),n=e.command,i=e.args,r=e.editor;r.contextMenu.colorPicker.hide(),t.target.parentNode.querySelector('.gcm-range-output').textContent=t.target.value,n&&(i.component=r.contextMenu.model.get('selected'),i.value=t.target.value,r.runCommand(n,i))},handleRangeDragEnd:function(t){t.preventDefault();var e=this.model.toJSON(),n=e.command,i=e.args,r=e.editor;n&&r.Commands.has(n+':end')&&(i.component=r.contextMenu.model.get('selected'),i.value=t.target.value,r.runCommand(n+':end',i))},handleToggleClick:function(t){t.preventDefault();var e=this.model.toJSON(),n=e.editor,i=e.isOpen;n.contextMenu.colorPicker.hide(),this.model.set('isOpen',!i);var r=this.model.collection.indexOf(this.model);this.model.collection.forEach((function(t,e){if(e>r){var n=!i;t.set('active',n)}})),n.contextMenu.trigger('update:view')},handleInput:function(t){t.preventDefault();var e=this.model.toJSON(),n=e.command,i=e.args,r=e.editor;r.contextMenu.colorPicker.hide();var o=t.target.value;n&&(i.component=r.contextMenu.model.get('selected'),i.value=o,r.runCommand(n,i),this.checkRerender())},updateOnEnter:function(t){13==t.keyCode&&this.handleInput(t)},handleInputNumber:function(t){t.preventDefault();var e=this.model.toJSON(),n=e.command,i=e.min,r=e.max;e.editor.contextMenu.colorPicker.hide();var o=t.target.value;n&&o>=i&&o<=r?this.handleInput(t):alert('Value not allowed')},checkRerender:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{force:!1},e=this.model.toJSON(),n=e.rerender,i=e.editor;if(n='boolean'==typeof n?{partial:n,full:!1}:n,t.force&&(n={partial:!1,full:!0}),n.full||n.partial){var r=n.full?'rerender:actions':'rerender:view';i.contextMenu.trigger(r)}}}),u=e.View.extend({el:'.gcm__actions',initialize:function(){this.render()},render:function(){var t=this;this.$el.html('');var e=document.createElement('div');this.model.toJSON().actions.forEach((function(n){if('options'==n.get('type'))t.handleGroupedActions(n,e);else{var i=t.instantiateActionView(n);e.append(i.el)}})),this.$el.append(e)},instantiateActionView:function(t){var e=new l({model:t});return t.set('__view',e),e},handleGroupedActions:function(t,e){var n=this,i=t.toJSON(),r=document.createElement('div');if(r.className="gcm-distribute-box-wrapper",i.title){var o=document.createElement('h5'),s=document.createTextNode(i.title);o.appendChild(s),r.append(o)}var a=[[]];i.models.forEach((function(t){var e=t.get('type');'break'!=e&&a.at(-1).push(t),'break'!=e&&'toggle'!=e||a.push([])}));var c=!1,l=!1;a.forEach((function(t,e){var o=document.createElement('div');o.className="gcm-distribute-box",i.class&&o.classList.add(i.class),i.gap&&(o.style.gap=i.gap+'px'),t.forEach((function(t){var e=t.get('type');if('options'==e)n.handleGroupedActions(t,o);else{'toggle'==e&&(c=!0,l=t.get('isOpen')),c&&'toggle'!=e&&t.set('active',l);var i=n.instantiateActionView(t);o.append(i.el)}})),r.append(o)})),e.append(r)}}),h=e.View.extend({el:'.gcm__header',template:r["default"].template("\n        <div class=\"gcm__header__row\">\n            <div class=\"gcm__header__title\"><%= componentName %></div>\n            <div class=\"gcm__header__actions\">\n                <button class=\"gcm-open-style-manager\" title=\"Style Manager\"><i class=\"material-symbols-outlined\">edit</i></button>\n                <% if(isCopiable){ %>\n                    <button class=\"gcm-clone\" title=\"Duplicate\"><i class=\"material-symbols-outlined\">content_copy</i></button>\n                <% } %>\n                <button class=\"gcm-copy-styles\" title=\"Copy styles\"><i class=\"material-symbols-outlined\">logout</i></button>\n                <button class=\"gcm-paste-styles <%= clipboardClass %>\" title=\"Paste styles\"><i class=\"material-symbols-outlined\">login</i></button>\n                <% if(isRemovable){ %>\n                    <button class=\"gcm-delete\" title=\"Delete\"><i class=\"material-symbols-outlined\">delete</i></button>\n                <% } %>\n                <button class=\"gcm-close\" title=\"Close\"><i class=\"material-symbols-outlined\">cancel</i></button>\n            </div>\n        </div>\n        <div class=\"gcm__header__row breadcrumbs-wrapper\">\n            <div class=\"gcm__header__breadcrumbs\">\n                <p>\n                <% breadcrumbs.forEach( (c,i) => {\n                    isLast = ( (i+1) == breadcrumbs.length ) ? true : false;\n                    if( !isLast ) print( '<a href=\"#\" title=\"'+c.name+'\" class=\"'+c.class+'\">' )\n                    print( c.name )\n                    if( !isLast ) print( '</a> > ' )\n                }) %>\n                </p>\n            </div>\n            <div class=\"gcm__header__actions\">\n                <% if(hasSelectableParent){ %>\n                    <button class=\"gcm-select-parent\" title=\"Select parent\"><i class=\"material-symbols-outlined\">arrow_upward</i></button>\n                <% } %>\n                <% if(hasSelectableChild){ %>\n                    <button class=\"gcm-select-child\" title=\"Select child\"><i class=\"material-symbols-outlined\">arrow_downward</i></button>\n                <% } %>\n            </div>\n        </div>\n    "),initialize:function(){this.render()},render:function(){var t=this.model.toJSON(),e=t.selected,n=t.clipboard,i=!!e&&e.get('copyable'),r=!!e&&e.get('removable'),a=!!e&&o(e),c=!!e&&s(e),l=e?e.getName():'NoName',u=[],h=a,f=!1;if(a){do{f=f?f.parent():h.parent()}while(f&&!f.get('selectable'));f&&u.push({name:f.getName(),class:'gcm-select-grandpa'}),u.push({name:h.getName(),class:'gcm-select-parent'})}u.push({name:l,class:''});var d=null!=n?'':'disabled';this.$el.html(this.template({selected:e,hasSelectableChild:c,hasSelectableParent:a,breadcrumbs:u,componentName:l,isCopiable:i,isRemovable:r,clipboardClass:d}))},events:{'click .gcm-open-style-manager':'openStyleManager','click .gcm-select-grandpa':'selectGrandpa','click .gcm-select-parent':'selectParent','click .gcm-select-child':'selectChild','click .gcm-close':'close','click .gcm-delete':'deleteComponent','click .gcm-clone':'cloneComponent','click .gcm-copy-styles':'copyStyles','click .gcm-paste-styles':'pasteStyles'},selectGrandpa:function(t){t.preventDefault();var e=this.model.toJSON(),n=e.editor,i=e.selected;n.contextMenu.colorPicker.hide(),n.runCommand('gcm-select-grandpa',{component:i})},selectParent:function(t){t.preventDefault();var e=this.model.toJSON(),n=e.editor,i=e.selected;n.contextMenu.colorPicker.hide(),n.runCommand('gcm-select-parent',{component:i})},selectChild:function(t){t.preventDefault();var e=this.model.toJSON(),n=e.editor,i=e.selected;n.contextMenu.colorPicker.hide(),n.runCommand('gcm-select-child',{component:i})},close:function(t){t.preventDefault(),this.model.get('editor').runCommand('gcm-close',{})},openStyleManager:function(t){t.preventDefault(),this.model.get('editor').runCommand('open-style-manager',{})},deleteComponent:function(t){t.preventDefault();var e=this.model.get('editor');e.contextMenu.colorPicker.hide(),e.runCommand('tlb-delete',{})},cloneComponent:function(t){t.preventDefault();var e=this.model.get('editor');e.contextMenu.colorPicker.hide(),e.runCommand('tlb-clone',{})},copyStyles:function(t){t.preventDefault();var e=this.model.get('editor');e.contextMenu.colorPicker.hide(),e.runCommand('gcm-copy-styles',{})},pasteStyles:function(t){t.preventDefault();var e=this.model.get('editor');e.contextMenu.colorPicker.hide(),e.runCommand('gcm-paste-styles',{})}}),f=n(384),d=n.n(f),p=e.View.extend({el:'#gjs-context-menu',template:r["default"].template("\n        <div class=\"gcm__header\"></div>\n        <div class=\"gcm__actions\"></div>\n        <div class=\"gcm__color-picker\"></div>\n    "),initialize:function(){var t=this,e=this.model.get('editor');e.on('trait:custom',(function(){t.prepare()})),e.on('style:custom',(function(){t.update()})),e.on('canvas:drop',(function(){e.contextMenu.view.closeContextMenu()}),this),this.render()},render:function(){this.$el.html(this.template());var t=this.model.get('editor');this.model.set({iframe:t.Canvas.getFrameEl().contentDocument.body,canvas:t.Canvas.getElement(),headerView:new h({model:this.model}),actionsView:new u({model:this.model})}),this.handleDragFuncionality(),this.handleContextMenuEvent(),this.handleClickOutside()},prepare:function(){var t=this.model.toJSON(),e=t.headerView,n=t.actionsView;e.render(),n.render()},update:function(){var t=this.model.toJSON().actions;this.updateActionsRecursive(t)},updateActionsRecursive:function(t){var e=this;t.forEach((function(t){var n=t.get('type');'options'==n?e.updateActionsRecursive(t.get('models')):'break'!=n&&t.get('__view').update()}))},handleDragFuncionality:function(){var t=this,e=this.model.toJSON(),n=e.iframe,i=e.canvas,r=e.headerView,o=new(d())(this.el,{containment:i,handle:r.el});o.on('dragMove',(function(e,i){n.style.pointerEvents="none",t.el.classList.add('dragging')})),o.on('dragEnd',(function(e,i){n.style.pointerEvents="initial",t.el.classList.remove('dragging')}))},handleContextMenuEvent:function(){var t=this,e=this.model.toJSON(),n=e.iframe,i=e.selected;n.addEventListener('contextmenu',(function(e){t.closeContextMenu(),null!=i&&(e.preventDefault(),t.openContextMenu(e))}),!1)},handleClickOutside:function(){var t=this;this.model.toJSON().iframe.addEventListener('click',(function(e){t.closeContextMenu()}),!1),document.querySelector("body").addEventListener('click',(function(e){null!=e.target.offsetParent&&e.target.offsetParent!=t.el&&t.closeContextMenu()}),!1)},openContextMenu:function(t){var e=t.clientX,n=t.clientY,i=this.normalizePosition(e,n),r=i.normalizedX,o=i.normalizedY;this.el.style.top="".concat(o,"px"),this.el.style.left="".concat(r,"px"),this.el.classList.add("visible"),this.model.set({active:!0})},closeContextMenu:function(){this.el.classList.remove("visible"),this.model.set({active:!1}),this.model.get('editor').contextMenu.colorPicker.hide()},normalizePosition:function(t,e){var n=this.model.toJSON().canvas,i=this.el,r=t,o=e,s=t+i.clientWidth>n.clientWidth,a=e+i.clientHeight>n.clientHeight;return s&&(r=n.clientWidth-i.clientWidth),a&&(o=n.clientHeight-i.clientHeight),{normalizedX:r,normalizedY:o}}});function m(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function g(t){return function(t){if(Array.isArray(t))return m(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return m(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?m(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var v=e.Model.extend({defaults:{type:'custom',label:'Action',command:null,title:null,rerender:{partial:!1,full:!1},args:{},active:!0,class:'',min:0,max:100,default:0,options:[],content:'',onOpen:null,inputType:'text',value:'',isOpen:!1}});r["default"].extend(v,e.Events);var y=e.Model.extend({defaults:{active:!1,actions:[],editor:null,selected:null,clipboard:null},initialize:function(){var t=this;this.toJSON().editor.on('component:selected',(function(e){t.set({selected:e})})),this.on('change:selected',this.populateActions,this),this.populateActions()},populateActions:function(){var t=this,e=this.getGlobalActions(),n=this.getComponentActions(),i=[].concat(g(e),g(n)),r=this.get('actions');r.reset(),i.forEach((function(e){var n=t.instantiateAction(e);r.add(n),'options'==e.type&&t.handleInnerActions(n)}))},getGlobalActions:function(){return[]},getComponentActions:function(){var t=this.toJSON(),e=t.selected,n=t.options;if(void 0===e)return[];var i=e.get('type'),r=[];'actions'in n&&i in n.actions&&'function'==typeof n.actions[i]&&(r=n.actions[i](e));var o=[],s=e.get('contextMenu')||[];return'function'==typeof s&&(o=s(e)),[].concat(g(o),g(r))},instantiateAction:function(t){var e=new v(t);return e.set('editor',this.get('editor')),e},handleInnerActions:function(t){var n=this,i=new e.Collection,r=t.get('options');(r='function'==typeof r?r():r).forEach((function(t){var e=n.instantiateAction(t);i.add(e),'options'==t.type&&n.handleInnerActions(e)})),t.set('models',i)}}),b=e.Collection.extend({model:v,initialize:function(){}});const x=function(t){t.on('component:remove',(function(e){t.contextMenu.model.get('selected').cid==e.cid&&(t.contextMenu.view.closeContextMenu(),t.contextMenu.model.set('selected',t.getWrapper()))}))};function _(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function w(e){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?_(Object(i),!0).forEach((function(n){t(e,n,i[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):_(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}const E=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=w(w({},{}),n);t.on('load',(function(){!function(){var t='cssIcons';if(!document.getElementById(t)){var e=document.getElementsByTagName('head')[0],n=document.createElement('link');n.id=t,n.rel='stylesheet',n.type='text/css',n.href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,300,0,0",n.media='all',e.appendChild(n)}}();var n=document.createElement('div');n.setAttribute("id","gjs-context-menu"),document.querySelector('.gjs-editor').append(n);var a=new y({editor:t,options:i,actions:new b,selected:t.getWrapper()});t.contextMenu={model:a,view:new p({model:a})},r["default"].extend(t.contextMenu,e.Events),t.contextMenu.on('rerender:actions',(function(t){this.model.populateActions(),this.model.get('actionsView').render()})),t.contextMenu.on('rerender:view',(function(t){this.model.get('actionsView').render()})),t.contextMenu.on('update:view',(function(t){this.view.update()})),function(t){var e=t.Commands;e.add('gcm-select-parent',(function(t,e){var n=t.contextMenu.model.get('selected'),i=o(n);i&&t.select(i)})),e.add('gcm-select-grandpa',(function(t,e){var n=t.contextMenu.model.get('selected'),i=o(n),r=!1;do{r=r?r.parent():i.parent()}while(r&&!r.get('selectable'));r&&t.select(r)})),e.add('gcm-select-child',(function(t,e){var n=t.contextMenu.model.get('selected'),i=s(n);i&&t.select(i)})),e.add('gcm-close',(function(t,e){t.contextMenu.view.closeContextMenu()})),e.add('gcm-copy-styles',(function(t,e){var n={},i=t.contextMenu.model.get('selected');n.cmp=i,n.styles=i.getStyle(),t.contextMenu.model.set({clipboard:n})})),e.add('gcm-paste-styles',(function(t,e){t.trigger('before:paste:styles');var n=t.contextMenu.model.get('selected'),i=t.contextMenu.model.get('clipboard').styles||{};(n.get('unstylable')||[]).forEach((function(t){delete i[t]})),n.addStyle(i)}))}(t),function(t){[x].map((function(e){return e(t)}))}(t),t.contextMenu.colorPicker=function(t){var n,i;return(n=e.Model.extend({defaults:{value:'#000000',onChange:null,active:!1,handle:null}}),i=e.View.extend({el:'.gcm__color-picker',className:'gcm-color-picker-wrapper',template:function(){return"<input type='text' class=\"gcm-color-picker\" />"},initialize:function(){this.model.on('change:value',this.setPickerColor,this),this.render(),this.initPicker()},render:function(){this.$el.html(this.template())},initPicker:function(){var e=this,n=this.el.querySelector('input'),i=t.getModel().initBaseColorPicker(n,{preferredFormat:"hex",showInput:!0,flat:!0,clickoutFiresChange:!1,showButtons:!1,allowEmpty:!0,move:function(t){e.onChangeColor(t)}});i.spectrum('container')[0].querySelector('.sp-input').addEventListener('change',(function(){var t=i.spectrum('get');e.onChangeColor(t)}),!1),i.spectrum('container')[0].style.display="none",this.model.set({ui:i})},setPickerColor:function(){this.model.get('ui').spectrum("set",this.model.get('value'))},onChangeColor:function(t){var e='';t&&(e=t._a<1?t.toRgbString():t.toHexString());var n=this.model.get('onChange');'function'==typeof n&&n(e)},handleVisibility:function(t,e,n,i){var r=this.model.toJSON(),o=r.active,s=r.ui,a=r.handleArgs,c=s.spectrum('container')[0];this.model.set({value:t,onChange:e,handle:n,handleArgs:i}),o?a.property==i.property?(c.style.display='none',this.model.set({active:!1})):this.setPosition():(c.style.display='block',this.setPosition(),this.model.set({active:!0}))},setPosition:function(){var t=this.model.toJSON(),e=t.ui,n=t.handle,i=e.spectrum('container')[0],r=this.getPosition(n),o=r.top,s=r.left,a=r.height;i.style.position='absolute',i.style.top="".concat(o+a,"px"),i.style.left="".concat(s,"px")},getPosition:function(e){var n=t.contextMenu.view.el.getBoundingClientRect(),i=e.getBoundingClientRect(),r={};return r.top=i.top-n.top,r.right=i.right-n.right,r.bottom=i.bottom-n.bottom,r.left=i.left-n.left,r.height=i.height,r}}),{init:function(){var t=new n;return this.model=t,this.view=new i({model:t}),this},getView:function(){return this.view},hide:function(){this.model.toJSON().active&&(this.model.toJSON().ui.spectrum('container')[0].style.display='none',this.model.set({active:!1}))}}).init()}(t)}))}})(),i})()));
//# sourceMappingURL=index.js.map